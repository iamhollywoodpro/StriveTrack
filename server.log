Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/usr/local/lib/python3.12/http/server.py", line 1314, in <module>
    test(
  File "/usr/local/lib/python3.12/http/server.py", line 1261, in test
    with ServerClass(addr, HandlerClass) as httpd:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/socketserver.py", line 457, in __init__
    self.server_bind()
  File "/usr/local/lib/python3.12/http/server.py", line 1308, in server_bind
    return super().server_bind()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/http/server.py", line 136, in server_bind
    socketserver.TCPServer.server_bind(self)
  File "/usr/local/lib/python3.12/socketserver.py", line 478, in server_bind
    self.socket.bind(self.server_address)
OSError: [Errno 98] Address already in use
2025-09-09T00:13:47: 
2025-09-09T00:13:47:  ⛅️ wrangler 4.24.3 (update available 4.34.0)
2025-09-09T00:13:47: ─────────────────────────────────────────────
2025-09-09T00:13:47: 
2025-09-09T00:13:47:  ⛅️ wrangler 4.24.3 (update available 4.34.0)
2025-09-09T00:13:47: ─────────────────────────────────────────────
2025-09-09T00:13:48: ✨ Compiled Worker successfully
2025-09-09T00:13:48: ✨ Compiled Worker successfully
2025-09-09T00:13:48: Your Worker has access to the following bindings:
2025-09-09T00:13:48: Your Worker has access to the following bindings:
2025-09-09T00:13:48: Binding                                                    Resource                  Mode
2025-09-09T00:13:48: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T00:13:48: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T00:13:48: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T00:13:48: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T00:13:48: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T00:13:48: Binding                                                    Resource                  Mode
2025-09-09T00:13:48: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T00:13:48: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T00:13:48: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T00:13:48: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T00:13:48: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T00:13:48: 
2025-09-09T00:13:48: 
2025-09-09T00:13:48: ⎔ Starting local server...
2025-09-09T00:13:48: ⎔ Starting local server...
2025-09-09T00:13:49: [wrangler:info] Ready on http://localhost:8787
2025-09-09T00:13:49: [wrangler:info] Ready on http://localhost:8787
2025-09-09T00:13:56: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mError initializing admin user: Error: D1_ERROR: no such table: users: SQLITE_ERROR[0m
2025-09-09T00:13:56: 
2025-09-09T00:13:56:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T00:13:56:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:       ... 7 lines matching cause stack trace ...
2025-09-09T00:13:56:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-09T00:13:56:     [cause]: Error: no such table: users: SQLITE_ERROR
2025-09-09T00:13:56:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T00:13:56:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:         at async initializeDatabase (file:///home/user/webapp/functions/_middleware.js:44:28)
2025-09-09T00:13:56:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:25:9)
2025-09-09T00:13:56:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T00:13:56:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:   }
2025-09-09T00:13:56: 
2025-09-09T00:13:56: 
2025-09-09T00:13:56: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mError initializing admin user: Error: D1_ERROR: no such table: users: SQLITE_ERROR[0m
2025-09-09T00:13:56: 
2025-09-09T00:13:56:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T00:13:56:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:       ... 7 lines matching cause stack trace ...
2025-09-09T00:13:56:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-09T00:13:56:     [cause]: Error: no such table: users: SQLITE_ERROR
2025-09-09T00:13:56:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T00:13:56:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:         at async initializeDatabase (file:///home/user/webapp/functions/_middleware.js:44:28)
2025-09-09T00:13:56:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:25:9)
2025-09-09T00:13:56:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T00:13:56:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:   }
2025-09-09T00:13:56: 
2025-09-09T00:13:56: 
2025-09-09T00:13:56: [wrangler:info] GET / 200 OK (384ms)
2025-09-09T00:13:56: [wrangler:info] GET / 200 OK (384ms)
2025-09-09T00:13:56: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mError initializing admin user: Error: D1_ERROR: no such table: users: SQLITE_ERROR[0m
2025-09-09T00:13:56: 
2025-09-09T00:13:56:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T00:13:56:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:       ... 7 lines matching cause stack trace ...
2025-09-09T00:13:56:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-09T00:13:56:     [cause]: Error: no such table: users: SQLITE_ERROR
2025-09-09T00:13:56:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T00:13:56:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:         at async initializeDatabase (file:///home/user/webapp/functions/_middleware.js:44:28)
2025-09-09T00:13:56:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:25:9)
2025-09-09T00:13:56:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T00:13:56:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:   }
2025-09-09T00:13:56: 
2025-09-09T00:13:56: 
2025-09-09T00:13:56: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mError initializing admin user: Error: D1_ERROR: no such table: users: SQLITE_ERROR[0m
2025-09-09T00:13:56: 
2025-09-09T00:13:56:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T00:13:56:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:       ... 7 lines matching cause stack trace ...
2025-09-09T00:13:56:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-09T00:13:56:     [cause]: Error: no such table: users: SQLITE_ERROR
2025-09-09T00:13:56:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T00:13:56:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:         at async initializeDatabase (file:///home/user/webapp/functions/_middleware.js:44:28)
2025-09-09T00:13:56:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:25:9)
2025-09-09T00:13:56:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T00:13:56:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:   }
2025-09-09T00:13:56: 
2025-09-09T00:13:56: 
2025-09-09T00:13:56: [wrangler:info] GET /app.js 200 OK (97ms)
2025-09-09T00:13:56: [wrangler:info] GET /app.js 200 OK (97ms)
2025-09-09T00:13:56: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mError initializing admin user: Error: D1_ERROR: no such table: users: SQLITE_ERROR[0m
2025-09-09T00:13:56: 
2025-09-09T00:13:56:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T00:13:56:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:       ... 7 lines matching cause stack trace ...
2025-09-09T00:13:56:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-09T00:13:56:     [cause]: Error: no such table: users: SQLITE_ERROR
2025-09-09T00:13:56:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T00:13:56:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:         at async initializeDatabase (file:///home/user/webapp/functions/_middleware.js:44:28)
2025-09-09T00:13:56:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:25:9)
2025-09-09T00:13:56:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T00:13:56:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:   }
2025-09-09T00:13:56: 
2025-09-09T00:13:56: 
2025-09-09T00:13:56: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mError initializing admin user: Error: D1_ERROR: no such table: users: SQLITE_ERROR[0m
2025-09-09T00:13:56: 
2025-09-09T00:13:56:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T00:13:56:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:       ... 7 lines matching cause stack trace ...
2025-09-09T00:13:56:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-09T00:13:56:     [cause]: Error: no such table: users: SQLITE_ERROR
2025-09-09T00:13:56:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T00:13:56:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T00:13:56:         at async initializeDatabase (file:///home/user/webapp/functions/_middleware.js:44:28)
2025-09-09T00:13:56:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:25:9)
2025-09-09T00:13:56:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T00:13:56:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T00:13:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T00:13:56:   }
2025-09-09T00:13:56: 
2025-09-09T00:13:56: 
2025-09-09T00:13:56: [wrangler:info] GET /favicon.ico 200 OK (63ms)
2025-09-09T00:13:56: [wrangler:info] GET /favicon.ico 200 OK (63ms)
2025-09-09T00:15:04: Created admin user: iamhollywoodpro@protonmail.com
2025-09-09T00:15:04: Created admin user: iamhollywoodpro@protonmail.com
2025-09-09T00:15:04: [wrangler:info] POST /api/auth/login 401 Unauthorized (545ms)
2025-09-09T00:15:04: [wrangler:info] POST /api/auth/login 401 Unauthorized (545ms)
2025-09-09T00:15:04: [wrangler:info] POST /api/auth/login 401 Unauthorized (34ms)
2025-09-09T00:15:04: [wrangler:info] POST /api/auth/login 401 Unauthorized (34ms)
2025-09-09T00:15:34: [wrangler:info] POST /api/auth/login 200 OK (537ms)
2025-09-09T00:15:34: [wrangler:info] POST /api/auth/login 200 OK (537ms)
2025-09-09T00:15:35: [wrangler:info] POST /api/auth/login 200 OK (525ms)
2025-09-09T00:15:35: [wrangler:info] POST /api/auth/login 200 OK (525ms)
2025-09-09T00:15:43: [wrangler:info] POST /api/auth/login 200 OK (681ms)
2025-09-09T00:15:43: [wrangler:info] POST /api/auth/login 200 OK (681ms)
2025-09-09T00:15:43: [wrangler:info] GET /api/habits 200 OK (37ms)
2025-09-09T00:15:43: [wrangler:info] GET /api/habits 200 OK (37ms)
2025-09-09T00:15:43: [wrangler:info] GET /api/habits/weekly 200 OK (66ms)
2025-09-09T00:15:43: [wrangler:info] GET /api/habits/weekly 200 OK (66ms)
2025-09-09T00:15:43: [wrangler:info] GET /api/achievements 200 OK (56ms)
2025-09-09T00:15:43: [wrangler:info] GET /api/achievements 200 OK (56ms)
2025-09-09T00:15:44: [wrangler:info] POST /api/auth/login 200 OK (630ms)
2025-09-09T00:15:44: [wrangler:info] POST /api/auth/login 200 OK (630ms)
2025-09-09T00:16:10: [wrangler:info] POST /api/auth/login 200 OK (485ms)
2025-09-09T00:16:10: [wrangler:info] POST /api/auth/login 200 OK (485ms)
2025-09-09T00:16:10: [wrangler:info] GET /api/habits 200 OK (28ms)
2025-09-09T00:16:10: [wrangler:info] GET /api/habits 200 OK (28ms)
2025-09-09T00:16:10: [wrangler:info] GET /api/habits/weekly 200 OK (30ms)
2025-09-09T00:16:10: [wrangler:info] GET /api/habits/weekly 200 OK (30ms)
2025-09-09T00:16:10: [wrangler:info] GET /api/achievements 200 OK (23ms)
2025-09-09T00:16:10: [wrangler:info] GET /api/achievements 200 OK (23ms)
2025-09-09T00:16:11: [wrangler:info] POST /api/auth/login 200 OK (467ms)
2025-09-09T00:16:11: [wrangler:info] POST /api/auth/login 200 OK (467ms)
2025-09-09T01:52:52: [wrangler:info] GET / 304 Not Modified (60ms)
2025-09-09T01:52:52: [wrangler:info] GET / 304 Not Modified (60ms)
2025-09-09T01:52:52: [wrangler:info] GET /app.js 200 OK (33ms)
2025-09-09T01:52:52: [wrangler:info] GET /app.js 200 OK (33ms)
2025-09-09T01:52:52: [wrangler:info] GET /api/auth/validate-session 401 Unauthorized (16ms)
2025-09-09T01:52:52: [wrangler:info] GET /api/auth/validate-session 401 Unauthorized (16ms)
2025-09-09T01:53:01: [wrangler:info] POST /api/auth/login 200 OK (464ms)
2025-09-09T01:53:01: [wrangler:info] POST /api/auth/login 200 OK (464ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/habits/weekly 200 OK (26ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/habits/weekly 200 OK (26ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/admin/media 200 OK (59ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/admin/media 200 OK (59ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/habits 200 OK (59ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/habits 200 OK (59ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/achievements 200 OK (29ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/achievements 200 OK (29ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/admin/users 200 OK (87ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/admin/users 200 OK (87ms)
2025-09-09T01:53:02: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T01:53:02: 
2025-09-09T01:53:02:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T01:53:02:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:02:       ... 7 lines matching cause stack trace ...
2025-09-09T01:53:02:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T01:53:02:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T01:53:02:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T01:53:02:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:02:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T01:53:02:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:02:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T01:53:02:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:02:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T01:53:02:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:02:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T01:53:02:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:02:   }
2025-09-09T01:53:02: 
2025-09-09T01:53:02: 
2025-09-09T01:53:02: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T01:53:02: 
2025-09-09T01:53:02:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T01:53:02:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:02:       ... 7 lines matching cause stack trace ...
2025-09-09T01:53:02:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T01:53:02:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T01:53:02:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T01:53:02:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:02:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T01:53:02:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:02:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T01:53:02:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:02:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T01:53:02:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:02:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T01:53:02:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:02:   }
2025-09-09T01:53:02: 
2025-09-09T01:53:02: 
2025-09-09T01:53:02: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (81ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/media/enhanced 200 OK (83ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (81ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/media/enhanced 200 OK (83ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/admin/users 200 OK (37ms)
2025-09-09T01:53:02: [wrangler:info] GET /api/admin/users 200 OK (37ms)
2025-09-09T01:53:03: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-09T01:53:03: 
2025-09-09T01:53:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T01:53:03:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T01:53:03:       ... 7 lines matching cause stack trace ...
2025-09-09T01:53:03:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-09T01:53:03:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-09T01:53:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T01:53:03:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T01:53:03:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-09T01:53:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:32:33)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T01:53:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T01:53:03:   }
2025-09-09T01:53:03: 
2025-09-09T01:53:03: 
2025-09-09T01:53:03: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-09T01:53:03: 
2025-09-09T01:53:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T01:53:03:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T01:53:03:       ... 7 lines matching cause stack trace ...
2025-09-09T01:53:03:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-09T01:53:03:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-09T01:53:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T01:53:03:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-09T01:53:03:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-09T01:53:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:32:33)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T01:53:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T01:53:03:   }
2025-09-09T01:53:03: 
2025-09-09T01:53:03: 
2025-09-09T01:53:03: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-09T01:53:03: 
2025-09-09T01:53:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T01:53:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:03:       ... 7 lines matching cause stack trace ...
2025-09-09T01:53:03:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-09T01:53:03:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-09T01:53:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T01:53:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:03:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-09T01:53:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T01:53:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T01:53:03:   }
2025-09-09T01:53:03:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-09T01:53:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T01:53:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:03:       ... 7 lines matching cause stack trace ...
2025-09-09T01:53:03:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T01:53:03:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-09T01:53:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T01:53:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T01:53:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T01:53:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:03:   }
2025-09-09T01:53:03: 
2025-09-09T01:53:03: 
2025-09-09T01:53:03: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-09T01:53:03: 
2025-09-09T01:53:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T01:53:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:03:       ... 7 lines matching cause stack trace ...
2025-09-09T01:53:03:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-09T01:53:03:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-09T01:53:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T01:53:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:03:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-09T01:53:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T01:53:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T01:53:03:   }
2025-09-09T01:53:03:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-09T01:53:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T01:53:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:03:       ... 7 lines matching cause stack trace ...
2025-09-09T01:53:03:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T01:53:03:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-09T01:53:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T01:53:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T01:53:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T01:53:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T01:53:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:03:   }
2025-09-09T01:53:03: 
2025-09-09T01:53:03: 
2025-09-09T01:53:03: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (34ms)
2025-09-09T01:53:03: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (34ms)
2025-09-09T01:53:04: [wrangler:info] GET /api/achievements 200 OK (33ms)
2025-09-09T01:53:04: [wrangler:info] GET /api/achievements 200 OK (33ms)
2025-09-09T01:53:04: [wrangler:info] GET /api/leaderboards 200 OK (58ms)
2025-09-09T01:53:04: [wrangler:info] GET /api/leaderboards 200 OK (58ms)
2025-09-09T01:53:04: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T01:53:04: 
2025-09-09T01:53:04:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T01:53:04:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:04:       ... 7 lines matching cause stack trace ...
2025-09-09T01:53:04:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T01:53:04:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T01:53:04:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T01:53:04:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:04:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T01:53:04:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:04:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T01:53:04:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:04:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T01:53:04:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:04:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T01:53:04:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:04:   }
2025-09-09T01:53:04: 
2025-09-09T01:53:04: 
2025-09-09T01:53:04: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T01:53:04: 
2025-09-09T01:53:04:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T01:53:04:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:04:       ... 7 lines matching cause stack trace ...
2025-09-09T01:53:04:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T01:53:04:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T01:53:04:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T01:53:04:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T01:53:04:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T01:53:04:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:04:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T01:53:04:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T01:53:04:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T01:53:04:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:04:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T01:53:04:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T01:53:04:   }
2025-09-09T01:53:04: 
2025-09-09T01:53:04: 
2025-09-09T01:53:04: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (22ms)
2025-09-09T01:53:04: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (22ms)
2025-09-09T01:53:16: [wrangler:info] GET /api/admin/media 200 OK (22ms)
2025-09-09T01:53:16: [wrangler:info] GET /api/admin/media 200 OK (22ms)
2025-09-09T01:53:16: [wrangler:info] GET /api/admin/users 200 OK (47ms)
2025-09-09T01:53:16: [wrangler:info] GET /api/admin/users 200 OK (47ms)
2025-09-09T01:53:17: [wrangler:info] GET /api/admin/users 200 OK (27ms)
2025-09-09T01:53:17: [wrangler:info] GET /api/admin/users 200 OK (27ms)
2025-09-09T01:53:17: [wrangler:info] GET /api/nutrition 200 OK (35ms)
2025-09-09T01:53:17: [wrangler:info] GET /api/nutrition 200 OK (35ms)
2025-09-09T01:53:21: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-09T01:53:21: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-09T01:53:25: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-09T01:53:25: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-09T01:55:51: [wrangler:info] GET / 200 OK (115ms)
2025-09-09T01:55:51: [wrangler:info] GET / 200 OK (115ms)
2025-09-09T01:55:51: [wrangler:info] GET /app.js 200 OK (19ms)
2025-09-09T01:55:51: [wrangler:info] GET /app.js 200 OK (19ms)
2025-09-09T01:55:51: [wrangler:info] GET /favicon.ico 200 OK (16ms)
2025-09-09T01:55:51: [wrangler:info] GET /favicon.ico 200 OK (16ms)
2025-09-09T01:57:14: [wrangler:info] POST /api/auth/login 200 OK (470ms)
2025-09-09T01:57:14: [wrangler:info] POST /api/auth/login 200 OK (470ms)
2025-09-09T01:57:14: [wrangler:info] GET /api/habits 200 OK (40ms)
2025-09-09T01:57:14: [wrangler:info] GET /api/habits 200 OK (40ms)
2025-09-09T01:57:14: [wrangler:info] GET /api/habits/weekly 200 OK (67ms)
2025-09-09T01:57:14: [wrangler:info] GET /api/habits/weekly 200 OK (67ms)
2025-09-09T01:57:45: [wrangler:info] POST /api/auth/login 200 OK (495ms)
2025-09-09T01:57:45: [wrangler:info] POST /api/auth/login 200 OK (495ms)
2025-09-09T01:57:45: [wrangler:info] GET /api/achievements 200 OK (41ms)
2025-09-09T01:57:45: [wrangler:info] GET /api/achievements 200 OK (41ms)
2025-09-09T01:59:22: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-09_00-13-46_274.log"
2025-09-09T01:59:22: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-09_00-13-46_274.log"
2025-09-09T01:59:25: 
2025-09-09T01:59:25:  ⛅️ wrangler 4.24.3 (update available 4.34.0)
2025-09-09T01:59:25: ─────────────────────────────────────────────
2025-09-09T01:59:25: 
2025-09-09T01:59:25:  ⛅️ wrangler 4.24.3 (update available 4.34.0)
2025-09-09T01:59:25: ─────────────────────────────────────────────
2025-09-09T01:59:25: ✨ Compiled Worker successfully
2025-09-09T01:59:25: ✨ Compiled Worker successfully
2025-09-09T01:59:25: Your Worker has access to the following bindings:
2025-09-09T01:59:25: Your Worker has access to the following bindings:
2025-09-09T01:59:25: Binding                                                    Resource                  Mode
2025-09-09T01:59:25: Binding                                                    Resource                  Mode
2025-09-09T01:59:25: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T01:59:25: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T01:59:25: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T01:59:25: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T01:59:25: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T01:59:25: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T01:59:25: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T01:59:25: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T01:59:25: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T01:59:25: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T01:59:25: 
2025-09-09T01:59:25: 
2025-09-09T01:59:26: ⎔ Starting local server...
2025-09-09T01:59:26: ⎔ Starting local server...
2025-09-09T01:59:26: [wrangler:info] Ready on http://localhost:8787
2025-09-09T01:59:26: [wrangler:info] Ready on http://localhost:8787
2025-09-09T01:59:41: [wrangler:info] POST /api/auth/login 200 OK (612ms)
2025-09-09T01:59:41: [wrangler:info] POST /api/auth/login 200 OK (612ms)
2025-09-09T01:59:41: [wrangler:info] GET /api/habits 200 OK (41ms)
2025-09-09T01:59:41: [wrangler:info] GET /api/habits 200 OK (41ms)
2025-09-09T01:59:42: [wrangler:info] GET /api/achievements 200 OK (40ms)
2025-09-09T01:59:42: [wrangler:info] GET /api/achievements 200 OK (40ms)
2025-09-09T02:05:21: [wrangler:info] GET / 200 OK (41ms)
2025-09-09T02:05:21: [wrangler:info] GET / 200 OK (41ms)
2025-09-09T07:00:22: [wrangler:info] GET /robots.txt 200 OK (194ms)
2025-09-09T07:00:22: [wrangler:info] GET /robots.txt 200 OK (194ms)
2025-09-09T07:00:22: [wrangler:info] GET / 200 OK (28ms)
2025-09-09T07:00:22: [wrangler:info] GET / 200 OK (28ms)
2025-09-09T07:00:28: [wrangler:info] GET /app.js 200 OK (48ms)
2025-09-09T07:00:28: [wrangler:info] GET /app.js 200 OK (48ms)
2025-09-09T07:00:34: [wrangler:info] GET /$%7BafterUrl%7D 200 OK (26ms)
2025-09-09T07:00:34: [wrangler:info] GET /$%7BafterUrl%7D 200 OK (26ms)
2025-09-09T07:00:36: [wrangler:info] GET /$%7BimageUrl%7D 200 OK (19ms)
2025-09-09T07:00:36: [wrangler:info] GET /$%7BimageUrl%7D 200 OK (19ms)
2025-09-09T07:00:38: [wrangler:info] GET /$%7BbeforeUrl%7D 200 OK (17ms)
2025-09-09T07:00:38: [wrangler:info] GET /$%7BbeforeUrl%7D 200 OK (17ms)
2025-09-09T07:00:41: [wrangler:info] GET /$%7BmediaUrl%7D 200 OK (24ms)
2025-09-09T07:00:41: [wrangler:info] GET /$%7BmediaUrl%7D 200 OK (24ms)
2025-09-09T21:08:25: [wrangler:info] GET / 200 OK (380ms)
2025-09-09T21:08:25: [wrangler:info] GET / 200 OK (380ms)
2025-09-09T21:08:25: [wrangler:info] GET /app.js 200 OK (26ms)
2025-09-09T21:08:25: [wrangler:info] GET /app.js 200 OK (26ms)
2025-09-09T21:08:25: [wrangler:info] GET /api/auth/validate-session 200 OK (47ms)
2025-09-09T21:08:25: [wrangler:info] GET /api/auth/validate-session 200 OK (47ms)
2025-09-09T21:08:25: [wrangler:info] GET /api/habits/weekly 200 OK (76ms)
2025-09-09T21:08:25: [wrangler:info] GET /api/habits/weekly 200 OK (76ms)
2025-09-09T21:08:26: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T21:08:26: 
2025-09-09T21:08:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T21:08:26:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:26:       ... 7 lines matching cause stack trace ...
2025-09-09T21:08:26:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T21:08:26:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T21:08:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T21:08:26:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:26:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T21:08:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T21:08:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T21:08:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T21:08:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:26:   }
2025-09-09T21:08:26: 
2025-09-09T21:08:26: 
2025-09-09T21:08:26: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T21:08:26: 
2025-09-09T21:08:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T21:08:26:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:26:       ... 7 lines matching cause stack trace ...
2025-09-09T21:08:26:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T21:08:26:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T21:08:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T21:08:26:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:26:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T21:08:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T21:08:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T21:08:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T21:08:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:26:   }
2025-09-09T21:08:26: 
2025-09-09T21:08:26: 
2025-09-09T21:08:26: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (257ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/habits 200 OK (259ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (257ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/habits 200 OK (259ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/admin/media 200 OK (257ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/achievements 200 OK (268ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/admin/media 200 OK (257ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/achievements 200 OK (268ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/media/enhanced 200 OK (163ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/media/enhanced 200 OK (163ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/admin/users 200 OK (163ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/admin/users 200 OK (163ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/admin/users 200 OK (32ms)
2025-09-09T21:08:26: [wrangler:info] GET /api/admin/users 200 OK (32ms)
2025-09-09T21:08:27: [wrangler:info] GET /api/habits 200 OK (19ms)
2025-09-09T21:08:27: [wrangler:info] GET /api/habits 200 OK (19ms)
2025-09-09T21:08:30: [wrangler:info] GET /api/media/enhanced 200 OK (22ms)
2025-09-09T21:08:30: [wrangler:info] GET /api/media/enhanced 200 OK (22ms)
2025-09-09T21:08:33: [wrangler:info] GET /api/nutrition 200 OK (37ms)
2025-09-09T21:08:33: [wrangler:info] GET /api/nutrition 200 OK (37ms)
2025-09-09T21:08:35: [wrangler:info] GET /api/leaderboards 200 OK (33ms)
2025-09-09T21:08:35: [wrangler:info] GET /api/leaderboards 200 OK (33ms)
2025-09-09T21:08:35: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T21:08:35: 
2025-09-09T21:08:35:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T21:08:35:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:35:       ... 7 lines matching cause stack trace ...
2025-09-09T21:08:35:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T21:08:35:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T21:08:35:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T21:08:35:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:35:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T21:08:35:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:35:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T21:08:35:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:35:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T21:08:35:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:35:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T21:08:35:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:35:   }
2025-09-09T21:08:35: 
2025-09-09T21:08:35: 
2025-09-09T21:08:35: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T21:08:35: 
2025-09-09T21:08:35:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T21:08:35:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:35:       ... 7 lines matching cause stack trace ...
2025-09-09T21:08:35:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T21:08:35:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T21:08:35:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T21:08:35:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:35:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T21:08:35:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:35:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T21:08:35:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:35:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T21:08:35:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:35:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T21:08:35:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:35:   }
2025-09-09T21:08:35: 
2025-09-09T21:08:35: 
2025-09-09T21:08:35: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (79ms)
2025-09-09T21:08:35: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (79ms)
2025-09-09T21:08:35: [wrangler:info] GET /api/achievements 200 OK (82ms)
2025-09-09T21:08:35: [wrangler:info] GET /api/achievements 200 OK (82ms)
2025-09-09T21:08:38: [wrangler:info] GET /api/admin/users 200 OK (23ms)
2025-09-09T21:08:38: [wrangler:info] GET /api/admin/users 200 OK (23ms)
2025-09-09T21:08:38: [wrangler:info] GET /api/admin/media 200 OK (37ms)
2025-09-09T21:08:38: [wrangler:info] GET /api/admin/media 200 OK (37ms)
2025-09-09T21:08:38: [wrangler:info] GET /api/admin/users 200 OK (39ms)
2025-09-09T21:08:38: [wrangler:info] GET /api/admin/users 200 OK (39ms)
2025-09-09T21:08:39: [wrangler:info] GET /api/achievements 200 OK (25ms)
2025-09-09T21:08:39: [wrangler:info] GET /api/achievements 200 OK (25ms)
2025-09-09T21:08:39: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T21:08:39: 
2025-09-09T21:08:39:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T21:08:39:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:39:       ... 7 lines matching cause stack trace ...
2025-09-09T21:08:39:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T21:08:39:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T21:08:39:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T21:08:39:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:39:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T21:08:39:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:39:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T21:08:39:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:39:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T21:08:39:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:39:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T21:08:39:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:39:   }
2025-09-09T21:08:39: 
2025-09-09T21:08:39: 
2025-09-09T21:08:39: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T21:08:39: 
2025-09-09T21:08:39:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T21:08:39:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:39:       ... 7 lines matching cause stack trace ...
2025-09-09T21:08:39:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T21:08:39:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T21:08:39:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T21:08:39:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:08:39:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T21:08:39:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:39:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T21:08:39:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:08:39:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T21:08:39:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:39:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T21:08:39:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:08:39:   }
2025-09-09T21:08:39: 
2025-09-09T21:08:39: 
2025-09-09T21:08:39: [wrangler:info] GET /api/leaderboards 200 OK (64ms)
2025-09-09T21:08:39: [wrangler:info] GET /api/leaderboards 200 OK (64ms)
2025-09-09T21:08:39: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (52ms)
2025-09-09T21:08:39: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (52ms)
2025-09-09T21:10:53: [wrangler:info] GET / 200 OK (119ms)
2025-09-09T21:10:53: [wrangler:info] GET / 200 OK (119ms)
2025-09-09T21:10:53: [wrangler:info] GET /app.js 200 OK (25ms)
2025-09-09T21:10:53: [wrangler:info] GET /app.js 200 OK (25ms)
2025-09-09T21:10:53: [wrangler:info] GET /favicon.ico 200 OK (25ms)
2025-09-09T21:10:53: [wrangler:info] GET /favicon.ico 200 OK (25ms)
2025-09-09T21:12:16: [wrangler:info] POST /api/auth/login 200 OK (687ms)
2025-09-09T21:12:16: [wrangler:info] POST /api/auth/login 200 OK (687ms)
2025-09-09T21:12:16: [wrangler:info] GET /api/achievements 200 OK (37ms)
2025-09-09T21:12:16: [wrangler:info] GET /api/achievements 200 OK (37ms)
2025-09-09T21:12:29: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-09_01-59-24_516.log"
2025-09-09T21:12:29: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-09_01-59-24_516.log"
2025-09-09T21:12:32: 
2025-09-09T21:12:32:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T21:12:32: ─────────────────────────────────────────────
2025-09-09T21:12:32: 
2025-09-09T21:12:32:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T21:12:32: ─────────────────────────────────────────────
2025-09-09T21:12:33: ✨ Compiled Worker successfully
2025-09-09T21:12:33: ✨ Compiled Worker successfully
2025-09-09T21:12:33: Your Worker has access to the following bindings:
2025-09-09T21:12:33: Your Worker has access to the following bindings:
2025-09-09T21:12:33: Binding                                                    Resource                  Mode
2025-09-09T21:12:33: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T21:12:33: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T21:12:33: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T21:12:33: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T21:12:33: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T21:12:33: 
2025-09-09T21:12:33: Binding                                                    Resource                  Mode
2025-09-09T21:12:33: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T21:12:33: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T21:12:33: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T21:12:33: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T21:12:33: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T21:12:33: 
2025-09-09T21:12:33: ⎔ Starting local server...
2025-09-09T21:12:33: ⎔ Starting local server...
2025-09-09T21:12:33: [wrangler:info] Ready on http://localhost:8787
2025-09-09T21:12:33: [wrangler:info] Ready on http://localhost:8787
2025-09-09T21:12:54: [wrangler:info] POST /api/auth/login 200 OK (671ms)
2025-09-09T21:12:54: [wrangler:info] POST /api/auth/login 200 OK (671ms)
2025-09-09T21:12:54: [wrangler:info] GET /api/achievements 200 OK (57ms)
2025-09-09T21:12:54: [wrangler:info] GET /api/achievements 200 OK (57ms)
2025-09-09T21:13:20: [wrangler:info] GET / 200 OK (55ms)
2025-09-09T21:13:20: [wrangler:info] GET / 200 OK (55ms)
2025-09-09T21:13:21: [wrangler:info] GET /app.js 200 OK (22ms)
2025-09-09T21:13:21: [wrangler:info] GET /app.js 200 OK (22ms)
2025-09-09T21:13:22: [wrangler:info] GET /favicon.ico 200 OK (26ms)
2025-09-09T21:13:22: [wrangler:info] GET /favicon.ico 200 OK (26ms)
2025-09-09T21:13:27: [wrangler:info] GET / 200 OK (24ms)
2025-09-09T21:13:27: [wrangler:info] GET / 200 OK (24ms)
2025-09-09T21:13:27: [wrangler:info] GET /app.js 200 OK (20ms)
2025-09-09T21:13:27: [wrangler:info] GET /app.js 200 OK (20ms)
2025-09-09T21:13:27: [wrangler:info] GET /favicon.ico 200 OK (17ms)
2025-09-09T21:13:27: [wrangler:info] GET /favicon.ico 200 OK (17ms)
2025-09-09T21:20:07: [wrangler:info] POST /api/auth/login 401 Unauthorized (37ms)
2025-09-09T21:20:07: [wrangler:info] POST /api/auth/login 401 Unauthorized (37ms)
2025-09-09T21:21:52: [wrangler:info] POST /api/auth/login 200 OK (504ms)
2025-09-09T21:21:52: [wrangler:info] POST /api/auth/login 200 OK (504ms)
2025-09-09T21:21:52: [wrangler:info] GET /api/habits 200 OK (38ms)
2025-09-09T21:21:52: [wrangler:info] GET /api/habits 200 OK (38ms)
2025-09-09T21:21:52: [wrangler:info] GET /api/achievements 200 OK (62ms)
2025-09-09T21:21:52: [wrangler:info] GET /api/achievements 200 OK (62ms)
2025-09-09T21:25:36: 
2025-09-09T21:25:36:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T21:25:36: ─────────────────────────────────────────────
2025-09-09T21:25:36: 
2025-09-09T21:25:36:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T21:25:36: ─────────────────────────────────────────────
2025-09-09T21:25:37: ✨ Compiled Worker successfully
2025-09-09T21:25:37: ✨ Compiled Worker successfully
2025-09-09T21:25:37: Your Worker has access to the following bindings:
2025-09-09T21:25:37: Your Worker has access to the following bindings:
2025-09-09T21:25:37: Binding                                                    Resource                  Mode
2025-09-09T21:25:37: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T21:25:37: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T21:25:37: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T21:25:37: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T21:25:37: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T21:25:37: 
2025-09-09T21:25:37: Binding                                                    Resource                  Mode
2025-09-09T21:25:37: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T21:25:37: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T21:25:37: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T21:25:37: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T21:25:37: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T21:25:37: 
2025-09-09T21:25:37: ⎔ Starting local server...
2025-09-09T21:25:37: ⎔ Starting local server...
2025-09-09T21:25:37: [wrangler:info] Ready on http://localhost:8787
2025-09-09T21:25:37: [wrangler:info] Ready on http://localhost:8787
2025-09-09T21:25:46: [wrangler:info] GET / 200 OK (49ms)
2025-09-09T21:25:46: [wrangler:info] GET / 200 OK (49ms)
2025-09-09T21:25:46: [wrangler:info] GET /app.js 200 OK (22ms)
2025-09-09T21:25:46: [wrangler:info] GET /app.js 200 OK (22ms)
2025-09-09T21:25:46: [wrangler:info] GET /favicon.ico 200 OK (17ms)
2025-09-09T21:25:46: [wrangler:info] GET /favicon.ico 200 OK (17ms)
2025-09-09T21:42:21: [wrangler:info] GET / 200 OK (79ms)
2025-09-09T21:42:21: [wrangler:info] GET / 200 OK (79ms)
2025-09-09T21:42:21: [wrangler:info] GET /app.js 200 OK (26ms)
2025-09-09T21:42:21: [wrangler:info] GET /app.js 200 OK (26ms)
2025-09-09T21:42:21: [wrangler:info] GET /api/auth/validate-session 200 OK (23ms)
2025-09-09T21:42:21: [wrangler:info] GET /api/auth/validate-session 200 OK (23ms)
2025-09-09T21:42:21: [wrangler:info] GET /api/habits/weekly 200 OK (60ms)
2025-09-09T21:42:21: [wrangler:info] GET /api/habits/weekly 200 OK (60ms)
2025-09-09T21:42:22: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T21:42:22: 
2025-09-09T21:42:22:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T21:42:22:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:42:22:       ... 7 lines matching cause stack trace ...
2025-09-09T21:42:22:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T21:42:22:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T21:42:22:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T21:42:22:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:42:22:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T21:42:22:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:42:22:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T21:42:22:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:42:22:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T21:42:22:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:42:22:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T21:42:22:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:42:22:   }
2025-09-09T21:42:22: 
2025-09-09T21:42:22: 
2025-09-09T21:42:22: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T21:42:22: 
2025-09-09T21:42:22:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T21:42:22:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:42:22:       ... 7 lines matching cause stack trace ...
2025-09-09T21:42:22:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T21:42:22:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T21:42:22:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T21:42:22:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:42:22:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T21:42:22:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:42:22:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T21:42:22:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:42:22:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T21:42:22:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:42:22:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T21:42:22:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:42:22:   }
2025-09-09T21:42:22: 
2025-09-09T21:42:22: 
2025-09-09T21:42:22: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (178ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (178ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/admin/media 200 OK (181ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/admin/media 200 OK (181ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/media/enhanced 200 OK (181ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/media/enhanced 200 OK (181ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/achievements 200 OK (193ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/achievements 200 OK (193ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/admin/users 200 OK (187ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/admin/users 200 OK (187ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/habits 200 OK (48ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/habits 200 OK (48ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-09T21:42:22: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-09T21:42:23: [wrangler:info] GET /api/habits 200 OK (19ms)
2025-09-09T21:42:23: [wrangler:info] GET /api/habits 200 OK (19ms)
2025-09-09T21:42:25: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T21:42:25: 
2025-09-09T21:42:25:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T21:42:25:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:42:25:       ... 7 lines matching cause stack trace ...
2025-09-09T21:42:25:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T21:42:25:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T21:42:25:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T21:42:25:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:42:25:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T21:42:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:42:25:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T21:42:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:42:25:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T21:42:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:42:25:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T21:42:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:42:25:   }
2025-09-09T21:42:25: 
2025-09-09T21:42:25: 
2025-09-09T21:42:25: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenges error: Error: D1_ERROR: no such table: user_daily_challenges: SQLITE_ERROR[0m
2025-09-09T21:42:25: 
2025-09-09T21:42:25:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-09T21:42:25:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:42:25:       ... 7 lines matching cause stack trace ...
2025-09-09T21:42:25:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-09T21:42:25:     [cause]: Error: no such table: user_daily_challenges: SQLITE_ERROR
2025-09-09T21:42:25:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-09T21:42:25:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-09T21:42:25:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/daily.js:27:28)
2025-09-09T21:42:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:42:25:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-09T21:42:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-09T21:42:25:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-09T21:42:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:42:25:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-09T21:42:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-09T21:42:25:   }
2025-09-09T21:42:25: 
2025-09-09T21:42:25: 
2025-09-09T21:42:25: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (17ms)
2025-09-09T21:42:25: [wrangler:info] GET /api/challenges/daily 500 Internal Server Error (17ms)
2025-09-09T21:42:25: [wrangler:info] GET /api/leaderboards 200 OK (87ms)
2025-09-09T21:42:25: [wrangler:info] GET /api/leaderboards 200 OK (87ms)
2025-09-09T21:42:25: [wrangler:info] GET /api/achievements 200 OK (82ms)
2025-09-09T21:42:25: [wrangler:info] GET /api/achievements 200 OK (82ms)
2025-09-09T21:47:33: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-09_21-25-36_595.log"
2025-09-09T21:47:33: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-09_21-25-36_595.log"
2025-09-09T21:47:35: 
2025-09-09T21:47:35:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T21:47:35: ─────────────────────────────────────────────
2025-09-09T21:47:35: 
2025-09-09T21:47:35:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T21:47:35: ─────────────────────────────────────────────
2025-09-09T21:47:35: ✨ Compiled Worker successfully
2025-09-09T21:47:35: ✨ Compiled Worker successfully
2025-09-09T21:47:36: Your Worker has access to the following bindings:
2025-09-09T21:47:36: Your Worker has access to the following bindings:
2025-09-09T21:47:36: Binding                                                    Resource                  Mode
2025-09-09T21:47:36: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T21:47:36: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T21:47:36: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T21:47:36: Binding                                                    Resource                  Mode
2025-09-09T21:47:36: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T21:47:36: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T21:47:36: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T21:47:36: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T21:47:36: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T21:47:36: 
2025-09-09T21:47:36: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T21:47:36: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T21:47:36: 
2025-09-09T21:47:36: ⎔ Starting local server...
2025-09-09T21:47:36: ⎔ Starting local server...
2025-09-09T21:47:36: [wrangler:info] Ready on http://localhost:8787
2025-09-09T21:47:36: [wrangler:info] Ready on http://localhost:8787
2025-09-09T21:47:55: [wrangler:info] GET / 200 OK (71ms)
2025-09-09T21:47:55: [wrangler:info] GET / 200 OK (71ms)
2025-09-09T21:47:55: [wrangler:info] GET /app.js 200 OK (39ms)
2025-09-09T21:47:55: [wrangler:info] GET /app.js 200 OK (39ms)
2025-09-09T21:47:56: [wrangler:info] GET /favicon.ico 200 OK (24ms)
2025-09-09T21:47:56: [wrangler:info] GET /favicon.ico 200 OK (24ms)
2025-09-09T21:48:32: 
2025-09-09T21:48:32:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T21:48:32: ─────────────────────────────────────────────
2025-09-09T21:48:32: 
2025-09-09T21:48:32:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T21:48:32: ─────────────────────────────────────────────
2025-09-09T21:48:33: ✨ Compiled Worker successfully
2025-09-09T21:48:33: ✨ Compiled Worker successfully
2025-09-09T21:48:33: Your Worker has access to the following bindings:
2025-09-09T21:48:33: Your Worker has access to the following bindings:
2025-09-09T21:48:33: Binding                                                    Resource                  Mode
2025-09-09T21:48:33: Binding                                                    Resource                  Mode
2025-09-09T21:48:33: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T21:48:33: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T21:48:33: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T21:48:33: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T21:48:33: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T21:48:33: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T21:48:33: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T21:48:33: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T21:48:33: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T21:48:33: 
2025-09-09T21:48:33: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T21:48:33: 
2025-09-09T21:48:33: [wrangler:info] Ready on http://localhost:8787
2025-09-09T21:48:33: [wrangler:info] Ready on http://localhost:8787
2025-09-09T21:48:33: ⎔ Starting local server...
2025-09-09T21:48:33: ⎔ Starting local server...
2025-09-09T21:55:13: [wrangler:info] GET / 200 OK (72ms)
2025-09-09T21:55:13: [wrangler:info] GET / 200 OK (72ms)
2025-09-09T21:55:13: [wrangler:info] GET /app.js 200 OK (20ms)
2025-09-09T21:55:13: [wrangler:info] GET /app.js 200 OK (20ms)
2025-09-09T21:55:13: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-09T21:55:13: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-09T21:55:13: [wrangler:info] GET /api/media/enhanced 200 OK (30ms)
2025-09-09T21:55:13: [wrangler:info] GET /api/media/enhanced 200 OK (30ms)
2025-09-09T21:55:13: [wrangler:info] GET /api/habits 200 OK (52ms)
2025-09-09T21:55:13: [wrangler:info] GET /api/habits 200 OK (52ms)
2025-09-09T21:55:14: [wrangler:info] GET /api/admin/users 200 OK (75ms)
2025-09-09T21:55:14: [wrangler:info] GET /api/admin/users 200 OK (75ms)
2025-09-09T21:55:14: [wrangler:info] GET /api/achievements 200 OK (77ms)
2025-09-09T21:55:14: [wrangler:info] GET /api/achievements 200 OK (77ms)
2025-09-09T21:55:14: [wrangler:info] GET /api/habits/weekly 200 OK (33ms)
2025-09-09T21:55:14: [wrangler:info] GET /api/habits/weekly 200 OK (33ms)
2025-09-09T21:55:14: [wrangler:info] GET /api/admin/media 200 OK (55ms)
2025-09-09T21:55:14: [wrangler:info] GET /api/admin/media 200 OK (55ms)
2025-09-09T21:55:14: [wrangler:info] GET /api/admin/users 200 OK (61ms)
2025-09-09T21:55:14: [wrangler:info] GET /api/admin/users 200 OK (61ms)
2025-09-09T21:55:15: [wrangler:info] GET /api/achievements 200 OK (22ms)
2025-09-09T21:55:15: [wrangler:info] GET /api/achievements 200 OK (22ms)
2025-09-09T21:56:01: [wrangler:info] GET /api/nutrition 200 OK (34ms)
2025-09-09T21:56:01: [wrangler:info] GET /api/nutrition 200 OK (34ms)
2025-09-09T21:56:05: [wrangler:info] GET /api/habits 200 OK (25ms)
2025-09-09T21:56:05: [wrangler:info] GET /api/habits 200 OK (25ms)
2025-09-09T21:57:40: [wrangler:info] GET /api/achievements 200 OK (26ms)
2025-09-09T21:57:40: [wrangler:info] GET /api/achievements 200 OK (26ms)
2025-09-09T22:03:13: 
2025-09-09T22:03:13:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T22:03:13: ─────────────────────────────────────────────
2025-09-09T22:03:13: 
2025-09-09T22:03:13:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T22:03:13: ─────────────────────────────────────────────
2025-09-09T22:03:13: ✨ Compiled Worker successfully
2025-09-09T22:03:13: ✨ Compiled Worker successfully
2025-09-09T22:03:13: Your Worker has access to the following bindings:
2025-09-09T22:03:13: Your Worker has access to the following bindings:
2025-09-09T22:03:13: Binding                                                    Resource                  Mode
2025-09-09T22:03:13: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T22:03:13: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T22:03:13: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T22:03:13: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T22:03:13: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T22:03:13: 
2025-09-09T22:03:13: Binding                                                    Resource                  Mode
2025-09-09T22:03:13: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T22:03:13: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T22:03:13: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T22:03:13: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T22:03:13: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T22:03:13: 
2025-09-09T22:03:13: ⎔ Starting local server...
2025-09-09T22:03:13: ⎔ Starting local server...
2025-09-09T22:03:14: [wrangler:info] Ready on http://localhost:8787
2025-09-09T22:03:14: [wrangler:info] Ready on http://localhost:8787
2025-09-09T22:03:20: [wrangler:info] GET / 200 OK (120ms)
2025-09-09T22:03:20: [wrangler:info] GET / 200 OK (120ms)
2025-09-09T22:03:20: [wrangler:info] GET /app.js 200 OK (31ms)
2025-09-09T22:03:20: [wrangler:info] GET /app.js 200 OK (31ms)
2025-09-09T22:03:21: [wrangler:info] GET /favicon.ico 200 OK (24ms)
2025-09-09T22:03:21: [wrangler:info] GET /favicon.ico 200 OK (24ms)
2025-09-09T23:47:01: [wrangler:info] GET / 200 OK (45ms)
2025-09-09T23:47:01: [wrangler:info] GET / 200 OK (45ms)
2025-09-09T23:47:01: [wrangler:info] GET /app.js 200 OK (59ms)
2025-09-09T23:47:01: [wrangler:info] GET /app.js 200 OK (59ms)
2025-09-09T23:47:01: [wrangler:info] GET /api/auth/validate-session 200 OK (16ms)
2025-09-09T23:47:01: [wrangler:info] GET /api/auth/validate-session 200 OK (16ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/achievements 200 OK (37ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/achievements 200 OK (37ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/habits 200 OK (46ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/habits 200 OK (46ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/admin/media 200 OK (40ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/admin/media 200 OK (40ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/habits/weekly 200 OK (52ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/habits/weekly 200 OK (52ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/media/enhanced 200 OK (98ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/media/enhanced 200 OK (98ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/admin/users 200 OK (98ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/admin/users 200 OK (98ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/admin/users 200 OK (40ms)
2025-09-09T23:47:02: [wrangler:info] GET /api/admin/users 200 OK (40ms)
2025-09-09T23:47:04: [wrangler:info] GET /api/nutrition 200 OK (29ms)
2025-09-09T23:47:04: [wrangler:info] GET /api/nutrition 200 OK (29ms)
2025-09-09T23:47:05: [wrangler:info] GET /api/habits 200 OK (21ms)
2025-09-09T23:47:05: [wrangler:info] GET /api/habits 200 OK (21ms)
2025-09-09T23:47:10: [wrangler:info] GET /api/achievements 200 OK (31ms)
2025-09-09T23:47:10: [wrangler:info] GET /api/achievements 200 OK (31ms)
2025-09-09T23:54:45: 
2025-09-09T23:54:45:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T23:54:45: ─────────────────────────────────────────────
2025-09-09T23:54:45: 
2025-09-09T23:54:45:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-09T23:54:45: ─────────────────────────────────────────────
2025-09-09T23:54:45: ✨ Compiled Worker successfully
2025-09-09T23:54:45: ✨ Compiled Worker successfully
2025-09-09T23:54:45: Your Worker has access to the following bindings:
2025-09-09T23:54:45: Your Worker has access to the following bindings:
2025-09-09T23:54:45: Binding                                                    Resource                  Mode
2025-09-09T23:54:45: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T23:54:45: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T23:54:45: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T23:54:45: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T23:54:45: Binding                                                    Resource                  Mode
2025-09-09T23:54:45: env.DB (strivetrack)                                       D1 Database               local
2025-09-09T23:54:45: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-09T23:54:45: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-09T23:54:45: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-09T23:54:45: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T23:54:45: 
2025-09-09T23:54:45: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-09T23:54:45: 
2025-09-09T23:54:46: ⎔ Starting local server...
2025-09-09T23:54:46: ⎔ Starting local server...
2025-09-09T23:54:46: [wrangler:info] Ready on http://localhost:8787
2025-09-09T23:54:46: [wrangler:info] Ready on http://localhost:8787
2025-09-09T23:54:53: [wrangler:info] GET / 200 OK (99ms)
2025-09-09T23:54:53: [wrangler:info] GET / 200 OK (99ms)
2025-09-09T23:54:53: [wrangler:info] GET /app.js 200 OK (35ms)
2025-09-09T23:54:53: [wrangler:info] GET /app.js 200 OK (35ms)
2025-09-09T23:54:53: [wrangler:info] GET /favicon.ico 200 OK (21ms)
2025-09-09T23:54:53: [wrangler:info] GET /favicon.ico 200 OK (21ms)
2025-09-09T23:56:36: [wrangler:info] GET / 200 OK (26ms)
2025-09-09T23:56:36: [wrangler:info] GET / 200 OK (26ms)
2025-09-09T23:56:36: [wrangler:info] GET /app.js 200 OK (23ms)
2025-09-09T23:56:36: [wrangler:info] GET /app.js 200 OK (23ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/auth/validate-session 200 OK (27ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/auth/validate-session 200 OK (27ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/media/enhanced 200 OK (26ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/media/enhanced 200 OK (26ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/habits 200 OK (49ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/habits 200 OK (49ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/admin/media 200 OK (33ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/admin/media 200 OK (33ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/achievements 200 OK (31ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/achievements 200 OK (31ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/habits/weekly 200 OK (85ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/habits/weekly 200 OK (85ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/admin/users 200 OK (82ms)
2025-09-09T23:56:36: [wrangler:info] GET /api/admin/users 200 OK (82ms)
2025-09-09T23:56:37: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-09T23:56:37: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-09T23:56:39: [wrangler:info] GET /api/achievements 200 OK (27ms)
2025-09-09T23:56:39: [wrangler:info] GET /api/achievements 200 OK (27ms)
2025-09-10T00:01:09: 
2025-09-10T00:01:09:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T00:01:09: ─────────────────────────────────────────────
2025-09-10T00:01:09: 
2025-09-10T00:01:09:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T00:01:09: ─────────────────────────────────────────────
2025-09-10T00:01:10: ✨ Compiled Worker successfully
2025-09-10T00:01:10: ✨ Compiled Worker successfully
2025-09-10T00:01:10: Your Worker has access to the following bindings:
2025-09-10T00:01:10: Your Worker has access to the following bindings:
2025-09-10T00:01:10: Binding                                                    Resource                  Mode
2025-09-10T00:01:10: Binding                                                    Resource                  Mode
2025-09-10T00:01:10: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T00:01:10: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T00:01:10: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T00:01:10: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T00:01:10: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T00:01:10: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T00:01:10: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T00:01:10: 
2025-09-10T00:01:10: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T00:01:10: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T00:01:10: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T00:01:10: 
2025-09-10T00:01:10: ⎔ Starting local server...
2025-09-10T00:01:10: ⎔ Starting local server...
2025-09-10T00:01:10: [wrangler:info] Ready on http://localhost:8787
2025-09-10T00:01:10: [wrangler:info] Ready on http://localhost:8787
2025-09-10T00:01:17: [wrangler:info] GET / 200 OK (99ms)
2025-09-10T00:01:17: [wrangler:info] GET / 200 OK (99ms)
2025-09-10T00:01:17: [wrangler:info] GET /app.js 200 OK (34ms)
2025-09-10T00:01:17: [wrangler:info] GET /app.js 200 OK (34ms)
2025-09-10T00:01:17: [wrangler:info] GET /favicon.ico 200 OK (35ms)
2025-09-10T00:01:17: [wrangler:info] GET /favicon.ico 200 OK (35ms)
2025-09-10T00:01:37: [wrangler:info] GET /api/media/enhanced 200 OK (22ms)
2025-09-10T00:01:37: [wrangler:info] GET /api/media/enhanced 200 OK (22ms)
2025-09-10T00:01:40: [wrangler:info] GET /api/achievements 200 OK (32ms)
2025-09-10T00:01:40: [wrangler:info] GET /api/achievements 200 OK (32ms)
2025-09-10T00:01:54: [wrangler:info] GET /api/achievements 200 OK (28ms)
2025-09-10T00:01:54: [wrangler:info] GET /api/achievements 200 OK (28ms)
2025-09-10T01:53:33: 
2025-09-10T01:53:33:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T01:53:33: ─────────────────────────────────────────────
2025-09-10T01:53:33: 
2025-09-10T01:53:33:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T01:53:33: ─────────────────────────────────────────────
2025-09-10T01:53:34: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mBuild failed with 1 error:[0m
2025-09-10T01:53:34: 
2025-09-10T01:53:34:   [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "bcryptjs"[0m
2025-09-10T01:53:34:   
2025-09-10T01:53:34:       utils/database.js:15:32:
2025-09-10T01:53:34:   [37m      15 │     const bcrypt = await import([32m'bcryptjs'[37m);
2025-09-10T01:53:34:            ╵                                 [32m~~~~~~~~~~[0m
2025-09-10T01:53:34:   
2025-09-10T01:53:34:     You can mark the path "bcryptjs" as external to exclude it from the bundle, which will remove this error and leave the unresolved path in the bundle. You can also add ".catch()" here to handle this failure at run-time instead of bundle-time.
2025-09-10T01:53:34:   
2025-09-10T01:53:34:   
2025-09-10T01:53:34: 
2025-09-10T01:53:34: 
2025-09-10T01:53:34: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mBuild failed with 1 error:[0m
2025-09-10T01:53:34: 
2025-09-10T01:53:34:   [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "bcryptjs"[0m
2025-09-10T01:53:34:   
2025-09-10T01:53:34:       utils/database.js:15:32:
2025-09-10T01:53:34:   [37m      15 │     const bcrypt = await import([32m'bcryptjs'[37m);
2025-09-10T01:53:34:            ╵                                 [32m~~~~~~~~~~[0m
2025-09-10T01:53:34:   
2025-09-10T01:53:34:     You can mark the path "bcryptjs" as external to exclude it from the bundle, which will remove this error and leave the unresolved path in the bundle. You can also add ".catch()" here to handle this failure at run-time instead of bundle-time.
2025-09-10T01:53:34:   
2025-09-10T01:53:34:   
2025-09-10T01:53:34: 
2025-09-10T01:53:34: 
2025-09-10T01:53:34: 
2025-09-10T01:53:34: 
2025-09-10T01:53:34: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFailed to build Functions at ./functions.[0m
2025-09-10T01:53:34: 
2025-09-10T01:53:34: 
2025-09-10T01:53:34: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFailed to build Functions at ./functions.[0m
2025-09-10T01:53:34: 
2025-09-10T01:53:34: 
2025-09-10T01:53:34: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_01-53-33_306.log"
2025-09-10T01:53:34: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_01-53-33_306.log"
2025-09-10T01:53:35: 
2025-09-10T01:53:35:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T01:53:35: ─────────────────────────────────────────────
2025-09-10T01:53:35: 
2025-09-10T01:53:35:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T01:53:35: ─────────────────────────────────────────────
2025-09-10T01:53:36: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mBuild failed with 1 error:[0m
2025-09-10T01:53:36: 
2025-09-10T01:53:36:   [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "bcryptjs"[0m
2025-09-10T01:53:36:   
2025-09-10T01:53:36:       utils/database.js:15:32:
2025-09-10T01:53:36:   [37m      15 │     const bcrypt = await import([32m'bcryptjs'[37m);
2025-09-10T01:53:36:            ╵                                 [32m~~~~~~~~~~[0m
2025-09-10T01:53:36:   
2025-09-10T01:53:36:     You can mark the path "bcryptjs" as external to exclude it from the bundle, which will remove this error and leave the unresolved path in the bundle. You can also add ".catch()" here to handle this failure at run-time instead of bundle-time.
2025-09-10T01:53:36:   
2025-09-10T01:53:36:   
2025-09-10T01:53:36: 
2025-09-10T01:53:36: 
2025-09-10T01:53:36: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mBuild failed with 1 error:[0m
2025-09-10T01:53:36: 
2025-09-10T01:53:36:   [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "bcryptjs"[0m
2025-09-10T01:53:36:   
2025-09-10T01:53:36:       utils/database.js:15:32:
2025-09-10T01:53:36:   [37m      15 │     const bcrypt = await import([32m'bcryptjs'[37m);
2025-09-10T01:53:36:            ╵                                 [32m~~~~~~~~~~[0m
2025-09-10T01:53:36:   
2025-09-10T01:53:36:     You can mark the path "bcryptjs" as external to exclude it from the bundle, which will remove this error and leave the unresolved path in the bundle. You can also add ".catch()" here to handle this failure at run-time instead of bundle-time.
2025-09-10T01:53:36:   
2025-09-10T01:53:36:   
2025-09-10T01:53:36: 
2025-09-10T01:53:36: 
2025-09-10T01:53:36: 
2025-09-10T01:53:36: 
2025-09-10T01:53:36: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFailed to build Functions at ./functions.[0m
2025-09-10T01:53:36: 
2025-09-10T01:53:36: 
2025-09-10T01:53:36: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFailed to build Functions at ./functions.[0m
2025-09-10T01:53:36: 
2025-09-10T01:53:36: 
2025-09-10T01:53:36: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_01-53-35_353.log"
2025-09-10T01:53:36: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_01-53-35_353.log"
2025-09-10T01:53:37: 
2025-09-10T01:53:37:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T01:53:37: ─────────────────────────────────────────────
2025-09-10T01:53:37: 
2025-09-10T01:53:37:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T01:53:37: ─────────────────────────────────────────────
2025-09-10T01:53:38: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mBuild failed with 1 error:[0m
2025-09-10T01:53:38: 
2025-09-10T01:53:38:   [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "bcryptjs"[0m
2025-09-10T01:53:38:   
2025-09-10T01:53:38:       utils/database.js:15:32:
2025-09-10T01:53:38:   [37m      15 │     const bcrypt = await import([32m'bcryptjs'[37m);
2025-09-10T01:53:38:            ╵                                 [32m~~~~~~~~~~[0m
2025-09-10T01:53:38:   
2025-09-10T01:53:38:     You can mark the path "bcryptjs" as external to exclude it from the bundle, which will remove this error and leave the unresolved path in the bundle. You can also add ".catch()" here to handle this failure at run-time instead of bundle-time.
2025-09-10T01:53:38:   
2025-09-10T01:53:38:   
2025-09-10T01:53:38: 
2025-09-10T01:53:38: 
2025-09-10T01:53:38: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mBuild failed with 1 error:[0m
2025-09-10T01:53:38: 
2025-09-10T01:53:38:   [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mCould not resolve "bcryptjs"[0m
2025-09-10T01:53:38:   
2025-09-10T01:53:38:       utils/database.js:15:32:
2025-09-10T01:53:38:   [37m      15 │     const bcrypt = await import([32m'bcryptjs'[37m);
2025-09-10T01:53:38:            ╵                                 [32m~~~~~~~~~~[0m
2025-09-10T01:53:38:   
2025-09-10T01:53:38:     You can mark the path "bcryptjs" as external to exclude it from the bundle, which will remove this error and leave the unresolved path in the bundle. You can also add ".catch()" here to handle this failure at run-time instead of bundle-time.
2025-09-10T01:53:38:   
2025-09-10T01:53:38:   
2025-09-10T01:53:38: 
2025-09-10T01:53:38: 
2025-09-10T01:53:38: 
2025-09-10T01:53:38: 
2025-09-10T01:53:38: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFailed to build Functions at ./functions.[0m
2025-09-10T01:53:38: 
2025-09-10T01:53:38: 
2025-09-10T01:53:38: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFailed to build Functions at ./functions.[0m
2025-09-10T01:53:38: 
2025-09-10T01:53:38: 
2025-09-10T01:53:38: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_01-53-37_296.log"
2025-09-10T01:53:38: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_01-53-37_296.log"
2025-09-10T01:54:20: 
2025-09-10T01:54:20:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T01:54:20: ─────────────────────────────────────────────
2025-09-10T01:54:20: 
2025-09-10T01:54:20:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T01:54:20: ─────────────────────────────────────────────
2025-09-10T01:54:20: ✨ Compiled Worker successfully
2025-09-10T01:54:20: ✨ Compiled Worker successfully
2025-09-10T01:54:20: Your Worker has access to the following bindings:
2025-09-10T01:54:20: Your Worker has access to the following bindings:
2025-09-10T01:54:20: Binding                                                    Resource                  Mode
2025-09-10T01:54:20: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T01:54:20: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T01:54:20: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T01:54:20: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T01:54:20: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T01:54:20: 
2025-09-10T01:54:20: Binding                                                    Resource                  Mode
2025-09-10T01:54:20: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T01:54:20: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T01:54:20: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T01:54:20: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T01:54:20: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T01:54:20: 
2025-09-10T01:54:20: ⎔ Starting local server...
2025-09-10T01:54:20: ⎔ Starting local server...
2025-09-10T01:54:20: [wrangler:info] Ready on http://localhost:8787
2025-09-10T01:54:20: [wrangler:info] Ready on http://localhost:8787
2025-09-10T01:54:24: [wrangler:info] GET / 200 OK (69ms)
2025-09-10T01:54:24: [wrangler:info] GET / 200 OK (69ms)
2025-09-10T01:54:24: [wrangler:info] GET /app.js 200 OK (28ms)
2025-09-10T01:54:24: [wrangler:info] GET /app.js 200 OK (28ms)
2025-09-10T01:54:25: [wrangler:info] GET /favicon.ico 200 OK (27ms)
2025-09-10T01:54:25: [wrangler:info] GET /favicon.ico 200 OK (27ms)
2025-09-10T01:56:46: [wrangler:info] GET / 200 OK (27ms)
2025-09-10T01:56:46: [wrangler:info] GET / 200 OK (27ms)
2025-09-10T01:56:47: [wrangler:info] GET /app.js 200 OK (28ms)
2025-09-10T01:56:47: [wrangler:info] GET /app.js 200 OK (28ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/auth/validate-session 200 OK (14ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/auth/validate-session 200 OK (14ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/media/enhanced 200 OK (43ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/media/enhanced 200 OK (43ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/admin/media 200 OK (76ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/admin/media 200 OK (76ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/achievements 200 OK (81ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/achievements 200 OK (81ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/habits 200 OK (60ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/habits 200 OK (60ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/admin/users 200 OK (68ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/admin/users 200 OK (68ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-10T01:56:47: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-10T01:56:51: [wrangler:info] GET /api/achievements 200 OK (19ms)
2025-09-10T01:56:51: [wrangler:info] GET /api/achievements 200 OK (19ms)
2025-09-10T01:56:54: [wrangler:info] GET /api/achievements 200 OK (24ms)
2025-09-10T01:56:54: [wrangler:info] GET /api/achievements 200 OK (24ms)
2025-09-10T01:56:57: [wrangler:info] GET /api/nutrition 200 OK (48ms)
2025-09-10T01:56:57: [wrangler:info] GET /api/nutrition 200 OK (48ms)
2025-09-10T01:56:58: [wrangler:info] GET /api/media/enhanced 200 OK (34ms)
2025-09-10T01:56:58: [wrangler:info] GET /api/media/enhanced 200 OK (34ms)
2025-09-10T02:02:04: 
2025-09-10T02:02:04:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T02:02:04: ─────────────────────────────────────────────
2025-09-10T02:02:04: 
2025-09-10T02:02:04:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T02:02:04: ─────────────────────────────────────────────
2025-09-10T02:02:05: ✨ Compiled Worker successfully
2025-09-10T02:02:05: ✨ Compiled Worker successfully
2025-09-10T02:02:05: Your Worker has access to the following bindings:
2025-09-10T02:02:05: Your Worker has access to the following bindings:
2025-09-10T02:02:05: Binding                                                    Resource                  Mode
2025-09-10T02:02:05: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T02:02:05: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T02:02:05: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T02:02:05: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T02:02:05: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T02:02:05: 
2025-09-10T02:02:05: Binding                                                    Resource                  Mode
2025-09-10T02:02:05: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T02:02:05: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T02:02:05: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T02:02:05: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T02:02:05: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T02:02:05: 
2025-09-10T02:02:05: [wrangler:info] Ready on http://localhost:8787
2025-09-10T02:02:05: [wrangler:info] Ready on http://localhost:8787
2025-09-10T02:02:05: ⎔ Starting local server...
2025-09-10T02:02:05: ⎔ Starting local server...
2025-09-10T02:02:09: [wrangler:info] GET / 200 OK (58ms)
2025-09-10T02:02:09: [wrangler:info] GET / 200 OK (58ms)
2025-09-10T02:02:09: [wrangler:info] GET /app.js 200 OK (30ms)
2025-09-10T02:02:09: [wrangler:info] GET /app.js 200 OK (30ms)
2025-09-10T02:02:10: [wrangler:info] GET /favicon.ico 200 OK (22ms)
2025-09-10T02:02:10: [wrangler:info] GET /favicon.ico 200 OK (22ms)
2025-09-10T02:02:25: [wrangler:info] GET /api/habits 200 OK (29ms)
2025-09-10T02:02:25: [wrangler:info] GET /api/habits 200 OK (29ms)
2025-09-10T02:03:20: [wrangler:info] GET / 200 OK (27ms)
2025-09-10T02:03:20: [wrangler:info] GET / 200 OK (27ms)
2025-09-10T02:03:21: [wrangler:info] GET /app.js 200 OK (24ms)
2025-09-10T02:03:21: [wrangler:info] GET /app.js 200 OK (24ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/auth/validate-session 200 OK (12ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/auth/validate-session 200 OK (12ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/admin/users 200 OK (25ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/admin/users 200 OK (25ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/habits 200 OK (70ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/habits 200 OK (70ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/media/enhanced 200 OK (82ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/media/enhanced 200 OK (82ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/habits/weekly 200 OK (81ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/habits/weekly 200 OK (81ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/admin/media 200 OK (119ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/admin/media 200 OK (119ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/achievements 200 OK (129ms)
2025-09-10T02:03:21: [wrangler:info] GET /api/achievements 200 OK (129ms)
2025-09-10T02:03:22: [wrangler:info] GET /api/admin/users 200 OK (19ms)
2025-09-10T02:03:22: [wrangler:info] GET /api/admin/users 200 OK (19ms)
2025-09-10T02:03:25: [wrangler:info] GET /api/achievements 200 OK (30ms)
2025-09-10T02:03:25: [wrangler:info] GET /api/achievements 200 OK (30ms)
2025-09-10T02:03:26: [wrangler:info] GET /api/media/enhanced 200 OK (16ms)
2025-09-10T02:03:26: [wrangler:info] GET /api/media/enhanced 200 OK (16ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/habits 200 OK (78ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/habits 200 OK (78ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/admin/users 200 OK (85ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/admin/users 200 OK (85ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/admin/media 200 OK (38ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/admin/media 200 OK (38ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/media/enhanced 200 OK (81ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/media/enhanced 200 OK (81ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/achievements 200 OK (81ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/achievements 200 OK (81ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/admin/users 200 OK (78ms)
2025-09-10T02:03:42: [wrangler:info] GET /api/admin/users 200 OK (78ms)
2025-09-10T14:41:27: [wrangler:info] GET /api/habits 200 OK (354ms)
2025-09-10T14:41:27: [wrangler:info] GET /api/habits 200 OK (354ms)
2025-09-10T14:41:32: [wrangler:info] GET /api/media/enhanced 200 OK (40ms)
2025-09-10T14:41:32: [wrangler:info] GET /api/media/enhanced 200 OK (40ms)
2025-09-10T14:41:41: [wrangler:info] GET / 304 Not Modified (50ms)
2025-09-10T14:41:41: [wrangler:info] GET / 304 Not Modified (50ms)
2025-09-10T14:41:41: [wrangler:info] GET /app.js 304 Not Modified (16ms)
2025-09-10T14:41:41: [wrangler:info] GET /app.js 304 Not Modified (16ms)
2025-09-10T14:41:42: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-10T14:41:42: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-10T14:41:42: [wrangler:info] GET /favicon.ico 304 Not Modified (11ms)
2025-09-10T14:41:42: [wrangler:info] GET /favicon.ico 304 Not Modified (11ms)
2025-09-10T14:41:42: [wrangler:info] GET /api/admin/media 200 OK (16ms)
2025-09-10T14:41:42: [wrangler:info] GET /api/admin/media 200 OK (16ms)
2025-09-10T14:41:42: [wrangler:info] GET /api/media/enhanced 200 OK (34ms)
2025-09-10T14:41:42: [wrangler:info] GET /api/media/enhanced 200 OK (34ms)
2025-09-10T14:41:42: [wrangler:info] GET /api/achievements 200 OK (23ms)
2025-09-10T14:41:42: [wrangler:info] GET /api/achievements 200 OK (23ms)
2025-09-10T14:41:43: [wrangler:info] GET /api/habits 200 OK (110ms)
2025-09-10T14:41:43: [wrangler:info] GET /api/habits 200 OK (110ms)
2025-09-10T14:41:43: [wrangler:info] GET /api/habits/weekly 200 OK (38ms)
2025-09-10T14:41:43: [wrangler:info] GET /api/habits/weekly 200 OK (38ms)
2025-09-10T14:41:43: [wrangler:info] GET /api/admin/users 200 OK (33ms)
2025-09-10T14:41:43: [wrangler:info] GET /api/admin/users 200 OK (33ms)
2025-09-10T14:41:43: [wrangler:info] GET /api/admin/users 200 OK (19ms)
2025-09-10T14:41:43: [wrangler:info] GET /api/admin/users 200 OK (19ms)
2025-09-10T14:41:46: [wrangler:info] GET /api/media/enhanced 200 OK (16ms)
2025-09-10T14:41:46: [wrangler:info] GET /api/media/enhanced 200 OK (16ms)
2025-09-10T14:43:04: [wrangler:info] GET / 304 Not Modified (24ms)
2025-09-10T14:43:04: [wrangler:info] GET / 304 Not Modified (24ms)
2025-09-10T14:43:04: [wrangler:info] GET /app.js 304 Not Modified (15ms)
2025-09-10T14:43:04: [wrangler:info] GET /app.js 304 Not Modified (15ms)
2025-09-10T14:43:04: [wrangler:info] GET /api/auth/validate-session 200 OK (17ms)
2025-09-10T14:43:04: [wrangler:info] GET /api/auth/validate-session 200 OK (17ms)
2025-09-10T14:43:04: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-10T14:43:04: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-10T14:43:04: [wrangler:info] GET /api/admin/media 200 OK (67ms)
2025-09-10T14:43:04: [wrangler:info] GET /api/admin/media 200 OK (67ms)
2025-09-10T14:43:05: [wrangler:info] GET /api/habits 200 OK (106ms)
2025-09-10T14:43:05: [wrangler:info] GET /api/habits 200 OK (106ms)
2025-09-10T14:43:05: [wrangler:info] GET /api/admin/users 200 OK (124ms)
2025-09-10T14:43:05: [wrangler:info] GET /api/admin/users 200 OK (124ms)
2025-09-10T14:43:05: [wrangler:info] GET /api/media/enhanced 200 OK (121ms)
2025-09-10T14:43:05: [wrangler:info] GET /api/achievements 200 OK (115ms)
2025-09-10T14:43:05: [wrangler:info] GET /api/admin/users 200 OK (26ms)
2025-09-10T14:43:05: [wrangler:info] GET /api/media/enhanced 200 OK (121ms)
2025-09-10T14:43:05: [wrangler:info] GET /api/achievements 200 OK (115ms)
2025-09-10T14:43:05: [wrangler:info] GET /api/admin/users 200 OK (26ms)
2025-09-10T14:43:06: [wrangler:info] GET /api/media/enhanced 200 OK (18ms)
2025-09-10T14:43:06: [wrangler:info] GET /api/media/enhanced 200 OK (18ms)
2025-09-10T14:43:37: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T14:43:37: 
2025-09-10T14:43:37:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T14:43:37:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:       ... 7 lines matching cause stack trace ...
2025-09-10T14:43:37:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T14:43:37:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T14:43:37:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T14:43:37:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T14:43:37:         at async onRequestPost (file:///home/user/webapp/functions/api/media/enhanced.js:281:33)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T14:43:37:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T14:43:37:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T14:43:37:   }
2025-09-10T14:43:37: 
2025-09-10T14:43:37: 
2025-09-10T14:43:37: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T14:43:37: 
2025-09-10T14:43:37:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T14:43:37:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:       ... 7 lines matching cause stack trace ...
2025-09-10T14:43:37:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T14:43:37:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T14:43:37:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T14:43:37:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T14:43:37:         at async onRequestPost (file:///home/user/webapp/functions/api/media/enhanced.js:281:33)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T14:43:37:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T14:43:37:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T14:43:37:   }
2025-09-10T14:43:37: 
2025-09-10T14:43:37: 
2025-09-10T14:43:37: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T14:43:37: 
2025-09-10T14:43:37:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T14:43:37:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:       ... 7 lines matching cause stack trace ...
2025-09-10T14:43:37:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T14:43:37:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T14:43:37:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T14:43:37:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T14:43:37:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:46:13)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T14:43:37:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T14:43:37:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T14:43:37:   }
2025-09-10T14:43:37:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T14:43:37:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T14:43:37:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:       ... 7 lines matching cause stack trace ...
2025-09-10T14:43:37:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T14:43:37:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T14:43:37:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T14:43:37:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T14:43:37:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T14:43:37:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T14:43:37:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T14:43:37:   }
2025-09-10T14:43:37:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T14:43:37:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T14:43:37:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:       ... 7 lines matching cause stack trace ...
2025-09-10T14:43:37:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T14:43:37:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T14:43:37:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T14:43:37:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T14:43:37:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T14:43:37:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T14:43:37:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T14:43:37:   }
2025-09-10T14:43:37: 
2025-09-10T14:43:37: 
2025-09-10T14:43:37: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T14:43:37: 
2025-09-10T14:43:37:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T14:43:37:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:       ... 7 lines matching cause stack trace ...
2025-09-10T14:43:37:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T14:43:37:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T14:43:37:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T14:43:37:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T14:43:37:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:46:13)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T14:43:37:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T14:43:37:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T14:43:37:   }
2025-09-10T14:43:37:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T14:43:37:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T14:43:37:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:       ... 7 lines matching cause stack trace ...
2025-09-10T14:43:37:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T14:43:37:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T14:43:37:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T14:43:37:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T14:43:37:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T14:43:37:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T14:43:37:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T14:43:37:   }
2025-09-10T14:43:37:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T14:43:37:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T14:43:37:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:       ... 7 lines matching cause stack trace ...
2025-09-10T14:43:37:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T14:43:37:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T14:43:37:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T14:43:37:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T14:43:37:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T14:43:37:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T14:43:37:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T14:43:37:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T14:43:37:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T14:43:37:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T14:43:37:   }
2025-09-10T14:43:37: 
2025-09-10T14:43:37: 
2025-09-10T14:43:37: [wrangler:info] POST /api/media/enhanced 201 Created (2991ms)
2025-09-10T14:43:37: [wrangler:info] POST /api/media/enhanced 201 Created (2991ms)
2025-09-10T14:43:37: [wrangler:info] GET /api/media/enhanced 200 OK (14ms)
2025-09-10T14:43:37: [wrangler:info] GET /api/media/enhanced 200 OK (14ms)
2025-09-10T14:43:37: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (35ms)
2025-09-10T14:43:37: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (35ms)
2025-09-10T14:43:37: [wrangler:info] GET /api/media/file/media_5d56d693-9199-4e65-b01e-d3a0a4d12b0e 200 OK (19ms)
2025-09-10T14:43:37: [wrangler:info] GET /api/media/file/media_5d56d693-9199-4e65-b01e-d3a0a4d12b0e 200 OK (19ms)
2025-09-10T14:48:45: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_02-02-04_567.log"
2025-09-10T14:48:45: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_02-02-04_567.log"
2025-09-10T14:48:48: 
2025-09-10T14:48:48:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T14:48:48: ─────────────────────────────────────────────
2025-09-10T14:48:48: 
2025-09-10T14:48:48:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T14:48:48: ─────────────────────────────────────────────
2025-09-10T14:48:49: ✨ Compiled Worker successfully
2025-09-10T14:48:49: ✨ Compiled Worker successfully
2025-09-10T14:48:49: Your Worker has access to the following bindings:
2025-09-10T14:48:49: Your Worker has access to the following bindings:
2025-09-10T14:48:49: Binding                                                    Resource                  Mode
2025-09-10T14:48:49: Binding                                                    Resource                  Mode
2025-09-10T14:48:49: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T14:48:49: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T14:48:49: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T14:48:49: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T14:48:49: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T14:48:49: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T14:48:49: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T14:48:49: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T14:48:49: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T14:48:49: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T14:48:49: 
2025-09-10T14:48:49: 
2025-09-10T14:48:49: ⎔ Starting local server...
2025-09-10T14:48:49: ⎔ Starting local server...
2025-09-10T14:48:50: [wrangler:info] Ready on http://localhost:8787
2025-09-10T14:48:50: [wrangler:info] Ready on http://localhost:8787
2025-09-10T14:48:54: [wrangler:info] GET / 200 OK (74ms)
2025-09-10T14:48:54: [wrangler:info] GET / 200 OK (74ms)
2025-09-10T14:48:54: [wrangler:info] GET /app.js 200 OK (24ms)
2025-09-10T14:48:54: [wrangler:info] GET /app.js 200 OK (24ms)
2025-09-10T14:48:54: [wrangler:info] GET /favicon.ico 200 OK (21ms)
2025-09-10T14:48:54: [wrangler:info] GET /favicon.ico 200 OK (21ms)
2025-09-10T14:52:36: [wrangler:info] GET / 200 OK (30ms)
2025-09-10T14:52:36: [wrangler:info] GET / 200 OK (30ms)
2025-09-10T14:52:36: [wrangler:info] GET /app.js 200 OK (72ms)
2025-09-10T14:52:36: [wrangler:info] GET /app.js 200 OK (72ms)
2025-09-10T14:52:36: [wrangler:info] GET /api/auth/validate-session 200 OK (14ms)
2025-09-10T14:52:36: [wrangler:info] GET /api/auth/validate-session 200 OK (14ms)
2025-09-10T14:52:37: [wrangler:info] GET /favicon.ico 304 Not Modified (19ms)
2025-09-10T14:52:37: [wrangler:info] GET /favicon.ico 304 Not Modified (19ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/habits/weekly 200 OK (34ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/habits/weekly 200 OK (34ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/habits 200 OK (73ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/habits 200 OK (73ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/admin/media 200 OK (72ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/admin/media 200 OK (72ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/admin/users 200 OK (100ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/admin/users 200 OK (100ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/achievements 200 OK (90ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/achievements 200 OK (90ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/media/enhanced 200 OK (23ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/media/enhanced 200 OK (23ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/admin/users 200 OK (30ms)
2025-09-10T14:52:37: [wrangler:info] GET /api/admin/users 200 OK (30ms)
2025-09-10T14:52:41: [wrangler:info] GET /api/media/enhanced 200 OK (28ms)
2025-09-10T14:52:41: [wrangler:info] GET /api/media/enhanced 200 OK (28ms)
2025-09-10T14:52:54: [wrangler:info] DELETE /api/media/media_5d56d693-9199-4e65-b01e-d3a0a4d12b0e/delete 200 OK (52ms)
2025-09-10T14:52:54: [wrangler:info] DELETE /api/media/media_5d56d693-9199-4e65-b01e-d3a0a4d12b0e/delete 200 OK (52ms)
2025-09-10T14:52:55: [wrangler:info] GET /api/media/enhanced 200 OK (15ms)
2025-09-10T14:52:55: [wrangler:info] GET /api/media/enhanced 200 OK (15ms)
2025-09-10T14:53:55: [wrangler:info] GET / 200 OK (22ms)
2025-09-10T14:53:55: [wrangler:info] GET / 200 OK (22ms)
2025-09-10T14:53:55: [wrangler:info] GET /app.js 200 OK (27ms)
2025-09-10T14:53:55: [wrangler:info] GET /app.js 200 OK (27ms)
2025-09-10T14:53:56: [wrangler:info] GET /favicon.ico 200 OK (20ms)
2025-09-10T14:53:56: [wrangler:info] GET /favicon.ico 200 OK (20ms)
2025-09-10T14:55:25: 
2025-09-10T14:55:25:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T14:55:25: ─────────────────────────────────────────────
2025-09-10T14:55:25: 
2025-09-10T14:55:25:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T14:55:25: ─────────────────────────────────────────────
2025-09-10T14:55:25: ✨ Compiled Worker successfully
2025-09-10T14:55:25: ✨ Compiled Worker successfully
2025-09-10T14:55:26: Your Worker has access to the following bindings:
2025-09-10T14:55:26: Your Worker has access to the following bindings:
2025-09-10T14:55:26: Binding                                                    Resource                  Mode
2025-09-10T14:55:26: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T14:55:26: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T14:55:26: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T14:55:26: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T14:55:26: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T14:55:26: Binding                                                    Resource                  Mode
2025-09-10T14:55:26: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T14:55:26: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T14:55:26: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T14:55:26: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T14:55:26: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T14:55:26: 
2025-09-10T14:55:26: 
2025-09-10T14:55:26: [wrangler:info] Ready on http://localhost:8787
2025-09-10T14:55:26: [wrangler:info] Ready on http://localhost:8787
2025-09-10T14:55:26: ⎔ Starting local server...
2025-09-10T14:55:26: ⎔ Starting local server...
2025-09-10T14:55:26: [wrangler:info] GET /api/habits 200 OK (40ms)
2025-09-10T14:55:26: [wrangler:info] GET /api/habits 200 OK (40ms)
2025-09-10T14:55:48: [wrangler:info] GET /api/habits 200 OK (22ms)
2025-09-10T14:55:48: [wrangler:info] GET /api/habits 200 OK (22ms)
2025-09-10T14:55:53: [wrangler:info] GET /api/habits 200 OK (17ms)
2025-09-10T14:55:53: [wrangler:info] GET /api/habits 200 OK (17ms)
2025-09-10T14:59:33: 
2025-09-10T14:59:33:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T14:59:33: ─────────────────────────────────────────────
2025-09-10T14:59:33: 
2025-09-10T14:59:33:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T14:59:33: ─────────────────────────────────────────────
2025-09-10T14:59:33: ✨ Compiled Worker successfully
2025-09-10T14:59:33: ✨ Compiled Worker successfully
2025-09-10T14:59:33: Your Worker has access to the following bindings:
2025-09-10T14:59:33: Your Worker has access to the following bindings:
2025-09-10T14:59:33: Binding                                                    Resource                  Mode
2025-09-10T14:59:33: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T14:59:33: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T14:59:33: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T14:59:33: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T14:59:33: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T14:59:33: Binding                                                    Resource                  Mode
2025-09-10T14:59:33: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T14:59:33: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T14:59:33: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T14:59:33: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T14:59:33: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T14:59:33: 
2025-09-10T14:59:33: 
2025-09-10T14:59:33: [wrangler:info] Ready on http://localhost:8787
2025-09-10T14:59:33: [wrangler:info] Ready on http://localhost:8787
2025-09-10T14:59:33: ⎔ Starting local server...
2025-09-10T14:59:33: ⎔ Starting local server...
2025-09-10T15:01:52: [wrangler:info] GET / 200 OK (51ms)
2025-09-10T15:01:52: [wrangler:info] GET / 200 OK (51ms)
2025-09-10T15:01:52: [wrangler:info] GET /app.js 200 OK (23ms)
2025-09-10T15:01:52: [wrangler:info] GET /app.js 200 OK (23ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/auth/validate-session 200 OK (17ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/auth/validate-session 200 OK (17ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/habits/weekly 200 OK (26ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/habits/weekly 200 OK (26ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/habits 200 OK (75ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/habits 200 OK (75ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/admin/media 200 OK (71ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/admin/media 200 OK (71ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/admin/users 200 OK (78ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/admin/users 200 OK (78ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/media/enhanced 200 OK (27ms)
2025-09-10T15:01:52: [wrangler:info] GET /api/media/enhanced 200 OK (27ms)
2025-09-10T15:01:53: [wrangler:info] GET /api/achievements 200 OK (56ms)
2025-09-10T15:01:53: [wrangler:info] GET /api/achievements 200 OK (56ms)
2025-09-10T15:01:53: [wrangler:info] GET /api/admin/users 200 OK (22ms)
2025-09-10T15:01:53: [wrangler:info] GET /api/admin/users 200 OK (22ms)
2025-09-10T15:01:57: [wrangler:info] GET /api/media/enhanced 200 OK (19ms)
2025-09-10T15:01:57: [wrangler:info] GET /api/media/enhanced 200 OK (19ms)
2025-09-10T15:02:04: [wrangler:info] DELETE /api/media/media_08e981f3-2d71-4b8a-b31e-97384e950d18/delete 200 OK (43ms)
2025-09-10T15:02:04: [wrangler:info] DELETE /api/media/media_08e981f3-2d71-4b8a-b31e-97384e950d18/delete 200 OK (43ms)
2025-09-10T15:02:04: [wrangler:info] GET /api/media/enhanced 200 OK (18ms)
2025-09-10T15:02:04: [wrangler:info] GET /api/media/enhanced 200 OK (18ms)
2025-09-10T15:02:24: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T15:02:24: 
2025-09-10T15:02:24:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:02:24:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:       ... 7 lines matching cause stack trace ...
2025-09-10T15:02:24:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:02:24:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:02:24:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:02:24:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:02:24:         at async onRequestPost (file:///home/user/webapp/functions/api/media/enhanced.js:281:33)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:02:24:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:02:24:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:02:24:   }
2025-09-10T15:02:24: 
2025-09-10T15:02:24: 
2025-09-10T15:02:24: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T15:02:24: 
2025-09-10T15:02:24:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:02:24:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:       ... 7 lines matching cause stack trace ...
2025-09-10T15:02:24:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:02:24:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:02:24:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:02:24:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:02:24:         at async onRequestPost (file:///home/user/webapp/functions/api/media/enhanced.js:281:33)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:02:24:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:02:24:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:02:24:   }
2025-09-10T15:02:24: 
2025-09-10T15:02:24: 
2025-09-10T15:02:24: [wrangler:info] POST /api/media/enhanced 201 Created (1807ms)
2025-09-10T15:02:24: [wrangler:info] POST /api/media/enhanced 201 Created (1807ms)
2025-09-10T15:02:24: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T15:02:24: 
2025-09-10T15:02:24:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:02:24:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:       ... 7 lines matching cause stack trace ...
2025-09-10T15:02:24:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:02:24:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T15:02:24:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:02:24:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T15:02:24:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:46:13)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:02:24:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:02:24:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:02:24:   }
2025-09-10T15:02:24: 
2025-09-10T15:02:24: 
2025-09-10T15:02:24: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T15:02:24: 
2025-09-10T15:02:24:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:02:24:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:       ... 7 lines matching cause stack trace ...
2025-09-10T15:02:24:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:02:24:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T15:02:24:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:02:24:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T15:02:24:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:46:13)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:02:24:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:02:24:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:02:24:   }
2025-09-10T15:02:24: 
2025-09-10T15:02:24: 
2025-09-10T15:02:24: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T15:02:24: 
2025-09-10T15:02:24:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:02:24:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:       ... 7 lines matching cause stack trace ...
2025-09-10T15:02:24:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:02:24:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:02:24:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:02:24:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:02:24:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:02:24:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:02:24:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:02:24:   }
2025-09-10T15:02:24:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:02:24:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:02:24:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:       ... 7 lines matching cause stack trace ...
2025-09-10T15:02:24:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T15:02:24:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:02:24:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:02:24:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:02:24:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:02:24:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:02:24:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:02:24:   }
2025-09-10T15:02:24: 
2025-09-10T15:02:24: 
2025-09-10T15:02:24: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T15:02:24: 
2025-09-10T15:02:24:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:02:24:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:       ... 7 lines matching cause stack trace ...
2025-09-10T15:02:24:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:02:24:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:02:24:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:02:24:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:02:24:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:02:24:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:02:24:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:02:24:   }
2025-09-10T15:02:24:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:02:24:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:02:24:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:       ... 7 lines matching cause stack trace ...
2025-09-10T15:02:24:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T15:02:24:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:02:24:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:02:24:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:02:24:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:02:24:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:02:24:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:02:24:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:02:24:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:02:24:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:02:24:   }
2025-09-10T15:02:24: 
2025-09-10T15:02:24: 
2025-09-10T15:02:24: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (52ms)
2025-09-10T15:02:24: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (52ms)
2025-09-10T15:02:24: [wrangler:info] GET /api/media/enhanced 200 OK (69ms)
2025-09-10T15:02:24: [wrangler:info] GET /api/media/enhanced 200 OK (69ms)
2025-09-10T15:02:24: [wrangler:info] GET /api/media/file/media_d90c85b3-3abd-451e-8b3d-1197486f2949 200 OK (21ms)
2025-09-10T15:02:24: [wrangler:info] GET /api/media/file/media_d90c85b3-3abd-451e-8b3d-1197486f2949 200 OK (21ms)
2025-09-10T15:06:29: [wrangler:info] DELETE /api/media/media_d90c85b3-3abd-451e-8b3d-1197486f2949/delete 200 OK (31ms)
2025-09-10T15:06:29: [wrangler:info] DELETE /api/media/media_d90c85b3-3abd-451e-8b3d-1197486f2949/delete 200 OK (31ms)
2025-09-10T15:06:29: [wrangler:info] GET /api/media/enhanced 200 OK (30ms)
2025-09-10T15:06:29: [wrangler:info] GET /api/media/enhanced 200 OK (30ms)
2025-09-10T15:06:33: [wrangler:info] GET / 200 OK (38ms)
2025-09-10T15:06:33: [wrangler:info] GET / 200 OK (38ms)
2025-09-10T15:06:33: [wrangler:info] GET /app.js 200 OK (36ms)
2025-09-10T15:06:33: [wrangler:info] GET /app.js 200 OK (36ms)
2025-09-10T15:06:33: [wrangler:info] GET /favicon.ico 304 Not Modified (49ms)
2025-09-10T15:06:33: [wrangler:info] GET /favicon.ico 304 Not Modified (49ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/auth/validate-session 200 OK (46ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/auth/validate-session 200 OK (46ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/admin/users 200 OK (46ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/admin/users 200 OK (46ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/habits/weekly 200 OK (72ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/habits/weekly 200 OK (72ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/admin/media 200 OK (46ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/admin/media 200 OK (46ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/media/enhanced 200 OK (143ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/media/enhanced 200 OK (143ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/habits 200 OK (143ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/habits 200 OK (143ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/admin/users 200 OK (86ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/admin/users 200 OK (86ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/achievements 200 OK (149ms)
2025-09-10T15:06:34: [wrangler:info] GET /api/achievements 200 OK (149ms)
2025-09-10T15:07:37: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_14-59-32_666.log"
2025-09-10T15:07:37: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_14-59-32_666.log"
2025-09-10T15:07:38: 
2025-09-10T15:07:38:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:07:38: ─────────────────────────────────────────────
2025-09-10T15:07:38: 
2025-09-10T15:07:38:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:07:38: ─────────────────────────────────────────────
2025-09-10T15:07:39: ✨ Compiled Worker successfully
2025-09-10T15:07:39: ✨ Compiled Worker successfully
2025-09-10T15:07:39: Your Worker has access to the following bindings:
2025-09-10T15:07:39: Your Worker has access to the following bindings:
2025-09-10T15:07:39: Binding                                                    Resource                  Mode
2025-09-10T15:07:39: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:07:39: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:07:39: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:07:39: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:07:39: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:07:39: 
2025-09-10T15:07:39: Binding                                                    Resource                  Mode
2025-09-10T15:07:39: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:07:39: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:07:39: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:07:39: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:07:39: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:07:39: 
2025-09-10T15:07:39: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:07:39: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:07:39: ⎔ Starting local server...
2025-09-10T15:07:39: ⎔ Starting local server...
2025-09-10T15:08:13: [wrangler:info] GET / 200 OK (54ms)
2025-09-10T15:08:13: [wrangler:info] GET / 200 OK (54ms)
2025-09-10T15:08:13: [wrangler:info] GET /app.js 200 OK (23ms)
2025-09-10T15:08:13: [wrangler:info] GET /app.js 200 OK (23ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/admin/users 200 OK (26ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/admin/users 200 OK (26ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/admin/media 200 OK (69ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/admin/media 200 OK (69ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/media/enhanced 200 OK (72ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/media/enhanced 200 OK (72ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/achievements 200 OK (84ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/achievements 200 OK (84ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/admin/users 200 OK (27ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/admin/users 200 OK (27ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/habits 200 OK (33ms)
2025-09-10T15:08:13: [wrangler:info] GET /api/habits 200 OK (33ms)
2025-09-10T15:08:15: [wrangler:info] GET /api/media/enhanced 200 OK (13ms)
2025-09-10T15:08:15: [wrangler:info] GET /api/media/enhanced 200 OK (13ms)
2025-09-10T15:08:25: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T15:08:25: 
2025-09-10T15:08:25:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:08:25:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:       ... 7 lines matching cause stack trace ...
2025-09-10T15:08:25:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:08:25:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:08:25:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:08:25:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:08:25:         at async onRequestPost (file:///home/user/webapp/functions/api/media/enhanced.js:281:33)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:08:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:08:25:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:08:25:   }
2025-09-10T15:08:25: 
2025-09-10T15:08:25: 
2025-09-10T15:08:25: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T15:08:25: 
2025-09-10T15:08:25:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:08:25:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:       ... 7 lines matching cause stack trace ...
2025-09-10T15:08:25:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:08:25:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:08:25:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:08:25:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:08:25:         at async onRequestPost (file:///home/user/webapp/functions/api/media/enhanced.js:281:33)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:08:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:08:25:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:08:25:   }
2025-09-10T15:08:25: 
2025-09-10T15:08:25: 
2025-09-10T15:08:25: [wrangler:info] POST /api/media/enhanced 201 Created (1803ms)
2025-09-10T15:08:25: [wrangler:info] POST /api/media/enhanced 201 Created (1803ms)
2025-09-10T15:08:25: [wrangler:info] GET /api/media/enhanced 200 OK (21ms)
2025-09-10T15:08:25: [wrangler:info] GET /api/media/enhanced 200 OK (21ms)
2025-09-10T15:08:25: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T15:08:25: 
2025-09-10T15:08:25:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:08:25:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:       ... 7 lines matching cause stack trace ...
2025-09-10T15:08:25:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:08:25:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T15:08:25:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:08:25:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T15:08:25:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:46:13)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:08:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:08:25:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:08:25:   }
2025-09-10T15:08:25:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:08:25:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:08:25:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:       ... 7 lines matching cause stack trace ...
2025-09-10T15:08:25:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:08:25:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:08:25:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:08:25:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:08:25:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:08:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:08:25:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:08:25:   }
2025-09-10T15:08:25:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:08:25:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:08:25:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:       ... 7 lines matching cause stack trace ...
2025-09-10T15:08:25:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T15:08:25:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:08:25:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:08:25:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:08:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:08:25:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:08:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:08:25:   }
2025-09-10T15:08:25: 
2025-09-10T15:08:25: 
2025-09-10T15:08:25: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T15:08:25: 
2025-09-10T15:08:25:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:08:25:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:       ... 7 lines matching cause stack trace ...
2025-09-10T15:08:25:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:08:25:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T15:08:25:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:08:25:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T15:08:25:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:46:13)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:08:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:08:25:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:08:25:   }
2025-09-10T15:08:25:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:08:25:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:08:25:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:       ... 7 lines matching cause stack trace ...
2025-09-10T15:08:25:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:08:25:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:08:25:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:08:25:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:08:25:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:08:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:08:25:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:08:25:   }
2025-09-10T15:08:25:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:08:25:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:08:25:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:       ... 7 lines matching cause stack trace ...
2025-09-10T15:08:25:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T15:08:25:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:08:25:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:08:25:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:08:25:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:08:25:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:08:25:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:08:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:08:25:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:08:25:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:08:25:   }
2025-09-10T15:08:25: 
2025-09-10T15:08:25: 
2025-09-10T15:08:25: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (51ms)
2025-09-10T15:08:25: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (51ms)
2025-09-10T15:08:25: [wrangler:info] GET /api/media/file/media_e9f8187f-14a8-4dc0-b82c-b9e7863141b5 200 OK (34ms)
2025-09-10T15:08:25: [wrangler:info] GET /api/media/file/media_e9f8187f-14a8-4dc0-b82c-b9e7863141b5 200 OK (34ms)
2025-09-10T15:11:54: [wrangler:info] GET /api/achievements 200 OK (25ms)
2025-09-10T15:11:54: [wrangler:info] GET /api/achievements 200 OK (25ms)
2025-09-10T15:12:26: [wrangler:info] GET /api/media/enhanced 200 OK (30ms)
2025-09-10T15:12:26: [wrangler:info] GET /api/media/enhanced 200 OK (30ms)
2025-09-10T15:12:28: [wrangler:info] GET /api/habits 200 OK (26ms)
2025-09-10T15:12:28: [wrangler:info] GET /api/habits 200 OK (26ms)
2025-09-10T15:12:40: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_15-07-38_549.log"
2025-09-10T15:12:40: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_15-07-38_549.log"
2025-09-10T15:12:41: 
2025-09-10T15:12:41:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:12:41: ─────────────────────────────────────────────
2025-09-10T15:12:41: 
2025-09-10T15:12:41:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:12:41: ─────────────────────────────────────────────
2025-09-10T15:12:42: ✨ Compiled Worker successfully
2025-09-10T15:12:42: ✨ Compiled Worker successfully
2025-09-10T15:12:42: Your Worker has access to the following bindings:
2025-09-10T15:12:42: Your Worker has access to the following bindings:
2025-09-10T15:12:42: Binding                                                    Resource                  Mode
2025-09-10T15:12:42: Binding                                                    Resource                  Mode
2025-09-10T15:12:42: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:12:42: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:12:42: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:12:42: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:12:42: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:12:42: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:12:42: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:12:42: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:12:42: 
2025-09-10T15:12:42: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:12:42: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:12:42: 
2025-09-10T15:12:42: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:12:42: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:12:42: ⎔ Starting local server...
2025-09-10T15:12:42: ⎔ Starting local server...
2025-09-10T15:12:48: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T15:12:48: 
2025-09-10T15:12:48:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:12:48:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:       ... 7 lines matching cause stack trace ...
2025-09-10T15:12:48:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T15:12:48:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:12:48:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:12:48:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:12:48:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/database.js:133:16)
2025-09-10T15:12:48:         at async onRequestPost (file:///home/user/webapp/functions/api/habits/index.js:63:33)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:12:48:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:12:48:   }
2025-09-10T15:12:48: 
2025-09-10T15:12:48: 
2025-09-10T15:12:48: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T15:12:48: 
2025-09-10T15:12:48:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:12:48:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:       ... 7 lines matching cause stack trace ...
2025-09-10T15:12:48:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T15:12:48:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:12:48:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:12:48:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:12:48:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/database.js:133:16)
2025-09-10T15:12:48:         at async onRequestPost (file:///home/user/webapp/functions/api/habits/index.js:63:33)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:12:48:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:12:48:   }
2025-09-10T15:12:48: 
2025-09-10T15:12:48: 
2025-09-10T15:12:48: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T15:12:48: 
2025-09-10T15:12:48:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:12:48:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:       ... 7 lines matching cause stack trace ...
2025-09-10T15:12:48:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:12:48:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:12:48:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:12:48:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:12:48:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:12:48:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:12:48:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:12:48:   }
2025-09-10T15:12:48:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:12:48:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:12:48:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:       ... 7 lines matching cause stack trace ...
2025-09-10T15:12:48:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T15:12:48:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:12:48:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:12:48:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:12:48:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:12:48:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:12:48:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:12:48:   }
2025-09-10T15:12:48: 
2025-09-10T15:12:48: 
2025-09-10T15:12:48: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T15:12:48: 
2025-09-10T15:12:48:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:12:48:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:       ... 7 lines matching cause stack trace ...
2025-09-10T15:12:48:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T15:12:48:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T15:12:48:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:12:48:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T15:12:48:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:12:48:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:12:48:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:12:48:   }
2025-09-10T15:12:48:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:12:48:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T15:12:48:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:       ... 7 lines matching cause stack trace ...
2025-09-10T15:12:48:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T15:12:48:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T15:12:48:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T15:12:48:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T15:12:48:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T15:12:48:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T15:12:48:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T15:12:48:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:12:48:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T15:12:48:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T15:12:48:   }
2025-09-10T15:12:48: 
2025-09-10T15:12:48: 
2025-09-10T15:12:48: [wrangler:info] POST /api/habits 201 Created (79ms)
2025-09-10T15:12:48: [wrangler:info] POST /api/habits 201 Created (79ms)
2025-09-10T15:12:48: [wrangler:info] GET /api/habits/weekly 200 OK (121ms)
2025-09-10T15:12:48: [wrangler:info] GET /api/habits/weekly 200 OK (121ms)
2025-09-10T15:12:48: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (43ms)
2025-09-10T15:12:48: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (43ms)
2025-09-10T15:12:48: [wrangler:info] GET /api/habits 200 OK (98ms)
2025-09-10T15:12:48: [wrangler:info] GET /api/habits 200 OK (98ms)
2025-09-10T15:12:52: [wrangler:info] GET /api/achievements 200 OK (28ms)
2025-09-10T15:12:52: [wrangler:info] GET /api/achievements 200 OK (28ms)
2025-09-10T15:14:26: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_15-12-41_255.log"
2025-09-10T15:14:26: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_15-12-41_255.log"
2025-09-10T15:14:28: 
2025-09-10T15:14:28:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:14:28: ─────────────────────────────────────────────
2025-09-10T15:14:28: 
2025-09-10T15:14:28:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:14:28: ─────────────────────────────────────────────
2025-09-10T15:14:28: ✨ Compiled Worker successfully
2025-09-10T15:14:28: ✨ Compiled Worker successfully
2025-09-10T15:14:28: Your Worker has access to the following bindings:
2025-09-10T15:14:28: Your Worker has access to the following bindings:
2025-09-10T15:14:28: Binding                                                    Resource                  Mode
2025-09-10T15:14:28: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:14:28: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:14:28: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:14:28: Binding                                                    Resource                  Mode
2025-09-10T15:14:28: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:14:28: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:14:28: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:14:28: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:14:28: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:14:28: 
2025-09-10T15:14:28: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:14:28: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:14:28: 
2025-09-10T15:14:28: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:14:28: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:14:28: ⎔ Starting local server...
2025-09-10T15:14:28: ⎔ Starting local server...
2025-09-10T15:14:51: [wrangler:info] GET / 200 OK (52ms)
2025-09-10T15:14:51: [wrangler:info] GET / 200 OK (52ms)
2025-09-10T15:14:51: [wrangler:info] GET /app.js 200 OK (24ms)
2025-09-10T15:14:51: [wrangler:info] GET /app.js 200 OK (24ms)
2025-09-10T15:14:52: [wrangler:info] GET /favicon.ico 200 OK (20ms)
2025-09-10T15:14:52: [wrangler:info] GET /favicon.ico 200 OK (20ms)
2025-09-10T15:15:52: [wrangler:info] GET / 200 OK (23ms)
2025-09-10T15:15:52: [wrangler:info] GET / 200 OK (23ms)
2025-09-10T15:15:52: [wrangler:info] GET /app.js 200 OK (26ms)
2025-09-10T15:15:52: [wrangler:info] GET /app.js 200 OK (26ms)
2025-09-10T15:15:52: [wrangler:info] GET /favicon.ico 200 OK (20ms)
2025-09-10T15:15:52: [wrangler:info] GET /favicon.ico 200 OK (20ms)
2025-09-10T15:17:15: [wrangler:info] GET /debug_test.html 200 OK (22ms)
2025-09-10T15:17:15: [wrangler:info] GET /debug_test.html 200 OK (22ms)
2025-09-10T15:17:15: [wrangler:info] GET /app.js 200 OK (22ms)
2025-09-10T15:17:15: [wrangler:info] GET /app.js 200 OK (22ms)
2025-09-10T15:17:16: [wrangler:info] GET /favicon.ico 200 OK (15ms)
2025-09-10T15:17:16: [wrangler:info] GET /favicon.ico 200 OK (15ms)
2025-09-10T15:18:20: ✨ Compiled Worker successfully
2025-09-10T15:18:20: ✨ Compiled Worker successfully
2025-09-10T15:18:20: ⎔ Reloading local server...
2025-09-10T15:18:20: ⎔ Reloading local server...
2025-09-10T15:36:04: 
2025-09-10T15:36:04:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:36:04: ─────────────────────────────────────────────
2025-09-10T15:36:04: 
2025-09-10T15:36:04:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:36:04: ─────────────────────────────────────────────
2025-09-10T15:36:04: ✨ Compiled Worker successfully
2025-09-10T15:36:04: ✨ Compiled Worker successfully
2025-09-10T15:36:05: Your Worker has access to the following bindings:
2025-09-10T15:36:05: Your Worker has access to the following bindings:
2025-09-10T15:36:05: Binding                                                    Resource                  Mode
2025-09-10T15:36:05: Binding                                                    Resource                  Mode
2025-09-10T15:36:05: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:36:05: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:36:05: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:36:05: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:36:05: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:36:05: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:36:05: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:36:05: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:36:05: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:36:05: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:36:05: 
2025-09-10T15:36:05: 
2025-09-10T15:36:05: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:36:05: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:36:05: ⎔ Starting local server...
2025-09-10T15:36:05: ⎔ Starting local server...
2025-09-10T15:37:24: 
2025-09-10T15:37:24:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:37:24: ─────────────────────────────────────────────
2025-09-10T15:37:24: 
2025-09-10T15:37:24:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:37:24: ─────────────────────────────────────────────
2025-09-10T15:37:24: ✨ Compiled Worker successfully
2025-09-10T15:37:24: ✨ Compiled Worker successfully
2025-09-10T15:37:25: Your Worker has access to the following bindings:
2025-09-10T15:37:25: Your Worker has access to the following bindings:
2025-09-10T15:37:25: Binding                                                    Resource                  Mode
2025-09-10T15:37:25: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:37:25: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:37:25: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:37:25: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:37:25: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:37:25: Binding                                                    Resource                  Mode
2025-09-10T15:37:25: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:37:25: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:37:25: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:37:25: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:37:25: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:37:25: 
2025-09-10T15:37:25: 
2025-09-10T15:37:25: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:37:25: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:37:25: ⎔ Starting local server...
2025-09-10T15:37:25: ⎔ Starting local server...
2025-09-10T15:37:28: [wrangler:info] GET / 200 OK (55ms)
2025-09-10T15:37:28: [wrangler:info] GET / 200 OK (55ms)
2025-09-10T15:37:29: [wrangler:info] GET /app.js 200 OK (41ms)
2025-09-10T15:37:29: [wrangler:info] GET /app.js 200 OK (41ms)
2025-09-10T15:37:29: [wrangler:info] GET /favicon.ico 200 OK (22ms)
2025-09-10T15:37:29: [wrangler:info] GET /favicon.ico 200 OK (22ms)
2025-09-10T15:59:24: 
2025-09-10T15:59:24:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:59:24: ─────────────────────────────────────────────
2025-09-10T15:59:24: 
2025-09-10T15:59:24:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T15:59:24: ─────────────────────────────────────────────
2025-09-10T15:59:24: ✨ Compiled Worker successfully
2025-09-10T15:59:24: ✨ Compiled Worker successfully
2025-09-10T15:59:24: Your Worker has access to the following bindings:
2025-09-10T15:59:24: Your Worker has access to the following bindings:
2025-09-10T15:59:24: Binding                                                    Resource                  Mode
2025-09-10T15:59:24: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:59:24: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:59:24: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:59:24: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:59:24: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:59:24: Binding                                                    Resource                  Mode
2025-09-10T15:59:24: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T15:59:24: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T15:59:24: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T15:59:24: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T15:59:24: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T15:59:24: 
2025-09-10T15:59:24: 
2025-09-10T15:59:25: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:59:25: [wrangler:info] Ready on http://localhost:8787
2025-09-10T15:59:25: ⎔ Starting local server...
2025-09-10T15:59:25: ⎔ Starting local server...
2025-09-10T15:59:55: [wrangler:info] GET / 200 OK (47ms)
2025-09-10T15:59:55: [wrangler:info] GET / 200 OK (47ms)
2025-09-10T15:59:55: [wrangler:info] GET /app.js 200 OK (27ms)
2025-09-10T15:59:55: [wrangler:info] GET /app.js 200 OK (27ms)
2025-09-10T15:59:55: [wrangler:info] GET /favicon.ico 200 OK (18ms)
2025-09-10T15:59:55: [wrangler:info] GET /favicon.ico 200 OK (18ms)
2025-09-10T16:01:31: 
2025-09-10T16:01:31:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:01:31: ─────────────────────────────────────────────
2025-09-10T16:01:31: 
2025-09-10T16:01:31:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:01:31: ─────────────────────────────────────────────
2025-09-10T16:01:31: ✨ Compiled Worker successfully
2025-09-10T16:01:31: ✨ Compiled Worker successfully
2025-09-10T16:01:32: Your Worker has access to the following bindings:
2025-09-10T16:01:32: Your Worker has access to the following bindings:
2025-09-10T16:01:32: Binding                                                    Resource                  Mode
2025-09-10T16:01:32: Binding                                                    Resource                  Mode
2025-09-10T16:01:32: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:01:32: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:01:32: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:01:32: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:01:32: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:01:32: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:01:32: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:01:32: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:01:32: 
2025-09-10T16:01:32: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:01:32: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:01:32: 
2025-09-10T16:01:32: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:01:32: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:01:32: ⎔ Starting local server...
2025-09-10T16:01:32: ⎔ Starting local server...
2025-09-10T16:02:33: 
2025-09-10T16:02:33:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:02:33: ─────────────────────────────────────────────
2025-09-10T16:02:33: 
2025-09-10T16:02:33:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:02:33: ─────────────────────────────────────────────
2025-09-10T16:02:33: ✨ Compiled Worker successfully
2025-09-10T16:02:33: ✨ Compiled Worker successfully
2025-09-10T16:02:33: Your Worker has access to the following bindings:
2025-09-10T16:02:33: Your Worker has access to the following bindings:
2025-09-10T16:02:33: Binding                                                    Resource                  Mode
2025-09-10T16:02:33: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:02:33: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:02:33: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:02:33: Binding                                                    Resource                  Mode
2025-09-10T16:02:33: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:02:33: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:02:33: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:02:33: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:02:33: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:02:33: 
2025-09-10T16:02:33: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:02:33: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:02:33: 
2025-09-10T16:02:34: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:02:34: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:02:34: ⎔ Starting local server...
2025-09-10T16:02:34: ⎔ Starting local server...
2025-09-10T16:04:05: ✨ Compiled Worker successfully
2025-09-10T16:04:05: ✨ Compiled Worker successfully
2025-09-10T16:04:05: ⎔ Reloading local server...
2025-09-10T16:04:05: ⎔ Reloading local server...
2025-09-10T16:13:00: 
2025-09-10T16:13:00:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:13:00: ─────────────────────────────────────────────
2025-09-10T16:13:00: 
2025-09-10T16:13:00:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:13:00: ─────────────────────────────────────────────
2025-09-10T16:13:00: ✨ Compiled Worker successfully
2025-09-10T16:13:00: ✨ Compiled Worker successfully
2025-09-10T16:13:00: Your Worker has access to the following bindings:
2025-09-10T16:13:00: Your Worker has access to the following bindings:
2025-09-10T16:13:00: Binding                                                    Resource                  Mode
2025-09-10T16:13:00: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:13:00: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:13:00: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:13:00: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:13:00: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:13:00: Binding                                                    Resource                  Mode
2025-09-10T16:13:00: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:13:00: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:13:00: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:13:00: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:13:00: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:13:00: 
2025-09-10T16:13:00: 
2025-09-10T16:13:01: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:13:01: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:13:01: ⎔ Starting local server...
2025-09-10T16:13:01: ⎔ Starting local server...
2025-09-10T16:13:05: [wrangler:info] GET / 200 OK (49ms)
2025-09-10T16:13:05: [wrangler:info] GET / 200 OK (49ms)
2025-09-10T16:13:05: [wrangler:info] GET /app.js 200 OK (25ms)
2025-09-10T16:13:05: [wrangler:info] GET /app.js 200 OK (25ms)
2025-09-10T16:13:07: [wrangler:info] GET /favicon.ico 200 OK (25ms)
2025-09-10T16:13:07: [wrangler:info] GET /favicon.ico 200 OK (25ms)
2025-09-10T16:13:07: [wrangler:info] GET /api/media/enhanced 200 OK (28ms)
2025-09-10T16:13:07: [wrangler:info] GET /api/media/enhanced 200 OK (28ms)
2025-09-10T16:13:13: [wrangler:info] GET /api/nutrition 200 OK (41ms)
2025-09-10T16:13:13: [wrangler:info] GET /api/nutrition 200 OK (41ms)
2025-09-10T16:14:54: 
2025-09-10T16:14:54:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:14:54: ─────────────────────────────────────────────
2025-09-10T16:14:54: 
2025-09-10T16:14:54:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:14:54: ─────────────────────────────────────────────
2025-09-10T16:14:55: ✨ Compiled Worker successfully
2025-09-10T16:14:55: ✨ Compiled Worker successfully
2025-09-10T16:14:55: Your Worker has access to the following bindings:
2025-09-10T16:14:55: Your Worker has access to the following bindings:
2025-09-10T16:14:55: Binding                                                    Resource                  Mode
2025-09-10T16:14:55: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:14:55: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:14:55: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:14:55: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:14:55: Binding                                                    Resource                  Mode
2025-09-10T16:14:55: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:14:55: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:14:55: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:14:55: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:14:55: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:14:55: 
2025-09-10T16:14:55: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:14:55: 
2025-09-10T16:14:55: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:14:55: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:14:55: ⎔ Starting local server...
2025-09-10T16:14:55: ⎔ Starting local server...
2025-09-10T16:33:17: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T16:33:17: 
2025-09-10T16:33:17:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:33:17:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:       ... 7 lines matching cause stack trace ...
2025-09-10T16:33:17:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:33:17:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:33:17:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:33:17:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T16:33:17:         at async onRequestPost (file:///home/user/webapp/functions/api/nutrition/index.js:74:13)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:33:17:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:33:17:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:33:17:   }
2025-09-10T16:33:17: 
2025-09-10T16:33:17: 
2025-09-10T16:33:17: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T16:33:17: 
2025-09-10T16:33:17:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:33:17:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:       ... 7 lines matching cause stack trace ...
2025-09-10T16:33:17:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:33:17:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:33:17:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:33:17:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T16:33:17:         at async onRequestPost (file:///home/user/webapp/functions/api/nutrition/index.js:74:13)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:33:17:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:33:17:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:33:17:   }
2025-09-10T16:33:17: 
2025-09-10T16:33:17: 
2025-09-10T16:33:17: [wrangler:info] POST /api/nutrition 200 OK (97ms)
2025-09-10T16:33:17: [wrangler:info] POST /api/nutrition 200 OK (97ms)
2025-09-10T16:33:17: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T16:33:17: 
2025-09-10T16:33:17:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:33:17:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:       ... 7 lines matching cause stack trace ...
2025-09-10T16:33:17:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:33:17:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T16:33:17:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:33:17:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T16:33:17:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:52:13)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:33:17:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:33:17:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:33:17:   }
2025-09-10T16:33:17:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:33:17:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:33:17:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:       ... 7 lines matching cause stack trace ...
2025-09-10T16:33:17:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:33:17:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:33:17:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:33:17:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T16:33:17:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:33:17:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:33:17:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:33:17:   }
2025-09-10T16:33:17:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:33:17:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:33:17:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:       ... 7 lines matching cause stack trace ...
2025-09-10T16:33:17:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T16:33:17:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:33:17:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:33:17:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:33:17:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:33:17:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:33:17:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:33:17:   }
2025-09-10T16:33:17: 
2025-09-10T16:33:17: 
2025-09-10T16:33:17: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T16:33:17: 
2025-09-10T16:33:17:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:33:17:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:       ... 7 lines matching cause stack trace ...
2025-09-10T16:33:17:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:33:17:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T16:33:17:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:33:17:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T16:33:17:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:52:13)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:33:17:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:33:17:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:33:17:   }
2025-09-10T16:33:17:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:33:17:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:33:17:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:       ... 7 lines matching cause stack trace ...
2025-09-10T16:33:17:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:33:17:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:33:17:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:33:17:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T16:33:17:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:33:17:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:33:17:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:33:17:   }
2025-09-10T16:33:17:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:33:17:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:33:17:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:       ... 7 lines matching cause stack trace ...
2025-09-10T16:33:17:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T16:33:17:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:33:17:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:33:17:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:33:17:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:33:17:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:33:17:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:33:17:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:33:17:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:33:17:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:33:17:   }
2025-09-10T16:33:17: 
2025-09-10T16:33:17: 
2025-09-10T16:33:17: [wrangler:info] GET /api/nutrition 200 OK (43ms)
2025-09-10T16:33:17: [wrangler:info] GET /api/nutrition 200 OK (43ms)
2025-09-10T16:33:17: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (104ms)
2025-09-10T16:33:17: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (104ms)
2025-09-10T16:33:28: [wrangler:info] DELETE /api/nutrition/nutr_1bbfacad-eae9-48aa-80b1-2057c1ace9bf 200 OK (43ms)
2025-09-10T16:33:28: [wrangler:info] DELETE /api/nutrition/nutr_1bbfacad-eae9-48aa-80b1-2057c1ace9bf 200 OK (43ms)
2025-09-10T16:33:28: [wrangler:info] GET /api/nutrition 200 OK (42ms)
2025-09-10T16:33:28: [wrangler:info] GET /api/nutrition 200 OK (42ms)
2025-09-10T16:33:35: [wrangler:info] GET /api/achievements 200 OK (29ms)
2025-09-10T16:33:35: [wrangler:info] GET /api/achievements 200 OK (29ms)
2025-09-10T16:33:38: [wrangler:info] GET /api/admin/media 200 OK (51ms)
2025-09-10T16:33:38: [wrangler:info] GET /api/admin/media 200 OK (51ms)
2025-09-10T16:33:38: [wrangler:info] GET /api/admin/users 200 OK (35ms)
2025-09-10T16:33:38: [wrangler:info] GET /api/admin/users 200 OK (35ms)
2025-09-10T16:33:38: [wrangler:info] GET /api/admin/users 200 OK (24ms)
2025-09-10T16:33:38: [wrangler:info] GET /api/admin/users 200 OK (24ms)
2025-09-10T16:33:46: [wrangler:info] GET /api/media/enhanced 200 OK (60ms)
2025-09-10T16:33:46: [wrangler:info] GET /api/media/enhanced 200 OK (60ms)
2025-09-10T16:33:47: [wrangler:info] GET /api/habits/weekly 200 OK (27ms)
2025-09-10T16:33:47: [wrangler:info] GET /api/habits/weekly 200 OK (27ms)
2025-09-10T16:34:41: [wrangler:info] GET /api/media/enhanced 200 OK (26ms)
2025-09-10T16:34:41: [wrangler:info] GET /api/media/enhanced 200 OK (26ms)
2025-09-10T16:34:54: [wrangler:info] GET /api/nutrition 200 OK (32ms)
2025-09-10T16:34:54: [wrangler:info] GET /api/nutrition 200 OK (32ms)
2025-09-10T16:34:56: [wrangler:info] GET /api/habits/weekly 200 OK (30ms)
2025-09-10T16:34:56: [wrangler:info] GET /api/habits/weekly 200 OK (30ms)
2025-09-10T16:35:03: [wrangler:info] GET /api/achievements 200 OK (27ms)
2025-09-10T16:35:03: [wrangler:info] GET /api/achievements 200 OK (27ms)
2025-09-10T16:35:58: [wrangler:info] GET /api/achievements 200 OK (34ms)
2025-09-10T16:35:58: [wrangler:info] GET /api/achievements 200 OK (34ms)
2025-09-10T16:36:00: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T16:36:00: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T16:36:39: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T16:36:39: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T16:36:48: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T16:36:48: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T16:36:50: [wrangler:info] GET /api/media/enhanced 200 OK (22ms)
2025-09-10T16:36:50: [wrangler:info] GET /api/media/enhanced 200 OK (22ms)
2025-09-10T16:36:55: [wrangler:info] GET /api/nutrition 200 OK (38ms)
2025-09-10T16:36:55: [wrangler:info] GET /api/nutrition 200 OK (38ms)
2025-09-10T16:37:04: [wrangler:info] GET /api/achievements 200 OK (24ms)
2025-09-10T16:37:04: [wrangler:info] GET /api/achievements 200 OK (24ms)
2025-09-10T16:37:07: [wrangler:info] GET /api/admin/users 200 OK (19ms)
2025-09-10T16:37:07: [wrangler:info] GET /api/admin/users 200 OK (19ms)
2025-09-10T16:37:07: [wrangler:info] GET /api/admin/users 200 OK (22ms)
2025-09-10T16:37:07: [wrangler:info] GET /api/admin/users 200 OK (22ms)
2025-09-10T16:37:07: [wrangler:info] GET /api/admin/media 200 OK (20ms)
2025-09-10T16:37:07: [wrangler:info] GET /api/admin/media 200 OK (20ms)
2025-09-10T16:37:07: [wrangler:info] GET /api/nutrition 200 OK (38ms)
2025-09-10T16:37:07: [wrangler:info] GET /api/nutrition 200 OK (38ms)
2025-09-10T16:37:17: [wrangler:info] GET /api/media/enhanced 200 OK (22ms)
2025-09-10T16:37:17: [wrangler:info] GET /api/media/enhanced 200 OK (22ms)
2025-09-10T16:37:29: [wrangler:info] GET /api/admin/media 200 OK (36ms)
2025-09-10T16:37:29: [wrangler:info] GET /api/admin/media 200 OK (36ms)
2025-09-10T16:37:29: [wrangler:info] GET /api/admin/users 200 OK (38ms)
2025-09-10T16:37:29: [wrangler:info] GET /api/admin/users 200 OK (38ms)
2025-09-10T16:37:30: [wrangler:info] GET /api/admin/users 200 OK (23ms)
2025-09-10T16:37:30: [wrangler:info] GET /api/admin/users 200 OK (23ms)
2025-09-10T16:37:40: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T16:37:40: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T16:44:00: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-10T16:44:00: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-10T16:45:22: [wrangler:info] GET /api/media/enhanced 200 OK (24ms)
2025-09-10T16:45:22: [wrangler:info] GET /api/media/enhanced 200 OK (24ms)
2025-09-10T16:46:20: [wrangler:info] GET /api/nutrition 200 OK (28ms)
2025-09-10T16:46:20: [wrangler:info] GET /api/nutrition 200 OK (28ms)
2025-09-10T16:46:24: [wrangler:info] GET /api/achievements 200 OK (29ms)
2025-09-10T16:46:24: [wrangler:info] GET /api/achievements 200 OK (29ms)
2025-09-10T16:46:34: [wrangler:info] GET /api/achievements 200 OK (22ms)
2025-09-10T16:46:34: [wrangler:info] GET /api/achievements 200 OK (22ms)
2025-09-10T16:46:35: [wrangler:info] GET /api/nutrition 200 OK (30ms)
2025-09-10T16:46:35: [wrangler:info] GET /api/nutrition 200 OK (30ms)
2025-09-10T16:46:36: [wrangler:info] GET /api/media/enhanced 200 OK (23ms)
2025-09-10T16:46:36: [wrangler:info] GET /api/media/enhanced 200 OK (23ms)
2025-09-10T16:46:37: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-10T16:46:37: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-10T16:47:26: [wrangler:info] GET /api/achievements 200 OK (21ms)
2025-09-10T16:47:26: [wrangler:info] GET /api/achievements 200 OK (21ms)
2025-09-10T16:48:47: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T16:48:47: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T16:49:01: [wrangler:info] GET /api/achievements 200 OK (24ms)
2025-09-10T16:49:01: [wrangler:info] GET /api/achievements 200 OK (24ms)
2025-09-10T16:49:58: [wrangler:info] GET / 304 Not Modified (43ms)
2025-09-10T16:49:58: [wrangler:info] GET / 304 Not Modified (43ms)
2025-09-10T16:49:59: [wrangler:info] GET /app.js 200 OK (34ms)
2025-09-10T16:49:59: [wrangler:info] GET /app.js 200 OK (34ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/achievements 200 OK (35ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/achievements 200 OK (35ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/admin/media 200 OK (95ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/admin/media 200 OK (95ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/media/enhanced 200 OK (110ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/media/enhanced 200 OK (110ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/admin/users 200 OK (108ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/admin/users 200 OK (108ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/habits/weekly 200 OK (109ms)
2025-09-10T16:49:59: [wrangler:info] GET /api/habits/weekly 200 OK (109ms)
2025-09-10T16:50:00: [wrangler:info] GET /api/admin/users 200 OK (24ms)
2025-09-10T16:50:00: [wrangler:info] GET /api/admin/users 200 OK (24ms)
2025-09-10T16:50:00: [wrangler:info] GET /api/habits/weekly 200 OK (28ms)
2025-09-10T16:50:00: [wrangler:info] GET /api/habits/weekly 200 OK (28ms)
2025-09-10T16:50:21: [wrangler:info] GET /api/media/enhanced 200 OK (27ms)
2025-09-10T16:50:21: [wrangler:info] GET /api/media/enhanced 200 OK (27ms)
2025-09-10T16:50:22: [wrangler:info] GET /api/nutrition 200 OK (34ms)
2025-09-10T16:50:22: [wrangler:info] GET /api/nutrition 200 OK (34ms)
2025-09-10T16:50:24: [wrangler:info] GET /api/achievements 200 OK (44ms)
2025-09-10T16:50:24: [wrangler:info] GET /api/achievements 200 OK (44ms)
2025-09-10T16:50:25: [wrangler:info] GET /api/habits/weekly 200 OK (29ms)
2025-09-10T16:50:25: [wrangler:info] GET /api/habits/weekly 200 OK (29ms)
2025-09-10T16:50:26: [wrangler:info] POST /api/habits/weekly 200 OK (41ms)
2025-09-10T16:50:26: [wrangler:info] POST /api/habits/weekly 200 OK (41ms)
2025-09-10T16:50:26: [wrangler:info] GET /api/habits/weekly 200 OK (30ms)
2025-09-10T16:50:26: [wrangler:info] GET /api/habits/weekly 200 OK (30ms)
2025-09-10T16:50:26: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T16:50:26: 
2025-09-10T16:50:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:26:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:26:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:26:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:26:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T16:50:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:26:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:26:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T16:50:26:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T16:50:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:26:   }
2025-09-10T16:50:26:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T16:50:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:26:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:26:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:26:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:26:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T16:50:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:26:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:26:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T16:50:26:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T16:50:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:26:   }
2025-09-10T16:50:26: 
2025-09-10T16:50:26: 
2025-09-10T16:50:26: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T16:50:26: 
2025-09-10T16:50:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:26:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:26:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:26:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:26:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T16:50:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:26:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:26:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T16:50:26:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T16:50:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:26:   }
2025-09-10T16:50:26:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T16:50:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:26:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:26:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:26:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:26:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T16:50:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:26:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:26:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T16:50:26:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T16:50:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:26:   }
2025-09-10T16:50:26: 
2025-09-10T16:50:26: 
2025-09-10T16:50:27: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T16:50:27: 
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:27:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T16:50:27:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27: 
2025-09-10T16:50:27: 
2025-09-10T16:50:27: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T16:50:27: 
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:27:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T16:50:27:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27: 
2025-09-10T16:50:27: 
2025-09-10T16:50:27: [wrangler:info] POST /api/habits/weekly 200 OK (28ms)
2025-09-10T16:50:27: [wrangler:info] POST /api/habits/weekly 200 OK (28ms)
2025-09-10T16:50:27: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (83ms)
2025-09-10T16:50:27: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (83ms)
2025-09-10T16:50:27: [wrangler:info] GET /api/habits/weekly 200 OK (42ms)
2025-09-10T16:50:27: [wrangler:info] GET /api/habits/weekly 200 OK (42ms)
2025-09-10T16:50:27: [wrangler:info] GET /api/habits/weekly 200 OK (27ms)
2025-09-10T16:50:27: [wrangler:info] GET /api/habits/weekly 200 OK (27ms)
2025-09-10T16:50:27: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T16:50:27: 
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:27:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:27:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27: 
2025-09-10T16:50:27: 
2025-09-10T16:50:27: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T16:50:27: 
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:27:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:27:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27: 
2025-09-10T16:50:27: 
2025-09-10T16:50:27: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T16:50:27: 
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:27:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:27:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T16:50:27:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27: 
2025-09-10T16:50:27: 
2025-09-10T16:50:27: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T16:50:27: 
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:27:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:27:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:27:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:27:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:27:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T16:50:27:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:27:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:27:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:27:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:27:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:27:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:27:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:27:   }
2025-09-10T16:50:27: 
2025-09-10T16:50:27: 
2025-09-10T16:50:27: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (72ms)
2025-09-10T16:50:27: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (72ms)
2025-09-10T16:50:27: [wrangler:info] GET /api/habits/weekly 200 OK (43ms)
2025-09-10T16:50:27: [wrangler:info] GET /api/habits/weekly 200 OK (43ms)
2025-09-10T16:50:29: [wrangler:info] POST /api/habits/weekly 200 OK (42ms)
2025-09-10T16:50:29: [wrangler:info] POST /api/habits/weekly 200 OK (42ms)
2025-09-10T16:50:29: [wrangler:info] GET /api/habits/weekly 200 OK (17ms)
2025-09-10T16:50:29: [wrangler:info] GET /api/habits/weekly 200 OK (17ms)
2025-09-10T16:50:29: [wrangler:info] GET /api/habits/weekly 200 OK (35ms)
2025-09-10T16:50:29: [wrangler:info] GET /api/habits/weekly 200 OK (35ms)
2025-09-10T16:50:30: [wrangler:info] POST /api/habits/weekly 200 OK (48ms)
2025-09-10T16:50:30: [wrangler:info] POST /api/habits/weekly 200 OK (48ms)
2025-09-10T16:50:30: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-10T16:50:30: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-10T16:50:30: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T16:50:30: 
2025-09-10T16:50:30:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:30:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:30:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:30:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:30:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T16:50:30:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:30:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:30:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T16:50:30:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:30:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:30:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:30:   }
2025-09-10T16:50:30: 
2025-09-10T16:50:30: 
2025-09-10T16:50:30: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T16:50:30: 
2025-09-10T16:50:30:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:30:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:30:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:30:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:30:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T16:50:30:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:30:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T16:50:30:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T16:50:30:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:30:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:30:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:30:   }
2025-09-10T16:50:30: 
2025-09-10T16:50:30: 
2025-09-10T16:50:30: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T16:50:30: 
2025-09-10T16:50:30:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:30:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:30:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:30:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T16:50:30:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:30:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T16:50:30:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:30:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:30:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:30:   }
2025-09-10T16:50:30:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:50:30:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:30:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:30:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:30:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:50:30:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:30:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T16:50:30:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:30:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:30:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:30:   }
2025-09-10T16:50:30:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:30:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:30:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:30:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T16:50:30:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:30:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:30:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:30:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:30:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:30:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:30:   }
2025-09-10T16:50:30: 
2025-09-10T16:50:30: 
2025-09-10T16:50:30: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T16:50:30: 
2025-09-10T16:50:30:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:30:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:30:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:30:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T16:50:30:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:30:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T16:50:30:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:30:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:30:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:30:   }
2025-09-10T16:50:30:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:50:30:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:30:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:30:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T16:50:30:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T16:50:30:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:30:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T16:50:30:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:30:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:30:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:30:   }
2025-09-10T16:50:30:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:30:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T16:50:30:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:       ... 7 lines matching cause stack trace ...
2025-09-10T16:50:30:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T16:50:30:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T16:50:30:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T16:50:30:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T16:50:30:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T16:50:30:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T16:50:30:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T16:50:30:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:30:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T16:50:30:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T16:50:30:   }
2025-09-10T16:50:30: 
2025-09-10T16:50:30: 
2025-09-10T16:50:30: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (62ms)
2025-09-10T16:50:30: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (62ms)
2025-09-10T16:50:30: [wrangler:info] GET /api/habits/weekly 200 OK (56ms)
2025-09-10T16:50:30: [wrangler:info] GET /api/habits/weekly 200 OK (56ms)
2025-09-10T16:50:31: [wrangler:info] POST /api/habits/weekly 200 OK (32ms)
2025-09-10T16:50:31: [wrangler:info] POST /api/habits/weekly 200 OK (32ms)
2025-09-10T16:50:31: [wrangler:info] GET /api/habits/weekly 200 OK (36ms)
2025-09-10T16:50:31: [wrangler:info] GET /api/habits/weekly 200 OK (36ms)
2025-09-10T16:50:31: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T16:50:31: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T16:52:34: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_16-14-54_296.log"
2025-09-10T16:52:34: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_16-14-54_296.log"
2025-09-10T16:52:36: 
2025-09-10T16:52:36:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:52:36: ─────────────────────────────────────────────
2025-09-10T16:52:36: 
2025-09-10T16:52:36:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:52:36: ─────────────────────────────────────────────
2025-09-10T16:52:36: ✨ Compiled Worker successfully
2025-09-10T16:52:36: ✨ Compiled Worker successfully
2025-09-10T16:52:36: Your Worker has access to the following bindings:
2025-09-10T16:52:36: Your Worker has access to the following bindings:
2025-09-10T16:52:36: Binding                                                    Resource                  Mode
2025-09-10T16:52:36: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:52:36: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:52:36: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:52:36: Binding                                                    Resource                  Mode
2025-09-10T16:52:36: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:52:36: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:52:36: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:52:36: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:52:36: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:52:36: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:52:36: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:52:36: 
2025-09-10T16:52:36: 
2025-09-10T16:52:36: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:52:36: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:52:36: ⎔ Starting local server...
2025-09-10T16:52:36: ⎔ Starting local server...
2025-09-10T16:53:49: 
2025-09-10T16:53:49:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:53:49: ─────────────────────────────────────────────
2025-09-10T16:53:49: 
2025-09-10T16:53:49:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:53:49: ─────────────────────────────────────────────
2025-09-10T16:53:50: ✨ Compiled Worker successfully
2025-09-10T16:53:50: ✨ Compiled Worker successfully
2025-09-10T16:53:50: Your Worker has access to the following bindings:
2025-09-10T16:53:50: Your Worker has access to the following bindings:
2025-09-10T16:53:50: Binding                                                    Resource                  Mode
2025-09-10T16:53:50: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:53:50: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:53:50: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:53:50: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:53:50: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:53:50: Binding                                                    Resource                  Mode
2025-09-10T16:53:50: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:53:50: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:53:50: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:53:50: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:53:50: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:53:50: 
2025-09-10T16:53:50: 
2025-09-10T16:53:50: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:53:50: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:53:50: ⎔ Starting local server...
2025-09-10T16:53:50: ⎔ Starting local server...
2025-09-10T16:54:38: 
2025-09-10T16:54:38:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:54:38: ─────────────────────────────────────────────
2025-09-10T16:54:38: 
2025-09-10T16:54:38:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T16:54:38: ─────────────────────────────────────────────
2025-09-10T16:54:38: ✨ Compiled Worker successfully
2025-09-10T16:54:38: ✨ Compiled Worker successfully
2025-09-10T16:54:39: Your Worker has access to the following bindings:
2025-09-10T16:54:39: Your Worker has access to the following bindings:
2025-09-10T16:54:39: Binding                                                    Resource                  Mode
2025-09-10T16:54:39: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:54:39: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:54:39: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:54:39: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:54:39: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:54:39: Binding                                                    Resource                  Mode
2025-09-10T16:54:39: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T16:54:39: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T16:54:39: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T16:54:39: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T16:54:39: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T16:54:39: 
2025-09-10T16:54:39: 
2025-09-10T16:54:39: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:54:39: [wrangler:info] Ready on http://localhost:8787
2025-09-10T16:54:39: ⎔ Starting local server...
2025-09-10T16:54:39: ⎔ Starting local server...
2025-09-10T17:07:00: [wrangler:info] GET / 304 Not Modified (53ms)
2025-09-10T17:07:00: [wrangler:info] GET / 304 Not Modified (53ms)
2025-09-10T17:07:00: [wrangler:info] GET /app.js 200 OK (30ms)
2025-09-10T17:07:00: [wrangler:info] GET /app.js 200 OK (30ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/auth/validate-session 200 OK (15ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/auth/validate-session 200 OK (15ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/admin/users 200 OK (62ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/admin/users 200 OK (62ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/admin/media 200 OK (57ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/admin/media 200 OK (57ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/admin/users 200 OK (24ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/admin/users 200 OK (24ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/media/enhanced 200 OK (50ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/media/enhanced 200 OK (50ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/achievements 200 OK (65ms)
2025-09-10T17:07:01: [wrangler:info] GET /api/achievements 200 OK (65ms)
2025-09-10T17:07:03: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-10T17:07:03: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-10T17:07:04: [wrangler:info] POST /api/habits/weekly 200 OK (39ms)
2025-09-10T17:07:04: [wrangler:info] POST /api/habits/weekly 200 OK (39ms)
2025-09-10T17:07:05: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T17:07:05: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T17:07:05: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:07:05: 
2025-09-10T17:07:05:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:05:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:07:05:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:05:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:05:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:07:05:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:05:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:07:05:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:07:05:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:05:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:05:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:05:   }
2025-09-10T17:07:05:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:07:05:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:05:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:05:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:05:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:07:05:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:05:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:07:05:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:05:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:05:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:05:   }
2025-09-10T17:07:05:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:07:05:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:05:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:05:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:05:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:07:05:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:05:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:07:05:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:05:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:05:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:05:   }
2025-09-10T17:07:05:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:07:05:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:05:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:05:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:07:05:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:07:05:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:05:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:05:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:05:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:05:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:05:   }
2025-09-10T17:07:05: 
2025-09-10T17:07:05: 
2025-09-10T17:07:05: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:07:05: 
2025-09-10T17:07:05:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:05:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:07:05:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:05:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:05:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:07:05:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:05:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:07:05:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:07:05:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:05:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:05:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:05:   }
2025-09-10T17:07:05:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:07:05:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:05:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:05:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:05:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:07:05:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:05:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:07:05:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:05:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:05:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:05:   }
2025-09-10T17:07:05:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:07:05:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:05:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:05:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:05:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:07:05:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:05:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:07:05:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:05:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:05:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:05:   }
2025-09-10T17:07:05:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:07:05:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:05:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:05:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:07:05:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:07:05:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:05:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:05:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:05:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:05:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:05:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:05:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:05:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:05:   }
2025-09-10T17:07:05: 
2025-09-10T17:07:05: 
2025-09-10T17:07:05: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (73ms)
2025-09-10T17:07:05: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (73ms)
2025-09-10T17:07:05: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T17:07:05: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T17:07:06: [wrangler:info] POST /api/habits/weekly 200 OK (36ms)
2025-09-10T17:07:06: [wrangler:info] POST /api/habits/weekly 200 OK (36ms)
2025-09-10T17:07:06: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-10T17:07:06: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-10T17:07:06: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:07:06: 
2025-09-10T17:07:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:06:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:07:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:06:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:07:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:06:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:07:06:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:07:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:06:   }
2025-09-10T17:07:06:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:07:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:06:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:07:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:07:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:06:   }
2025-09-10T17:07:06:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:07:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:06:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:07:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:07:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:06:   }
2025-09-10T17:07:06:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:07:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:06:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:07:06:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:07:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:06:   }
2025-09-10T17:07:06: 
2025-09-10T17:07:06: 
2025-09-10T17:07:06: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:07:06: 
2025-09-10T17:07:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:06:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:07:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:06:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:07:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:06:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:07:06:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:07:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:06:   }
2025-09-10T17:07:06:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:07:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:06:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:07:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:07:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:06:   }
2025-09-10T17:07:06:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:07:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:07:06:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:07:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:07:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:06:   }
2025-09-10T17:07:06:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:07:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:07:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:07:06:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:07:06:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:07:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:07:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:07:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:07:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:07:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:07:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:07:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:07:06:   }
2025-09-10T17:07:06: 
2025-09-10T17:07:06: 
2025-09-10T17:07:06: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (44ms)
2025-09-10T17:07:06: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (44ms)
2025-09-10T17:07:06: [wrangler:info] GET /api/habits/weekly 200 OK (56ms)
2025-09-10T17:07:06: [wrangler:info] GET /api/habits/weekly 200 OK (56ms)
2025-09-10T17:07:07: [wrangler:info] POST /api/habits/weekly 200 OK (28ms)
2025-09-10T17:07:07: [wrangler:info] POST /api/habits/weekly 200 OK (28ms)
2025-09-10T17:07:07: [wrangler:info] GET /api/habits/weekly 200 OK (33ms)
2025-09-10T17:07:07: [wrangler:info] GET /api/habits/weekly 200 OK (33ms)
2025-09-10T17:07:07: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T17:07:07: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T17:07:08: [wrangler:info] POST /api/habits/weekly 200 OK (28ms)
2025-09-10T17:07:08: [wrangler:info] POST /api/habits/weekly 200 OK (28ms)
2025-09-10T17:07:08: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:07:08: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:07:08: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:07:08: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:07:09: [wrangler:info] POST /api/habits/weekly 200 OK (29ms)
2025-09-10T17:07:09: [wrangler:info] POST /api/habits/weekly 200 OK (29ms)
2025-09-10T17:07:09: [wrangler:info] GET /api/habits/weekly 200 OK (27ms)
2025-09-10T17:07:09: [wrangler:info] GET /api/habits/weekly 200 OK (27ms)
2025-09-10T17:07:09: [wrangler:info] GET /api/habits/weekly 200 OK (30ms)
2025-09-10T17:07:09: [wrangler:info] GET /api/habits/weekly 200 OK (30ms)
2025-09-10T17:08:54: [wrangler:info] POST /api/habits/weekly 200 OK (35ms)
2025-09-10T17:08:54: [wrangler:info] POST /api/habits/weekly 200 OK (35ms)
2025-09-10T17:08:54: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:08:54: 
2025-09-10T17:08:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:08:54:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:08:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:08:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:08:54:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:08:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:08:54:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:08:54:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:08:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:08:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:08:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:08:54:   }
2025-09-10T17:08:54:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:08:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:08:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:08:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:08:54:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:08:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:08:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:08:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:08:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:08:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:08:54:   }
2025-09-10T17:08:54: 
2025-09-10T17:08:54: 
2025-09-10T17:08:54: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:08:54: 
2025-09-10T17:08:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:08:54:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:08:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:08:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:08:54:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:08:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:08:54:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:08:54:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:08:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:08:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:08:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:08:54:   }
2025-09-10T17:08:54:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:08:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:08:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:08:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:08:54:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:08:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:08:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:08:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:08:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:08:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:08:54:   }
2025-09-10T17:08:54: 
2025-09-10T17:08:54: 
2025-09-10T17:08:54: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:08:54: 
2025-09-10T17:08:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:08:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:08:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:08:54:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:08:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:08:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:08:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:08:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:08:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:08:54:   }
2025-09-10T17:08:54:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:08:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:08:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:08:54:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:08:54:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:08:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:08:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:08:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:08:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:08:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:08:54:   }
2025-09-10T17:08:54: 
2025-09-10T17:08:54: 
2025-09-10T17:08:54: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:08:54: 
2025-09-10T17:08:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:08:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:08:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:08:54:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:08:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:08:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:08:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:08:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:08:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:08:54:   }
2025-09-10T17:08:54:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:08:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:08:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:08:54:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:08:54:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:08:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:08:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:08:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:08:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:08:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:08:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:08:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:08:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:08:54:   }
2025-09-10T17:08:54: 
2025-09-10T17:08:54: 
2025-09-10T17:08:54: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (32ms)
2025-09-10T17:08:54: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (32ms)
2025-09-10T17:08:54: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T17:08:54: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T17:08:54: [wrangler:info] GET /api/habits/weekly 200 OK (77ms)
2025-09-10T17:08:54: [wrangler:info] GET /api/habits/weekly 200 OK (77ms)
2025-09-10T17:11:14: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_16-54-38_231.log"
2025-09-10T17:11:14: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_16-54-38_231.log"
2025-09-10T17:11:17: 
2025-09-10T17:11:17:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:11:17: ─────────────────────────────────────────────
2025-09-10T17:11:17: 
2025-09-10T17:11:17:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:11:17: ─────────────────────────────────────────────
2025-09-10T17:11:17: ✨ Compiled Worker successfully
2025-09-10T17:11:17: ✨ Compiled Worker successfully
2025-09-10T17:11:17: Your Worker has access to the following bindings:
2025-09-10T17:11:17: Your Worker has access to the following bindings:
2025-09-10T17:11:17: Binding                                                    Resource                  Mode
2025-09-10T17:11:17: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:11:17: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:11:17: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:11:17: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:11:17: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:11:17: Binding                                                    Resource                  Mode
2025-09-10T17:11:17: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:11:17: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:11:17: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:11:17: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:11:17: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:11:17: 
2025-09-10T17:11:17: 
2025-09-10T17:11:17: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:11:17: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:11:17: ⎔ Starting local server...
2025-09-10T17:11:17: ⎔ Starting local server...
2025-09-10T17:24:06: [wrangler:info] GET / 304 Not Modified (51ms)
2025-09-10T17:24:06: [wrangler:info] GET / 304 Not Modified (51ms)
2025-09-10T17:24:06: [wrangler:info] GET /app.js 200 OK (34ms)
2025-09-10T17:24:06: [wrangler:info] GET /app.js 200 OK (34ms)
2025-09-10T17:24:06: [wrangler:info] GET /api/auth/validate-session 200 OK (16ms)
2025-09-10T17:24:06: [wrangler:info] GET /api/auth/validate-session 200 OK (16ms)
2025-09-10T17:24:06: [wrangler:info] GET /api/media/enhanced 200 OK (36ms)
2025-09-10T17:24:06: [wrangler:info] GET /api/media/enhanced 200 OK (36ms)
2025-09-10T17:24:06: [wrangler:info] GET /api/admin/media 200 OK (72ms)
2025-09-10T17:24:06: [wrangler:info] GET /api/admin/media 200 OK (72ms)
2025-09-10T17:24:06: [wrangler:info] GET /api/achievements 200 OK (81ms)
2025-09-10T17:24:06: [wrangler:info] GET /api/achievements 200 OK (81ms)
2025-09-10T17:24:06: [wrangler:info] GET /api/admin/users 200 OK (75ms)
2025-09-10T17:24:06: [wrangler:info] GET /api/admin/users 200 OK (75ms)
2025-09-10T17:24:07: [wrangler:info] GET /api/habits/weekly 200 OK (30ms)
2025-09-10T17:24:07: [wrangler:info] GET /api/habits/weekly 200 OK (30ms)
2025-09-10T17:24:07: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T17:24:07: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T17:24:07: [wrangler:info] GET /api/admin/users 200 OK (25ms)
2025-09-10T17:24:07: [wrangler:info] GET /api/admin/users 200 OK (25ms)
2025-09-10T17:24:09: [wrangler:info] GET /api/media/enhanced 200 OK (27ms)
2025-09-10T17:24:09: [wrangler:info] GET /api/media/enhanced 200 OK (27ms)
2025-09-10T17:24:10: [wrangler:info] GET /api/habits/weekly 200 OK (29ms)
2025-09-10T17:24:10: [wrangler:info] GET /api/habits/weekly 200 OK (29ms)
2025-09-10T17:29:07: [wrangler:info] GET /api/media/enhanced 200 OK (28ms)
2025-09-10T17:29:07: [wrangler:info] GET /api/media/enhanced 200 OK (28ms)
2025-09-10T17:29:09: [wrangler:info] GET /api/nutrition 200 OK (23ms)
2025-09-10T17:29:09: [wrangler:info] GET /api/nutrition 200 OK (23ms)
2025-09-10T17:29:13: 
2025-09-10T17:29:13:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:29:13: ─────────────────────────────────────────────
2025-09-10T17:29:13: 
2025-09-10T17:29:13:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:29:13: ─────────────────────────────────────────────
2025-09-10T17:29:13: ✨ Compiled Worker successfully
2025-09-10T17:29:13: ✨ Compiled Worker successfully
2025-09-10T17:29:13: Your Worker has access to the following bindings:
2025-09-10T17:29:13: Your Worker has access to the following bindings:
2025-09-10T17:29:13: Binding                                                    Resource                  Mode
2025-09-10T17:29:13: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:29:13: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:29:13: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:29:13: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:29:13: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:29:13: Binding                                                    Resource                  Mode
2025-09-10T17:29:13: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:29:13: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:29:13: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:29:13: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:29:13: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:29:13: 
2025-09-10T17:29:13: 
2025-09-10T17:29:14: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:29:14: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:29:14: ⎔ Starting local server...
2025-09-10T17:29:14: ⎔ Starting local server...
2025-09-10T17:29:55: [wrangler:info] GET / 304 Not Modified (55ms)
2025-09-10T17:29:55: [wrangler:info] GET / 304 Not Modified (55ms)
2025-09-10T17:29:55: [wrangler:info] GET /app.js 200 OK (33ms)
2025-09-10T17:29:55: [wrangler:info] GET /app.js 200 OK (33ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/auth/validate-session 200 OK (12ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/auth/validate-session 200 OK (12ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/admin/media 200 OK (43ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/admin/media 200 OK (43ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/admin/users 200 OK (50ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/admin/users 200 OK (50ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/achievements 200 OK (40ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/achievements 200 OK (40ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/admin/users 200 OK (19ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/admin/users 200 OK (19ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/media/enhanced 200 OK (60ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/media/enhanced 200 OK (60ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T17:29:56: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T17:29:58: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T17:29:58: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T17:32:10: 
2025-09-10T17:32:10:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:32:10: ─────────────────────────────────────────────
2025-09-10T17:32:10: 
2025-09-10T17:32:10:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:32:10: ─────────────────────────────────────────────
2025-09-10T17:32:11: ✨ Compiled Worker successfully
2025-09-10T17:32:11: ✨ Compiled Worker successfully
2025-09-10T17:32:11: Your Worker has access to the following bindings:
2025-09-10T17:32:11: Your Worker has access to the following bindings:
2025-09-10T17:32:11: Binding                                                    Resource                  Mode
2025-09-10T17:32:11: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:32:11: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:32:11: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:32:11: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:32:11: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:32:11: Binding                                                    Resource                  Mode
2025-09-10T17:32:11: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:32:11: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:32:11: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:32:11: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:32:11: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:32:11: 
2025-09-10T17:32:11: 
2025-09-10T17:32:11: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:32:11: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:32:11: ⎔ Starting local server...
2025-09-10T17:32:11: ⎔ Starting local server...
2025-09-10T17:32:31: [wrangler:info] GET / 304 Not Modified (49ms)
2025-09-10T17:32:31: [wrangler:info] GET / 304 Not Modified (49ms)
2025-09-10T17:32:31: [wrangler:info] GET /app.js 200 OK (30ms)
2025-09-10T17:32:31: [wrangler:info] GET /app.js 200 OK (30ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/auth/validate-session 200 OK (27ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/auth/validate-session 200 OK (27ms)
2025-09-10T17:32:31: [wrangler:info] GET /favicon.ico 304 Not Modified (36ms)
2025-09-10T17:32:31: [wrangler:info] GET /favicon.ico 304 Not Modified (36ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/media/enhanced 200 OK (33ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/media/enhanced 200 OK (33ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/admin/media 200 OK (101ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/admin/media 200 OK (101ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/habits/weekly 200 OK (120ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/habits/weekly 200 OK (120ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/achievements 200 OK (118ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/achievements 200 OK (118ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/admin/users 200 OK (117ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/admin/users 200 OK (117ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/admin/users 200 OK (17ms)
2025-09-10T17:32:31: [wrangler:info] GET /api/admin/users 200 OK (17ms)
2025-09-10T17:32:32: [wrangler:info] GET /api/habits/weekly 200 OK (18ms)
2025-09-10T17:32:32: [wrangler:info] GET /api/habits/weekly 200 OK (18ms)
2025-09-10T17:32:32: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:32:32: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:32:38: [wrangler:info] DELETE /api/habits/user_85b8b5f5-e9ec-427a-9dc2-180869d57229 200 OK (40ms)
2025-09-10T17:32:38: [wrangler:info] DELETE /api/habits/user_85b8b5f5-e9ec-427a-9dc2-180869d57229 200 OK (40ms)
2025-09-10T17:32:38: [wrangler:info] GET /api/habits/weekly 200 OK (28ms)
2025-09-10T17:32:38: [wrangler:info] GET /api/habits/weekly 200 OK (28ms)
2025-09-10T17:32:38: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T17:32:38: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T17:39:59: 
2025-09-10T17:39:59:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:39:59: ─────────────────────────────────────────────
2025-09-10T17:39:59: 
2025-09-10T17:39:59:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:39:59: ─────────────────────────────────────────────
2025-09-10T17:40:00: ✨ Compiled Worker successfully
2025-09-10T17:40:00: ✨ Compiled Worker successfully
2025-09-10T17:40:00: Your Worker has access to the following bindings:
2025-09-10T17:40:00: Your Worker has access to the following bindings:
2025-09-10T17:40:00: Binding                                                    Resource                  Mode
2025-09-10T17:40:00: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:40:00: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:40:00: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:40:00: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:40:00: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:40:00: 
2025-09-10T17:40:00: Binding                                                    Resource                  Mode
2025-09-10T17:40:00: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:40:00: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:40:00: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:40:00: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:40:00: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:40:00: 
2025-09-10T17:40:00: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:40:00: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:40:00: ⎔ Starting local server...
2025-09-10T17:40:00: ⎔ Starting local server...
2025-09-10T17:40:46: [wrangler:info] GET / 304 Not Modified (85ms)
2025-09-10T17:40:46: [wrangler:info] GET / 304 Not Modified (85ms)
2025-09-10T17:40:46: [wrangler:info] GET /app.js 200 OK (34ms)
2025-09-10T17:40:46: [wrangler:info] GET /app.js 200 OK (34ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/auth/validate-session 200 OK (15ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/auth/validate-session 200 OK (15ms)
2025-09-10T17:40:47: [wrangler:info] GET /favicon.ico 304 Not Modified (27ms)
2025-09-10T17:40:47: [wrangler:info] GET /favicon.ico 304 Not Modified (27ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/habits/weekly 200 OK (34ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/habits/weekly 200 OK (34ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/admin/media 200 OK (111ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/admin/media 200 OK (111ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/media/enhanced 200 OK (117ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/media/enhanced 200 OK (117ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/achievements 200 OK (118ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/achievements 200 OK (118ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/admin/users 200 OK (112ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/admin/users 200 OK (112ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/habits/weekly 200 OK (42ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/habits/weekly 200 OK (42ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/admin/users 200 OK (32ms)
2025-09-10T17:40:47: [wrangler:info] GET /api/admin/users 200 OK (32ms)
2025-09-10T17:40:48: [wrangler:info] GET /api/media/enhanced 200 OK (53ms)
2025-09-10T17:40:48: [wrangler:info] GET /api/media/enhanced 200 OK (53ms)
2025-09-10T17:40:49: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:40:49: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:41:02: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:41:02: 
2025-09-10T17:41:02:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:02:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:02:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:02:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:41:02:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:02:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:02:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:02:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:41:02:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/database.js:133:16)
2025-09-10T17:41:02:         at async onRequestPost (file:///home/user/webapp/functions/api/habits/index.js:63:33)
2025-09-10T17:41:02:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:02:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:02:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:02:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:02:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:02:   }
2025-09-10T17:41:02: 
2025-09-10T17:41:02: 
2025-09-10T17:41:02: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:41:02: 
2025-09-10T17:41:02:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:02:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:02:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:02:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:41:02:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:02:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:02:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:02:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:41:02:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/database.js:133:16)
2025-09-10T17:41:02:         at async onRequestPost (file:///home/user/webapp/functions/api/habits/index.js:63:33)
2025-09-10T17:41:02:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:02:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:02:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:02:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:02:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:02:   }
2025-09-10T17:41:02: 
2025-09-10T17:41:02: 
2025-09-10T17:41:03: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:41:03: 
2025-09-10T17:41:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:03:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:03:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:03:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:03:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:41:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:41:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:03:   }
2025-09-10T17:41:03:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:03:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:03:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:41:03:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:41:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:03:   }
2025-09-10T17:41:03: 
2025-09-10T17:41:03: 
2025-09-10T17:41:03: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:41:03: 
2025-09-10T17:41:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:03:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:03:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:03:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:03:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:41:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:41:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:03:   }
2025-09-10T17:41:03:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:03:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:03:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:41:03:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:41:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:03:   }
2025-09-10T17:41:03: 
2025-09-10T17:41:03: 
2025-09-10T17:41:03: [wrangler:info] POST /api/habits 201 Created (57ms)
2025-09-10T17:41:03: [wrangler:info] POST /api/habits 201 Created (57ms)
2025-09-10T17:41:03: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (45ms)
2025-09-10T17:41:03: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (45ms)
2025-09-10T17:41:03: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T17:41:03: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T17:41:03: [wrangler:info] GET /api/habits/weekly 200 OK (62ms)
2025-09-10T17:41:03: [wrangler:info] GET /api/habits/weekly 200 OK (62ms)
2025-09-10T17:41:06: [wrangler:info] POST /api/habits/weekly 200 OK (41ms)
2025-09-10T17:41:06: [wrangler:info] POST /api/habits/weekly 200 OK (41ms)
2025-09-10T17:41:06: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:41:06: 
2025-09-10T17:41:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:06:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:41:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:06:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:41:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:06:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:41:06:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:41:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:06:   }
2025-09-10T17:41:06:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:41:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:06:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:41:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:41:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:06:   }
2025-09-10T17:41:06:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:06:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:41:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:06:   }
2025-09-10T17:41:06:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:06:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:41:06:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:06:   }
2025-09-10T17:41:06: 
2025-09-10T17:41:06: 
2025-09-10T17:41:06: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:41:06: 
2025-09-10T17:41:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:06:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:41:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:06:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:41:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:06:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:41:06:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:41:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:06:   }
2025-09-10T17:41:06:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:41:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:06:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:41:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:41:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:06:   }
2025-09-10T17:41:06:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:06:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:06:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:41:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:06:   }
2025-09-10T17:41:06:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:06:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:06:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:06:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:41:06:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:06:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:06:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:06:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:06:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:06:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:06:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:06:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:06:   }
2025-09-10T17:41:06: 
2025-09-10T17:41:06: 
2025-09-10T17:41:06: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (49ms)
2025-09-10T17:41:06: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (49ms)
2025-09-10T17:41:06: [wrangler:info] GET /api/habits/weekly 200 OK (37ms)
2025-09-10T17:41:06: [wrangler:info] GET /api/habits/weekly 200 OK (37ms)
2025-09-10T17:41:06: [wrangler:info] GET /api/habits/weekly 200 OK (18ms)
2025-09-10T17:41:06: [wrangler:info] GET /api/habits/weekly 200 OK (18ms)
2025-09-10T17:41:20: [wrangler:info] POST /api/habits/weekly 200 OK (35ms)
2025-09-10T17:41:20: [wrangler:info] POST /api/habits/weekly 200 OK (35ms)
2025-09-10T17:41:20: [wrangler:info] GET /api/habits/weekly 200 OK (16ms)
2025-09-10T17:41:20: [wrangler:info] GET /api/habits/weekly 200 OK (16ms)
2025-09-10T17:41:20: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:41:20: 
2025-09-10T17:41:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:20:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:41:20:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:20:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:20:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:41:20:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:20:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:41:20:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:41:20:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:20:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:20:   }
2025-09-10T17:41:20:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:41:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:20:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:20:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:20:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:41:20:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:20:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:41:20:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:20:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:20:   }
2025-09-10T17:41:20:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:20:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:20:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:20:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:20:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:20:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:41:20:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:20:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:20:   }
2025-09-10T17:41:20:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:20:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:20:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:41:20:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:20:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:20:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:20:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:20:   }
2025-09-10T17:41:20: 
2025-09-10T17:41:20: 
2025-09-10T17:41:20: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:41:20: 
2025-09-10T17:41:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:20:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:41:20:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:20:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:20:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:41:20:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:20:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:41:20:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:41:20:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:20:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:20:   }
2025-09-10T17:41:20:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:41:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:20:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:20:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:20:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:41:20:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:20:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:41:20:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:20:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:20:   }
2025-09-10T17:41:20:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:20:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:20:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:41:20:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:41:20:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:20:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:41:20:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:20:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:20:   }
2025-09-10T17:41:20:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:41:20:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:       ... 7 lines matching cause stack trace ...
2025-09-10T17:41:20:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:41:20:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:41:20:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:41:20:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:41:20:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:41:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:41:20:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:41:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:20:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:41:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:41:20:   }
2025-09-10T17:41:20: 
2025-09-10T17:41:20: 
2025-09-10T17:41:20: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (45ms)
2025-09-10T17:41:20: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (45ms)
2025-09-10T17:41:20: [wrangler:info] GET /api/habits/weekly 200 OK (41ms)
2025-09-10T17:41:20: [wrangler:info] GET /api/habits/weekly 200 OK (41ms)
2025-09-10T17:41:25: [wrangler:info] POST /api/habits/weekly 200 OK (34ms)
2025-09-10T17:41:25: [wrangler:info] POST /api/habits/weekly 200 OK (34ms)
2025-09-10T17:41:25: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T17:41:25: [wrangler:info] GET /api/habits/weekly 200 OK (22ms)
2025-09-10T17:41:25: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T17:41:25: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T17:41:48: [wrangler:info] DELETE /api/habits/user_d376accd-5e65-48fb-9323-77171f6cc2dc 200 OK (36ms)
2025-09-10T17:41:48: [wrangler:info] DELETE /api/habits/user_d376accd-5e65-48fb-9323-77171f6cc2dc 200 OK (36ms)
2025-09-10T17:41:48: [wrangler:info] GET /api/habits/weekly 200 OK (45ms)
2025-09-10T17:41:48: [wrangler:info] GET /api/habits/weekly 200 OK (45ms)
2025-09-10T17:41:48: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:41:48: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:43:03: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:43:03: 
2025-09-10T17:43:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:03:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:43:03:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:43:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:43:03:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/database.js:133:16)
2025-09-10T17:43:03:         at async onRequestPost (file:///home/user/webapp/functions/api/habits/index.js:63:33)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:03:   }
2025-09-10T17:43:03: 
2025-09-10T17:43:03: 
2025-09-10T17:43:03: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:43:03: 
2025-09-10T17:43:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:03:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:43:03:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:43:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:43:03:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/database.js:133:16)
2025-09-10T17:43:03:         at async onRequestPost (file:///home/user/webapp/functions/api/habits/index.js:63:33)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:03:   }
2025-09-10T17:43:03: 
2025-09-10T17:43:03: 
2025-09-10T17:43:03: [wrangler:info] POST /api/habits 201 Created (37ms)
2025-09-10T17:43:03: [wrangler:info] POST /api/habits 201 Created (37ms)
2025-09-10T17:43:03: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:43:03: 
2025-09-10T17:43:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:03:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:43:03:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:43:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:43:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:03:   }
2025-09-10T17:43:03:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:43:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:03:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:43:03:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:43:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:03:   }
2025-09-10T17:43:03: 
2025-09-10T17:43:03: 
2025-09-10T17:43:03: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:43:03: 
2025-09-10T17:43:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:03:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:43:03:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:43:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:43:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:03:   }
2025-09-10T17:43:03:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:43:03:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:03:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:03:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:43:03:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:43:03:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:03:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:03:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:03:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:03:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:03:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:03:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:03:   }
2025-09-10T17:43:03: 
2025-09-10T17:43:03: 
2025-09-10T17:43:04: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (35ms)
2025-09-10T17:43:04: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (35ms)
2025-09-10T17:43:04: [wrangler:info] GET /api/habits/weekly 200 OK (63ms)
2025-09-10T17:43:04: [wrangler:info] GET /api/habits/weekly 200 OK (63ms)
2025-09-10T17:43:04: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:43:04: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:43:12: [wrangler:info] GET /api/habits/weekly 200 OK (26ms)
2025-09-10T17:43:12: [wrangler:info] GET /api/habits/weekly 200 OK (26ms)
2025-09-10T17:43:13: [wrangler:info] POST /api/habits/weekly 200 OK (26ms)
2025-09-10T17:43:13: [wrangler:info] POST /api/habits/weekly 200 OK (26ms)
2025-09-10T17:43:13: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:43:13: 
2025-09-10T17:43:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:13:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:43:13:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:43:13:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:43:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:13:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:43:13:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:43:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:13:   }
2025-09-10T17:43:13: 
2025-09-10T17:43:13: 
2025-09-10T17:43:13: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:43:13: 
2025-09-10T17:43:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:13:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:43:13:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:43:13:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:43:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:13:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:43:13:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:43:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:13:   }
2025-09-10T17:43:13: 
2025-09-10T17:43:13: 
2025-09-10T17:43:13: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T17:43:13: 
2025-09-10T17:43:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:43:13:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:43:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:43:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:13:   }
2025-09-10T17:43:13:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:43:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:43:13:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:43:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:43:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:13:   }
2025-09-10T17:43:13: 
2025-09-10T17:43:13: 
2025-09-10T17:43:13: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T17:43:13: 
2025-09-10T17:43:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:43:13:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:43:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:43:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:13:   }
2025-09-10T17:43:13:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:43:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:43:13:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:43:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:43:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:13:   }
2025-09-10T17:43:13: 
2025-09-10T17:43:13: 
2025-09-10T17:43:13: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR[0m
2025-09-10T17:43:13: 
2025-09-10T17:43:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:13:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:43:13:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:43:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:13:   }
2025-09-10T17:43:13: 
2025-09-10T17:43:13: 
2025-09-10T17:43:13: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR[0m
2025-09-10T17:43:13: 
2025-09-10T17:43:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:43:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:       ... 7 lines matching cause stack trace ...
2025-09-10T17:43:13:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:43:13:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:43:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:43:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:43:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:43:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:43:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:43:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:43:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:43:13:   }
2025-09-10T17:43:13: 
2025-09-10T17:43:13: 
2025-09-10T17:43:13: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (44ms)
2025-09-10T17:43:13: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (44ms)
2025-09-10T17:43:13: [wrangler:info] GET /api/habits/weekly 200 OK (34ms)
2025-09-10T17:43:13: [wrangler:info] GET /api/habits/weekly 200 OK (34ms)
2025-09-10T17:43:13: [wrangler:info] GET /api/habits/weekly 200 OK (37ms)
2025-09-10T17:43:13: [wrangler:info] GET /api/habits/weekly 200 OK (37ms)
2025-09-10T17:45:27: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_17-39-59_590.log"
2025-09-10T17:45:27: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_17-39-59_590.log"
2025-09-10T17:45:28: 
2025-09-10T17:45:28:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:45:28: ─────────────────────────────────────────────
2025-09-10T17:45:28: 
2025-09-10T17:45:28:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:45:28: ─────────────────────────────────────────────
2025-09-10T17:45:29: ✨ Compiled Worker successfully
2025-09-10T17:45:29: ✨ Compiled Worker successfully
2025-09-10T17:45:29: Your Worker has access to the following bindings:
2025-09-10T17:45:29: Your Worker has access to the following bindings:
2025-09-10T17:45:29: Binding                                                    Resource                  Mode
2025-09-10T17:45:29: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:45:29: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:45:29: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:45:29: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:45:29: Binding                                                    Resource                  Mode
2025-09-10T17:45:29: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:45:29: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:45:29: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:45:29: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:45:29: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:45:29: 
2025-09-10T17:45:29: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:45:29: 
2025-09-10T17:45:29: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:45:29: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:45:29: ⎔ Starting local server...
2025-09-10T17:45:29: ⎔ Starting local server...
2025-09-10T17:45:41: [wrangler:info] GET / 304 Not Modified (53ms)
2025-09-10T17:45:41: [wrangler:info] GET / 304 Not Modified (53ms)
2025-09-10T17:45:41: [wrangler:info] GET /app.js 200 OK (33ms)
2025-09-10T17:45:41: [wrangler:info] GET /app.js 200 OK (33ms)
2025-09-10T17:45:41: [wrangler:info] GET /api/auth/validate-session 200 OK (14ms)
2025-09-10T17:45:41: [wrangler:info] GET /api/auth/validate-session 200 OK (14ms)
2025-09-10T17:45:41: [wrangler:info] GET /api/media/enhanced 200 OK (40ms)
2025-09-10T17:45:41: [wrangler:info] GET /api/media/enhanced 200 OK (40ms)
2025-09-10T17:45:41: [wrangler:info] GET /api/admin/users 200 OK (69ms)
2025-09-10T17:45:41: [wrangler:info] GET /api/admin/users 200 OK (69ms)
2025-09-10T17:45:41: [wrangler:info] GET /api/admin/media 200 OK (65ms)
2025-09-10T17:45:41: [wrangler:info] GET /api/admin/media 200 OK (65ms)
2025-09-10T17:45:42: [wrangler:info] GET /api/admin/users 200 OK (27ms)
2025-09-10T17:45:42: [wrangler:info] GET /api/admin/users 200 OK (27ms)
2025-09-10T17:45:42: [wrangler:info] GET /api/habits/weekly 200 OK (49ms)
2025-09-10T17:45:42: [wrangler:info] GET /api/habits/weekly 200 OK (49ms)
2025-09-10T17:45:42: [wrangler:info] GET /api/achievements 200 OK (50ms)
2025-09-10T17:45:42: [wrangler:info] GET /api/achievements 200 OK (50ms)
2025-09-10T17:45:42: [wrangler:info] GET /api/habits/weekly 200 OK (16ms)
2025-09-10T17:45:42: [wrangler:info] GET /api/habits/weekly 200 OK (16ms)
2025-09-10T17:45:43: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-10T17:45:43: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-10T17:45:47: [wrangler:info] DELETE /api/habits/user_c7825bfe-ba81-4238-83d0-0a7e8ae9189c 200 OK (41ms)
2025-09-10T17:45:47: [wrangler:info] DELETE /api/habits/user_c7825bfe-ba81-4238-83d0-0a7e8ae9189c 200 OK (41ms)
2025-09-10T17:45:47: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:45:47: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T17:45:47: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T17:45:47: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T17:45:51: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:45:51: 
2025-09-10T17:45:51:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:51:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:51:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:51:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:45:51:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:45:51:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:51:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:51:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:45:51:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/database.js:133:16)
2025-09-10T17:45:51:         at async onRequestPost (file:///home/user/webapp/functions/api/habits/index.js:63:33)
2025-09-10T17:45:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:51:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:51:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:51:   }
2025-09-10T17:45:51: 
2025-09-10T17:45:51: 
2025-09-10T17:45:51: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:45:51: 
2025-09-10T17:45:51:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:51:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:51:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:51:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:45:51:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:45:51:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:51:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:51:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:45:51:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/database.js:133:16)
2025-09-10T17:45:51:         at async onRequestPost (file:///home/user/webapp/functions/api/habits/index.js:63:33)
2025-09-10T17:45:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:51:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:51:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:51:   }
2025-09-10T17:45:51: 
2025-09-10T17:45:51: 
2025-09-10T17:45:51: [wrangler:info] POST /api/habits 201 Created (59ms)
2025-09-10T17:45:51: [wrangler:info] POST /api/habits 201 Created (59ms)
2025-09-10T17:45:52: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:45:52: 
2025-09-10T17:45:52:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:52:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:52:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:52:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:45:52:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:45:52:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:52:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:52:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:45:52:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:45:52:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:52:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:52:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:52:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:52:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:52:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:52:   }
2025-09-10T17:45:52:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:45:52:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:52:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:52:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:52:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:45:52:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:45:52:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:52:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:52:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:45:52:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:52:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:52:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:52:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:52:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:52:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:52:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:52:   }
2025-09-10T17:45:52: 
2025-09-10T17:45:52: 
2025-09-10T17:45:52: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:45:52: 
2025-09-10T17:45:52:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:52:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:52:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:52:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:45:52:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:45:52:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:52:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:52:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:45:52:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:45:52:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:52:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:52:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:52:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:52:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:52:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:52:   }
2025-09-10T17:45:52:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:45:52:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:52:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:52:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:52:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:45:52:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:45:52:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:52:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:52:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:45:52:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:52:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:52:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:52:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:52:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:52:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:52:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:52:   }
2025-09-10T17:45:52: 
2025-09-10T17:45:52: 
2025-09-10T17:45:52: [wrangler:info] GET /api/habits/weekly 200 OK (29ms)
2025-09-10T17:45:52: [wrangler:info] GET /api/habits/weekly 200 OK (29ms)
2025-09-10T17:45:52: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (85ms)
2025-09-10T17:45:52: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (85ms)
2025-09-10T17:45:52: [wrangler:info] GET /api/habits/weekly 200 OK (35ms)
2025-09-10T17:45:52: [wrangler:info] GET /api/habits/weekly 200 OK (35ms)
2025-09-10T17:45:54: [wrangler:info] POST /api/habits/weekly 200 OK (31ms)
2025-09-10T17:45:54: [wrangler:info] POST /api/habits/weekly 200 OK (31ms)
2025-09-10T17:45:54: [wrangler:info] GET /api/habits/weekly 200 OK (27ms)
2025-09-10T17:45:54: [wrangler:info] GET /api/habits/weekly 200 OK (27ms)
2025-09-10T17:45:54: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:45:54: 
2025-09-10T17:45:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:54:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:45:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:45:54:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:45:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:54:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:45:54:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:45:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:54:   }
2025-09-10T17:45:54: 
2025-09-10T17:45:54: 
2025-09-10T17:45:54: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T17:45:54: 
2025-09-10T17:45:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:54:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:45:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:45:54:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T17:45:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:54:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T17:45:54:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T17:45:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:54:   }
2025-09-10T17:45:54: 
2025-09-10T17:45:54: 
2025-09-10T17:45:54: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T17:45:54: 
2025-09-10T17:45:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:45:54:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:45:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:45:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:54:   }
2025-09-10T17:45:54: 
2025-09-10T17:45:54: 
2025-09-10T17:45:54: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T17:45:54: 
2025-09-10T17:45:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:45:54:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T17:45:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T17:45:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:54:   }
2025-09-10T17:45:54: 
2025-09-10T17:45:54: 
2025-09-10T17:45:54: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:45:54: 
2025-09-10T17:45:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:45:54:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:45:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:45:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:54:   }
2025-09-10T17:45:54:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:45:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:54:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:45:54:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:45:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:54:   }
2025-09-10T17:45:54: 
2025-09-10T17:45:54: 
2025-09-10T17:45:54: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T17:45:54: 
2025-09-10T17:45:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T17:45:54:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T17:45:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T17:45:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:54:   }
2025-09-10T17:45:54:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:45:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T17:45:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:       ... 7 lines matching cause stack trace ...
2025-09-10T17:45:54:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T17:45:54:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T17:45:54:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T17:45:54:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T17:45:54:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T17:45:54:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T17:45:54:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T17:45:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:54:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T17:45:54:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T17:45:54:   }
2025-09-10T17:45:54: 
2025-09-10T17:45:54: 
2025-09-10T17:45:54: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (93ms)
2025-09-10T17:45:54: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (93ms)
2025-09-10T17:45:54: [wrangler:info] GET /api/habits/weekly 200 OK (50ms)
2025-09-10T17:45:54: [wrangler:info] GET /api/habits/weekly 200 OK (50ms)
2025-09-10T17:46:37: [wrangler:info] GET / 200 OK (36ms)
2025-09-10T17:46:37: [wrangler:info] GET / 200 OK (36ms)
2025-09-10T17:46:37: [wrangler:info] GET /app.js 200 OK (27ms)
2025-09-10T17:46:37: [wrangler:info] GET /app.js 200 OK (27ms)
2025-09-10T17:46:38: [wrangler:info] GET /favicon.ico 200 OK (24ms)
2025-09-10T17:46:38: [wrangler:info] GET /favicon.ico 200 OK (24ms)
2025-09-10T17:47:50: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_17-45-28_617.log"
2025-09-10T17:47:50: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_17-45-28_617.log"
2025-09-10T17:47:51: 
2025-09-10T17:47:51:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:47:51: ─────────────────────────────────────────────
2025-09-10T17:47:51: 
2025-09-10T17:47:51:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T17:47:51: ─────────────────────────────────────────────
2025-09-10T17:47:52: ✨ Compiled Worker successfully
2025-09-10T17:47:52: ✨ Compiled Worker successfully
2025-09-10T17:47:52: Your Worker has access to the following bindings:
2025-09-10T17:47:52: Your Worker has access to the following bindings:
2025-09-10T17:47:52: Binding                                                    Resource                  Mode
2025-09-10T17:47:52: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:47:52: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:47:52: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:47:52: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:47:52: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:47:52: Binding                                                    Resource                  Mode
2025-09-10T17:47:52: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T17:47:52: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T17:47:52: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T17:47:52: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T17:47:52: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T17:47:52: 
2025-09-10T17:47:52: 
2025-09-10T17:47:52: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:47:52: [wrangler:info] Ready on http://localhost:8787
2025-09-10T17:47:52: ⎔ Starting local server...
2025-09-10T17:47:52: ⎔ Starting local server...
2025-09-10T18:29:36: [wrangler:info] GET / 304 Not Modified (51ms)
2025-09-10T18:29:36: [wrangler:info] GET / 304 Not Modified (51ms)
2025-09-10T18:29:36: [wrangler:info] GET /app.js 200 OK (50ms)
2025-09-10T18:29:36: [wrangler:info] GET /app.js 200 OK (50ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/auth/validate-session 200 OK (14ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/auth/validate-session 200 OK (14ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/habits/weekly 200 OK (33ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/habits/weekly 200 OK (33ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/admin/media 200 OK (83ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/admin/media 200 OK (83ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/admin/users 200 OK (117ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/admin/users 200 OK (117ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/media/enhanced 200 OK (115ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/media/enhanced 200 OK (115ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/achievements 200 OK (122ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/achievements 200 OK (122ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/habits/weekly 200 OK (31ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/admin/users 200 OK (56ms)
2025-09-10T18:29:36: [wrangler:info] GET /api/admin/users 200 OK (56ms)
2025-09-10T18:29:44: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T18:29:44: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T18:29:50: [wrangler:info] POST /api/habits/weekly 200 OK (43ms)
2025-09-10T18:29:50: [wrangler:info] POST /api/habits/weekly 200 OK (43ms)
2025-09-10T18:29:51: [wrangler:info] GET /api/habits/weekly 200 OK (25ms)
2025-09-10T18:29:51: [wrangler:info] GET /api/habits/weekly 200 OK (25ms)
2025-09-10T18:29:51: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T18:29:51: 
2025-09-10T18:29:51:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:29:51:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T18:29:51:       ... 7 lines matching cause stack trace ...
2025-09-10T18:29:51:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T18:29:51:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T18:29:51:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:29:51:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T18:29:51:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T18:29:51:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:29:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:29:51:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:29:51:   }
2025-09-10T18:29:51: 
2025-09-10T18:29:51: 
2025-09-10T18:29:51: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T18:29:51: 
2025-09-10T18:29:51:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:29:51:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T18:29:51:       ... 7 lines matching cause stack trace ...
2025-09-10T18:29:51:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T18:29:51:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T18:29:51:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:29:51:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T18:29:51:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T18:29:51:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:29:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:29:51:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:29:51:   }
2025-09-10T18:29:51: 
2025-09-10T18:29:51: 
2025-09-10T18:29:51: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T18:29:51: 
2025-09-10T18:29:51:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:29:51:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:       ... 7 lines matching cause stack trace ...
2025-09-10T18:29:51:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T18:29:51:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T18:29:51:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:29:51:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T18:29:51:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:29:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:29:51:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:29:51:   }
2025-09-10T18:29:51:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T18:29:51:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:29:51:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:       ... 7 lines matching cause stack trace ...
2025-09-10T18:29:51:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T18:29:51:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T18:29:51:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:29:51:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T18:29:51:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:29:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:29:51:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:29:51:   }
2025-09-10T18:29:51:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T18:29:51:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:29:51:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:       ... 7 lines matching cause stack trace ...
2025-09-10T18:29:51:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T18:29:51:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T18:29:51:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:29:51:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:29:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:29:51:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:29:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:29:51:   }
2025-09-10T18:29:51: 
2025-09-10T18:29:51: 
2025-09-10T18:29:51: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T18:29:51: 
2025-09-10T18:29:51:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:29:51:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:       ... 7 lines matching cause stack trace ...
2025-09-10T18:29:51:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T18:29:51:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T18:29:51:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:29:51:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T18:29:51:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:29:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:29:51:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:29:51:   }
2025-09-10T18:29:51:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T18:29:51:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:29:51:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:       ... 7 lines matching cause stack trace ...
2025-09-10T18:29:51:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T18:29:51:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T18:29:51:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:29:51:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T18:29:51:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:29:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:29:51:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:29:51:   }
2025-09-10T18:29:51:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T18:29:51:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:29:51:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:       ... 7 lines matching cause stack trace ...
2025-09-10T18:29:51:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T18:29:51:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T18:29:51:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:29:51:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:29:51:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:29:51:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:29:51:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:29:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:29:51:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:29:51:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:29:51:   }
2025-09-10T18:29:51: 
2025-09-10T18:29:51: 
2025-09-10T18:29:51: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (92ms)
2025-09-10T18:29:51: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (92ms)
2025-09-10T18:29:51: [wrangler:info] GET /api/habits/weekly 200 OK (51ms)
2025-09-10T18:29:51: [wrangler:info] GET /api/habits/weekly 200 OK (51ms)
2025-09-10T18:29:51: [wrangler:info] POST /api/habits/weekly 200 OK (52ms)
2025-09-10T18:29:51: [wrangler:info] POST /api/habits/weekly 200 OK (52ms)
2025-09-10T18:29:52: [wrangler:info] GET /api/habits/weekly 200 OK (17ms)
2025-09-10T18:29:52: [wrangler:info] GET /api/habits/weekly 200 OK (17ms)
2025-09-10T18:29:52: [wrangler:info] GET /api/habits/weekly 200 OK (40ms)
2025-09-10T18:29:52: [wrangler:info] GET /api/habits/weekly 200 OK (40ms)
2025-09-10T18:29:56: [wrangler:info] GET /api/media/enhanced 200 OK (32ms)
2025-09-10T18:29:56: [wrangler:info] GET /api/media/enhanced 200 OK (32ms)
2025-09-10T18:30:29: [wrangler:info] GET /api/nutrition 200 OK (35ms)
2025-09-10T18:30:29: [wrangler:info] GET /api/nutrition 200 OK (35ms)
2025-09-10T18:38:21: ✨ Compiled Worker successfully
2025-09-10T18:38:21: ✨ Compiled Worker successfully
2025-09-10T18:38:22: ⎔ Reloading local server...
2025-09-10T18:38:22: ⎔ Reloading local server...
2025-09-10T18:38:39: ✨ Compiled Worker successfully
2025-09-10T18:38:39: ✨ Compiled Worker successfully
2025-09-10T18:38:39: ⎔ Reloading local server...
2025-09-10T18:38:39: ⎔ Reloading local server...
2025-09-10T18:39:01: ✨ Compiled Worker successfully
2025-09-10T18:39:01: ✨ Compiled Worker successfully
2025-09-10T18:39:01: ⎔ Reloading local server...
2025-09-10T18:39:01: ⎔ Reloading local server...
2025-09-10T18:42:19: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_17-47-51_280.log"
2025-09-10T18:42:19: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_17-47-51_280.log"
2025-09-10T18:42:22: 
2025-09-10T18:42:22:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T18:42:22: ─────────────────────────────────────────────
2025-09-10T18:42:22: 
2025-09-10T18:42:22:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T18:42:22: ─────────────────────────────────────────────
2025-09-10T18:42:22: ✨ Compiled Worker successfully
2025-09-10T18:42:22: ✨ Compiled Worker successfully
2025-09-10T18:42:22: Your Worker has access to the following bindings:
2025-09-10T18:42:22: Your Worker has access to the following bindings:
2025-09-10T18:42:22: Binding                                                    Resource                  Mode
2025-09-10T18:42:22: Binding                                                    Resource                  Mode
2025-09-10T18:42:22: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T18:42:22: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T18:42:22: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T18:42:22: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T18:42:22: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T18:42:22: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T18:42:22: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T18:42:22: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T18:42:22: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T18:42:22: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T18:42:22: 
2025-09-10T18:42:22: 
2025-09-10T18:42:23: ⎔ Starting local server...
2025-09-10T18:42:23: ⎔ Starting local server...
2025-09-10T18:42:23: [wrangler:info] Ready on http://localhost:8787
2025-09-10T18:42:23: [wrangler:info] Ready on http://localhost:8787
2025-09-10T18:44:33: [wrangler:info] GET / 200 OK (250ms)
2025-09-10T18:44:33: [wrangler:info] GET / 200 OK (250ms)
2025-09-10T18:44:33: [wrangler:info] GET /app.js 200 OK (25ms)
2025-09-10T18:44:33: [wrangler:info] GET /app.js 200 OK (25ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/auth/validate-session 200 OK (12ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/auth/validate-session 200 OK (12ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/achievements 200 OK (37ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/achievements 200 OK (37ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/admin/media 200 OK (224ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/admin/media 200 OK (224ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/media/enhanced 200 OK (256ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/media/enhanced 200 OK (256ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/habits/weekly 200 OK (260ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/habits/weekly 200 OK (260ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/admin/users 200 OK (257ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/admin/users 200 OK (257ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/habits/weekly 200 OK (25ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/habits/weekly 200 OK (25ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/admin/users 200 OK (35ms)
2025-09-10T18:44:34: [wrangler:info] GET /api/admin/users 200 OK (35ms)
2025-09-10T18:44:35: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T18:44:35: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T18:45:41: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mGet goals error: Error: D1_ERROR: no such table: goals: SQLITE_ERROR[0m
2025-09-10T18:45:41: 
2025-09-10T18:45:41:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:45:41:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:45:41:       ... 7 lines matching cause stack trace ...
2025-09-10T18:45:41:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T18:45:41:     [cause]: Error: no such table: goals: SQLITE_ERROR
2025-09-10T18:45:41:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:45:41:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:45:41:         at async onRequestGet (file:///home/user/webapp/functions/api/goals/index.js:14:29)
2025-09-10T18:45:41:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:45:41:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:45:41:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:45:41:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:45:41:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:45:41:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:45:41:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:45:41:   }
2025-09-10T18:45:41: 
2025-09-10T18:45:41: 
2025-09-10T18:45:41: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mGet goals error: Error: D1_ERROR: no such table: goals: SQLITE_ERROR[0m
2025-09-10T18:45:41: 
2025-09-10T18:45:41:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:45:41:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:45:41:       ... 7 lines matching cause stack trace ...
2025-09-10T18:45:41:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T18:45:41:     [cause]: Error: no such table: goals: SQLITE_ERROR
2025-09-10T18:45:41:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:45:41:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:45:41:         at async onRequestGet (file:///home/user/webapp/functions/api/goals/index.js:14:29)
2025-09-10T18:45:41:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:45:41:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:45:41:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:45:41:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:45:41:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:45:41:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:45:41:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:45:41:   }
2025-09-10T18:45:41: 
2025-09-10T18:45:41: 
2025-09-10T18:45:41: [wrangler:info] GET /api/goals 500 Internal Server Error (48ms)
2025-09-10T18:45:41: [wrangler:info] GET /api/goals 500 Internal Server Error (48ms)
2025-09-10T18:46:20: [wrangler:info] POST /api/goals 500 Internal Server Error (31ms)
2025-09-10T18:46:20: [wrangler:info] POST /api/goals 500 Internal Server Error (31ms)
2025-09-10T18:46:20: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mCreate goal error: Error: D1_ERROR: no such table: goals: SQLITE_ERROR[0m
2025-09-10T18:46:20: 
2025-09-10T18:46:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:46:20:       at async D1PreparedStatement.run (cloudflare-internal:d1-api:307:29)
2025-09-10T18:46:20:       ... 7 lines matching cause stack trace ...
2025-09-10T18:46:20:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T18:46:20:     [cause]: Error: no such table: goals: SQLITE_ERROR
2025-09-10T18:46:20:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:46:20:         at async D1PreparedStatement.run (cloudflare-internal:d1-api:307:29)
2025-09-10T18:46:20:         at async onRequestPost (file:///home/user/webapp/functions/api/goals/index.js:79:9)
2025-09-10T18:46:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:46:20:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:46:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:46:20:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:46:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:46:20:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:46:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:46:20:   }
2025-09-10T18:46:20: 
2025-09-10T18:46:20: 
2025-09-10T18:46:20: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mCreate goal error: Error: D1_ERROR: no such table: goals: SQLITE_ERROR[0m
2025-09-10T18:46:20: 
2025-09-10T18:46:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:46:20:       at async D1PreparedStatement.run (cloudflare-internal:d1-api:307:29)
2025-09-10T18:46:20:       ... 7 lines matching cause stack trace ...
2025-09-10T18:46:20:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T18:46:20:     [cause]: Error: no such table: goals: SQLITE_ERROR
2025-09-10T18:46:20:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:46:20:         at async D1PreparedStatement.run (cloudflare-internal:d1-api:307:29)
2025-09-10T18:46:20:         at async onRequestPost (file:///home/user/webapp/functions/api/goals/index.js:79:9)
2025-09-10T18:46:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:46:20:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:46:20:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:46:20:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:46:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:46:20:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:46:20:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:46:20:   }
2025-09-10T18:46:20: 
2025-09-10T18:46:20: 
2025-09-10T18:47:00: ✨ Compiled Worker successfully
2025-09-10T18:47:00: ✨ Compiled Worker successfully
2025-09-10T18:47:00: ⎔ Reloading local server...
2025-09-10T18:47:00: ⎔ Reloading local server...
2025-09-10T18:47:10: ✨ Compiled Worker successfully
2025-09-10T18:47:10: ✨ Compiled Worker successfully
2025-09-10T18:47:10: ⎔ Reloading local server...
2025-09-10T18:47:10: ⎔ Reloading local server...
2025-09-10T18:47:27: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_18-42-21_449.log"
2025-09-10T18:47:27: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_18-42-21_449.log"
2025-09-10T18:47:28: 
2025-09-10T18:47:28:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T18:47:28: ─────────────────────────────────────────────
2025-09-10T18:47:28: 
2025-09-10T18:47:28:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T18:47:28: ─────────────────────────────────────────────
2025-09-10T18:47:29: ✨ Compiled Worker successfully
2025-09-10T18:47:29: ✨ Compiled Worker successfully
2025-09-10T18:47:29: Your Worker has access to the following bindings:
2025-09-10T18:47:29: Your Worker has access to the following bindings:
2025-09-10T18:47:29: Binding                                                    Resource                  Mode
2025-09-10T18:47:29: Binding                                                    Resource                  Mode
2025-09-10T18:47:29: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T18:47:29: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T18:47:29: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T18:47:29: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T18:47:29: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T18:47:29: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T18:47:29: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T18:47:29: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T18:47:29: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T18:47:29: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T18:47:29: 
2025-09-10T18:47:29: 
2025-09-10T18:47:29: [wrangler:info] Ready on http://localhost:8787
2025-09-10T18:47:29: [wrangler:info] Ready on http://localhost:8787
2025-09-10T18:47:29: ⎔ Starting local server...
2025-09-10T18:47:29: ⎔ Starting local server...
2025-09-10T18:49:48: [wrangler:info] GET / 304 Not Modified (52ms)
2025-09-10T18:49:48: [wrangler:info] GET / 304 Not Modified (52ms)
2025-09-10T18:49:48: [wrangler:info] GET /app.js 304 Not Modified (29ms)
2025-09-10T18:49:48: [wrangler:info] GET /app.js 304 Not Modified (29ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/auth/validate-session 200 OK (20ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/auth/validate-session 200 OK (20ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/media/enhanced 200 OK (38ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/media/enhanced 200 OK (38ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/admin/media 200 OK (93ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/admin/media 200 OK (93ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/achievements 200 OK (107ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/achievements 200 OK (107ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/habits/weekly 200 OK (104ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/habits/weekly 200 OK (104ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/habits/weekly 200 OK (34ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/habits/weekly 200 OK (34ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/admin/users 200 OK (22ms)
2025-09-10T18:49:49: [wrangler:info] GET /api/admin/users 200 OK (22ms)
2025-09-10T18:49:50: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mGet goals error: Error: D1_ERROR: no such table: goals: SQLITE_ERROR[0m
2025-09-10T18:49:50: 
2025-09-10T18:49:50:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:49:50:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:49:50:       ... 7 lines matching cause stack trace ...
2025-09-10T18:49:50:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T18:49:50:     [cause]: Error: no such table: goals: SQLITE_ERROR
2025-09-10T18:49:50:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:49:50:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:49:50:         at async onRequestGet (file:///home/user/webapp/functions/api/goals/index.js:14:29)
2025-09-10T18:49:50:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:49:50:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:49:50:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:49:50:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:49:50:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:49:50:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:49:50:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:49:50:   }
2025-09-10T18:49:50: 
2025-09-10T18:49:50: 
2025-09-10T18:49:50: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mGet goals error: Error: D1_ERROR: no such table: goals: SQLITE_ERROR[0m
2025-09-10T18:49:50: 
2025-09-10T18:49:50:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T18:49:50:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:49:50:       ... 7 lines matching cause stack trace ...
2025-09-10T18:49:50:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T18:49:50:     [cause]: Error: no such table: goals: SQLITE_ERROR
2025-09-10T18:49:50:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T18:49:50:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T18:49:50:         at async onRequestGet (file:///home/user/webapp/functions/api/goals/index.js:14:29)
2025-09-10T18:49:50:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:49:50:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:49:50:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:49:50:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:49:50:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:49:50:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:49:50:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:49:50:   }
2025-09-10T18:49:50: 
2025-09-10T18:49:50: 
2025-09-10T18:49:50: [wrangler:info] GET /api/goals 500 Internal Server Error (38ms)
2025-09-10T18:49:50: [wrangler:info] GET /api/goals 500 Internal Server Error (38ms)
2025-09-10T18:50:39: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDatabase setup error: Error: D1_EXEC_ERROR: Error in line 1: CREATE TABLE IF NOT EXISTS goals (: incomplete input: SQLITE_ERROR[0m
2025-09-10T18:50:39: 
2025-09-10T18:50:39:       at D1DatabaseSessionAlwaysPrimary.exec (cloudflare-internal:d1-api:201:19)
2025-09-10T18:50:39:       at async onRequestGet (file:///home/user/webapp/functions/api/setup-database.js:7:9)
2025-09-10T18:50:39:       ... 7 lines matching cause stack trace ...
2025-09-10T18:50:39:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T18:50:39:     [cause]: Error: Error in line 1: CREATE TABLE IF NOT EXISTS goals (: incomplete input: SQLITE_ERROR
2025-09-10T18:50:39:         at D1DatabaseSessionAlwaysPrimary.exec (cloudflare-internal:d1-api:202:24)
2025-09-10T18:50:39:         at async onRequestGet (file:///home/user/webapp/functions/api/setup-database.js:7:9)
2025-09-10T18:50:39:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:50:39:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:50:39:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:50:39:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:50:39:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:50:39:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:50:39:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:50:39:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:50:39:   }
2025-09-10T18:50:39: 
2025-09-10T18:50:39: 
2025-09-10T18:50:39: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDatabase setup error: Error: D1_EXEC_ERROR: Error in line 1: CREATE TABLE IF NOT EXISTS goals (: incomplete input: SQLITE_ERROR[0m
2025-09-10T18:50:39: 
2025-09-10T18:50:39:       at D1DatabaseSessionAlwaysPrimary.exec (cloudflare-internal:d1-api:201:19)
2025-09-10T18:50:39:       at async onRequestGet (file:///home/user/webapp/functions/api/setup-database.js:7:9)
2025-09-10T18:50:39:       ... 7 lines matching cause stack trace ...
2025-09-10T18:50:39:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T18:50:39:     [cause]: Error: Error in line 1: CREATE TABLE IF NOT EXISTS goals (: incomplete input: SQLITE_ERROR
2025-09-10T18:50:39:         at D1DatabaseSessionAlwaysPrimary.exec (cloudflare-internal:d1-api:202:24)
2025-09-10T18:50:39:         at async onRequestGet (file:///home/user/webapp/functions/api/setup-database.js:7:9)
2025-09-10T18:50:39:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:50:39:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T18:50:39:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T18:50:39:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T18:50:39:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:50:39:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:50:39:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T18:50:39:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T18:50:39:   }
2025-09-10T18:50:39: 
2025-09-10T18:50:39: 
2025-09-10T18:50:39: [wrangler:info] GET /api/setup-database 500 Internal Server Error (20ms)
2025-09-10T18:50:39: [wrangler:info] GET /api/setup-database 500 Internal Server Error (20ms)
2025-09-10T18:51:07: ✨ Compiled Worker successfully
2025-09-10T18:51:07: ✨ Compiled Worker successfully
2025-09-10T18:51:07: ⎔ Reloading local server...
2025-09-10T18:51:07: ⎔ Reloading local server...
2025-09-10T18:51:17: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_18-47-28_444.log"
2025-09-10T18:51:17: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_18-47-28_444.log"
2025-09-10T18:51:19: 
2025-09-10T18:51:19:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T18:51:19: ─────────────────────────────────────────────
2025-09-10T18:51:19: 
2025-09-10T18:51:19:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T18:51:19: ─────────────────────────────────────────────
2025-09-10T18:51:20: ✨ Compiled Worker successfully
2025-09-10T18:51:20: ✨ Compiled Worker successfully
2025-09-10T18:51:20: Your Worker has access to the following bindings:
2025-09-10T18:51:20: Your Worker has access to the following bindings:
2025-09-10T18:51:20: Binding                                                    Resource                  Mode
2025-09-10T18:51:20: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T18:51:20: Binding                                                    Resource                  Mode
2025-09-10T18:51:20: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T18:51:20: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T18:51:20: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T18:51:20: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T18:51:20: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T18:51:20: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T18:51:20: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T18:51:20: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T18:51:20: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T18:51:20: 
2025-09-10T18:51:20: 
2025-09-10T18:51:20: [wrangler:info] Ready on http://localhost:8787
2025-09-10T18:51:20: [wrangler:info] Ready on http://localhost:8787
2025-09-10T18:51:20: ⎔ Starting local server...
2025-09-10T18:51:20: ⎔ Starting local server...
2025-09-10T18:51:24: [wrangler:info] GET /api/setup-database 200 OK (64ms)
2025-09-10T18:51:24: [wrangler:info] GET /api/setup-database 200 OK (64ms)
2025-09-10T18:51:31: [wrangler:info] GET /api/goals 401 Unauthorized (24ms)
2025-09-10T18:51:31: [wrangler:info] GET /api/goals 401 Unauthorized (24ms)
2025-09-10T18:54:47: [wrangler:info] GET / 304 Not Modified (37ms)
2025-09-10T18:54:47: [wrangler:info] GET / 304 Not Modified (37ms)
2025-09-10T18:54:47: [wrangler:info] GET /app.js 304 Not Modified (33ms)
2025-09-10T18:54:47: [wrangler:info] GET /app.js 304 Not Modified (33ms)
2025-09-10T18:54:47: [wrangler:info] GET /api/auth/validate-session 200 OK (16ms)
2025-09-10T18:54:47: [wrangler:info] GET /api/auth/validate-session 200 OK (16ms)
2025-09-10T18:54:47: [wrangler:info] GET /api/media/enhanced 200 OK (32ms)
2025-09-10T18:54:47: [wrangler:info] GET /api/media/enhanced 200 OK (32ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/admin/media 200 OK (100ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/admin/media 200 OK (100ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/achievements 200 OK (120ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/achievements 200 OK (120ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/habits/weekly 200 OK (120ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/habits/weekly 200 OK (120ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/admin/users 200 OK (122ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/admin/users 200 OK (122ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/admin/users 200 OK (21ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/admin/users 200 OK (21ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/habits/weekly 200 OK (45ms)
2025-09-10T18:54:48: [wrangler:info] GET /api/habits/weekly 200 OK (45ms)
2025-09-10T18:54:49: [wrangler:info] GET /api/goals 200 OK (21ms)
2025-09-10T18:54:49: [wrangler:info] GET /api/goals 200 OK (21ms)
2025-09-10T18:55:03: [wrangler:info] POST /api/goals 201 Created (25ms)
2025-09-10T18:55:03: [wrangler:info] POST /api/goals 201 Created (25ms)
2025-09-10T18:55:03: [wrangler:info] GET /api/goals 200 OK (22ms)
2025-09-10T18:55:03: [wrangler:info] GET /api/goals 200 OK (22ms)
2025-09-10T18:55:08: [wrangler:info] DELETE /api/goals/4031a86b-379d-4409-9064-914a5aea2c26 200 OK (36ms)
2025-09-10T18:55:08: [wrangler:info] DELETE /api/goals/4031a86b-379d-4409-9064-914a5aea2c26 200 OK (36ms)
2025-09-10T18:55:08: [wrangler:info] GET /api/goals 200 OK (19ms)
2025-09-10T18:55:08: [wrangler:info] GET /api/goals 200 OK (19ms)
2025-09-10T18:55:10: [wrangler:info] GET /api/achievements 200 OK (30ms)
2025-09-10T18:55:10: [wrangler:info] GET /api/achievements 200 OK (30ms)
2025-09-10T19:00:06: 
2025-09-10T19:00:06:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T19:00:06: ─────────────────────────────────────────────
2025-09-10T19:00:06: 
2025-09-10T19:00:06:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T19:00:06: ─────────────────────────────────────────────
2025-09-10T19:00:06: ✨ Compiled Worker successfully
2025-09-10T19:00:06: ✨ Compiled Worker successfully
2025-09-10T19:00:07: Your Worker has access to the following bindings:
2025-09-10T19:00:07: Your Worker has access to the following bindings:
2025-09-10T19:00:07: Binding                                                    Resource                  Mode
2025-09-10T19:00:07: Binding                                                    Resource                  Mode
2025-09-10T19:00:07: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T19:00:07: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T19:00:07: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T19:00:07: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T19:00:07: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T19:00:07: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T19:00:07: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T19:00:07: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T19:00:07: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T19:00:07: 
2025-09-10T19:00:07: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T19:00:07: 
2025-09-10T19:00:07: [wrangler:info] Ready on http://localhost:8787
2025-09-10T19:00:07: [wrangler:info] Ready on http://localhost:8787
2025-09-10T19:00:07: ⎔ Starting local server...
2025-09-10T19:00:07: ⎔ Starting local server...
2025-09-10T19:15:52: [wrangler:info] HEAD / 200 OK (63ms)
2025-09-10T19:15:52: [wrangler:info] HEAD / 200 OK (63ms)
2025-09-10T19:16:00: 
2025-09-10T19:16:00:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T19:16:00: ─────────────────────────────────────────────
2025-09-10T19:16:00: 
2025-09-10T19:16:00:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T19:16:00: ─────────────────────────────────────────────
2025-09-10T19:16:00: ✨ Compiled Worker successfully
2025-09-10T19:16:00: ✨ Compiled Worker successfully
2025-09-10T19:16:00: Your Worker has access to the following bindings:
2025-09-10T19:16:00: Your Worker has access to the following bindings:
2025-09-10T19:16:00: Binding                                                    Resource                  Mode
2025-09-10T19:16:00: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T19:16:00: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T19:16:00: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T19:16:00: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T19:16:00: Binding                                                    Resource                  Mode
2025-09-10T19:16:00: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T19:16:00: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T19:16:00: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T19:16:00: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T19:16:00: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T19:16:00: 
2025-09-10T19:16:00: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T19:16:00: 
2025-09-10T19:16:00: [wrangler:info] Ready on http://localhost:8787
2025-09-10T19:16:00: [wrangler:info] Ready on http://localhost:8787
2025-09-10T19:16:00: ⎔ Starting local server...
2025-09-10T19:16:00: ⎔ Starting local server...
2025-09-10T19:16:49: [wrangler:info] GET / 200 OK (67ms)
2025-09-10T19:16:49: [wrangler:info] GET / 200 OK (67ms)
2025-09-10T19:16:49: [wrangler:info] GET /app.js 200 OK (25ms)
2025-09-10T19:16:49: [wrangler:info] GET /app.js 200 OK (25ms)
2025-09-10T19:17:00: [wrangler:info] GET / 200 OK (24ms)
2025-09-10T19:17:00: [wrangler:info] GET / 200 OK (24ms)
2025-09-10T19:17:01: [wrangler:info] GET /app.js 304 Not Modified (16ms)
2025-09-10T19:17:01: [wrangler:info] GET /app.js 304 Not Modified (16ms)
2025-09-10T19:18:37: [wrangler:info] GET / 200 OK (24ms)
2025-09-10T19:18:37: [wrangler:info] GET / 200 OK (24ms)
2025-09-10T19:18:37: [wrangler:info] GET /app.js 200 OK (28ms)
2025-09-10T19:18:37: [wrangler:info] GET /app.js 200 OK (28ms)
2025-09-10T19:18:39: [wrangler:info] GET /favicon.ico 200 OK (19ms)
2025-09-10T19:18:39: [wrangler:info] GET /favicon.ico 200 OK (19ms)
2025-09-10T19:19:32: 
2025-09-10T19:19:32:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T19:19:32: ─────────────────────────────────────────────
2025-09-10T19:19:32: 
2025-09-10T19:19:32:  ⛅️ wrangler 4.24.3 (update available 4.35.0)
2025-09-10T19:19:32: ─────────────────────────────────────────────
2025-09-10T19:19:32: ✨ Compiled Worker successfully
2025-09-10T19:19:32: ✨ Compiled Worker successfully
2025-09-10T19:19:33: Your Worker has access to the following bindings:
2025-09-10T19:19:33: Your Worker has access to the following bindings:
2025-09-10T19:19:33: Binding                                                    Resource                  Mode
2025-09-10T19:19:33: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T19:19:33: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T19:19:33: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T19:19:33: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T19:19:33: Binding                                                    Resource                  Mode
2025-09-10T19:19:33: env.DB (strivetrack)                                       D1 Database               local
2025-09-10T19:19:33: env.MEDIA_BUCKET (strivetrack-media)                       R2 Bucket                 local
2025-09-10T19:19:33: env.ADMIN_EMAIL ("iamhollywoodpro@protonmail.com")         Environment Variable      local
2025-09-10T19:19:33: env.ADMIN_PASSWORD ("password123")                         Environment Variable      local
2025-09-10T19:19:33: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T19:19:33: 
2025-09-10T19:19:33: env.ENVIRONMENT ("production")                             Environment Variable      local
2025-09-10T19:19:33: 
2025-09-10T19:19:33: [wrangler:info] Ready on http://localhost:8787
2025-09-10T19:19:33: [wrangler:info] Ready on http://localhost:8787
2025-09-10T19:19:33: ⎔ Starting local server...
2025-09-10T19:19:33: ⎔ Starting local server...
2025-09-10T19:19:38: [wrangler:info] GET / 200 OK (46ms)
2025-09-10T19:19:38: [wrangler:info] GET / 200 OK (46ms)
2025-09-10T19:19:38: [wrangler:info] GET /app.js 200 OK (30ms)
2025-09-10T19:19:38: [wrangler:info] GET /app.js 200 OK (30ms)
2025-09-10T19:19:40: [wrangler:info] GET /favicon.ico 200 OK (17ms)
2025-09-10T19:19:40: [wrangler:info] GET /favicon.ico 200 OK (17ms)
2025-09-10T19:20:04: [wrangler:info] GET / 304 Not Modified (25ms)
2025-09-10T19:20:04: [wrangler:info] GET / 304 Not Modified (25ms)
2025-09-10T19:20:05: [wrangler:info] GET /app.js 200 OK (21ms)
2025-09-10T19:20:05: [wrangler:info] GET /app.js 200 OK (21ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/auth/validate-session 200 OK (12ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/auth/validate-session 200 OK (12ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/media/enhanced 200 OK (27ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/media/enhanced 200 OK (27ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/admin/media 200 OK (75ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/admin/media 200 OK (75ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/admin/users 200 OK (91ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/admin/users 200 OK (91ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/habits/weekly 200 OK (97ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/habits/weekly 200 OK (97ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/achievements 200 OK (92ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/achievements 200 OK (92ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/habits/weekly 200 OK (20ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/admin/users 200 OK (38ms)
2025-09-10T19:20:05: [wrangler:info] GET /api/admin/users 200 OK (38ms)
2025-09-10T19:20:07: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T19:20:07: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T19:20:12: [wrangler:info] POST /api/habits/weekly 200 OK (60ms)
2025-09-10T19:20:12: [wrangler:info] POST /api/habits/weekly 200 OK (60ms)
2025-09-10T19:20:12: [wrangler:info] GET /api/habits/weekly 200 OK (26ms)
2025-09-10T19:20:12: [wrangler:info] GET /api/habits/weekly 200 OK (26ms)
2025-09-10T19:20:12: [wrangler:info] GET /api/habits/weekly 200 OK (18ms)
2025-09-10T19:20:12: [wrangler:info] GET /api/habits/weekly 200 OK (18ms)
2025-09-10T19:20:13: [wrangler:info] POST /api/habits/weekly 200 OK (31ms)
2025-09-10T19:20:13: [wrangler:info] POST /api/habits/weekly 200 OK (31ms)
2025-09-10T19:20:13: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T19:20:13: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T19:20:13: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T19:20:13: 
2025-09-10T19:20:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T19:20:13:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T19:20:13:       ... 7 lines matching cause stack trace ...
2025-09-10T19:20:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T19:20:13:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T19:20:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T19:20:13:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T19:20:13:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T19:20:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T19:20:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T19:20:13:   }
2025-09-10T19:20:13: 
2025-09-10T19:20:13: 
2025-09-10T19:20:13: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T19:20:13: 
2025-09-10T19:20:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T19:20:13:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T19:20:13:       ... 7 lines matching cause stack trace ...
2025-09-10T19:20:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T19:20:13:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T19:20:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T19:20:13:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T19:20:13:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T19:20:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T19:20:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T19:20:13:   }
2025-09-10T19:20:13: 
2025-09-10T19:20:13: 
2025-09-10T19:20:13: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T19:20:13: 
2025-09-10T19:20:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T19:20:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:       ... 7 lines matching cause stack trace ...
2025-09-10T19:20:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T19:20:13:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T19:20:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T19:20:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T19:20:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T19:20:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T19:20:13:   }
2025-09-10T19:20:13:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T19:20:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T19:20:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:       ... 7 lines matching cause stack trace ...
2025-09-10T19:20:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T19:20:13:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T19:20:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T19:20:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T19:20:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T19:20:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T19:20:13:   }
2025-09-10T19:20:13:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T19:20:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T19:20:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:       ... 7 lines matching cause stack trace ...
2025-09-10T19:20:13:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T19:20:13:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T19:20:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T19:20:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T19:20:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T19:20:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:13:   }
2025-09-10T19:20:13: 
2025-09-10T19:20:13: 
2025-09-10T19:20:13: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mDaily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR[0m
2025-09-10T19:20:13: 
2025-09-10T19:20:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T19:20:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:       ... 7 lines matching cause stack trace ...
2025-09-10T19:20:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T19:20:13:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T19:20:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T19:20:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T19:20:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T19:20:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T19:20:13:   }
2025-09-10T19:20:13:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T19:20:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T19:20:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:       ... 7 lines matching cause stack trace ...
2025-09-10T19:20:13:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T19:20:13:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T19:20:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T19:20:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T19:20:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T19:20:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T19:20:13:   }
2025-09-10T19:20:13:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T19:20:13:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T19:20:13:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:       ... 7 lines matching cause stack trace ...
2025-09-10T19:20:13:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T19:20:13:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T19:20:13:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T19:20:13:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:13:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T19:20:13:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:13:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T19:20:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:13:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T19:20:13:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:13:   }
2025-09-10T19:20:13: 
2025-09-10T19:20:13: 
2025-09-10T19:20:13: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (70ms)
2025-09-10T19:20:13: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (70ms)
2025-09-10T19:20:13: [wrangler:info] GET /api/habits/weekly 200 OK (27ms)
2025-09-10T19:20:13: [wrangler:info] GET /api/habits/weekly 200 OK (27ms)
2025-09-10T19:20:14: [wrangler:info] GET /api/media/enhanced 200 OK (17ms)
2025-09-10T19:20:14: [wrangler:info] GET /api/media/enhanced 200 OK (17ms)
2025-09-10T19:20:15: [wrangler:info] GET /api/nutrition 200 OK (30ms)
2025-09-10T19:20:15: [wrangler:info] GET /api/nutrition 200 OK (30ms)
2025-09-10T19:20:17: [wrangler:info] GET /api/goals 200 OK (17ms)
2025-09-10T19:20:17: [wrangler:info] GET /api/goals 200 OK (17ms)
2025-09-10T19:20:29: [wrangler:info] POST /api/goals 201 Created (23ms)
2025-09-10T19:20:29: [wrangler:info] POST /api/goals 201 Created (23ms)
2025-09-10T19:20:29: [wrangler:info] GET /api/goals 200 OK (22ms)
2025-09-10T19:20:29: [wrangler:info] GET /api/goals 200 OK (22ms)
2025-09-10T19:20:54: [wrangler:info] GET /api/achievements 200 OK (26ms)
2025-09-10T19:20:54: [wrangler:info] GET /api/achievements 200 OK (26ms)
2025-09-10T19:20:56: [wrangler:info] GET /api/friends 500 Internal Server Error (23ms)
2025-09-10T19:20:56: [wrangler:info] GET /api/friends 500 Internal Server Error (23ms)
2025-09-10T19:20:56: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFriends list error: Error: D1_ERROR: no such table: friend_requests: SQLITE_ERROR[0m
2025-09-10T19:20:56: 
2025-09-10T19:20:56:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T19:20:56:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:56:       ... 7 lines matching cause stack trace ...
2025-09-10T19:20:56:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T19:20:56:     [cause]: Error: no such table: friend_requests: SQLITE_ERROR
2025-09-10T19:20:56:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T19:20:56:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:56:         at async onRequestGet (file:///home/user/webapp/functions/api/friends/index.js:46:33)
2025-09-10T19:20:56:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:56:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T19:20:56:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:56:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T19:20:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T19:20:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:56:   }
2025-09-10T19:20:56: 
2025-09-10T19:20:56: 
2025-09-10T19:20:56: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFriends list error: Error: D1_ERROR: no such table: friend_requests: SQLITE_ERROR[0m
2025-09-10T19:20:56: 
2025-09-10T19:20:56:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T19:20:56:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:56:       ... 7 lines matching cause stack trace ...
2025-09-10T19:20:56:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T19:20:56:     [cause]: Error: no such table: friend_requests: SQLITE_ERROR
2025-09-10T19:20:56:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T19:20:56:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T19:20:56:         at async onRequestGet (file:///home/user/webapp/functions/api/friends/index.js:46:33)
2025-09-10T19:20:56:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:56:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T19:20:56:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T19:20:56:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T19:20:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:56:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T19:20:56:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T19:20:56:   }
2025-09-10T19:20:56: 
2025-09-10T19:20:56: 
2025-09-10T19:20:56: [wrangler:info] GET /api/leaderboards 200 OK (64ms)
2025-09-10T19:20:56: [wrangler:info] GET /api/leaderboards 200 OK (64ms)
2025-09-10T20:49:57: ✨ Compiled Worker successfully
2025-09-10T20:49:57: ✨ Compiled Worker successfully
2025-09-10T20:49:58: ⎔ Reloading local server...
2025-09-10T20:49:58: ⎔ Reloading local server...
2025-09-10T20:50:22: ✨ Compiled Worker successfully
2025-09-10T20:50:22: ✨ Compiled Worker successfully
2025-09-10T20:50:22: ⎔ Reloading local server...
2025-09-10T20:50:22: ⎔ Reloading local server...
2025-09-10T20:50:54: ✨ Compiled Worker successfully
2025-09-10T20:50:54: ✨ Compiled Worker successfully
2025-09-10T20:50:54: ⎔ Reloading local server...
2025-09-10T20:50:54: ⎔ Reloading local server...
2025-09-10T20:51:12: ✨ Compiled Worker successfully
2025-09-10T20:51:12: ✨ Compiled Worker successfully
2025-09-10T20:51:12: ⎔ Reloading local server...
2025-09-10T20:51:12: ⎔ Reloading local server...
2025-09-10T20:54:32: [wrangler:info] GET /api/challenges/setup-database 200 OK (86ms)
2025-09-10T20:54:32: [wrangler:info] GET /api/challenges/setup-database 200 OK (86ms)
2025-09-10T20:55:30: [wrangler:info] GET / 200 OK (42ms)
2025-09-10T20:55:30: [wrangler:info] GET / 200 OK (42ms)
2025-09-10T20:55:30: [wrangler:info] GET /app.js 200 OK (43ms)
2025-09-10T20:55:30: [wrangler:info] GET /app.js 200 OK (43ms)
2025-09-10T20:55:31: [wrangler:info] GET /favicon.ico 200 OK (22ms)
2025-09-10T20:55:31: [wrangler:info] GET /favicon.ico 200 OK (22ms)
2025-09-10T20:56:12: [wrangler:info] POST /api/register 405 Method Not Allowed (19ms)
2025-09-10T20:56:12: [wrangler:info] POST /api/register 405 Method Not Allowed (19ms)
2025-09-10T20:56:16: [wrangler:info] POST /api/login 405 Method Not Allowed (14ms)
2025-09-10T20:56:16: [wrangler:info] POST /api/login 405 Method Not Allowed (14ms)
2025-09-10T20:56:21: [wrangler:info] GET /api/challenges 401 Unauthorized (9ms)
2025-09-10T20:56:21: [wrangler:info] GET /api/challenges 401 Unauthorized (9ms)
2025-09-10T21:42:15: [wrangler:info] GET / 200 OK (36ms)
2025-09-10T21:42:15: [wrangler:info] GET / 200 OK (36ms)
2025-09-10T21:42:15: [wrangler:info] GET /app.js 200 OK (19ms)
2025-09-10T21:42:15: [wrangler:info] GET /app.js 200 OK (19ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/media/enhanced 200 OK (62ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/media/enhanced 200 OK (62ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/achievements 200 OK (123ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/achievements 200 OK (123ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/admin/users 200 OK (119ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/admin/users 200 OK (119ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/habits/weekly 200 OK (29ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/habits/weekly 200 OK (29ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/admin/media 200 OK (33ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/admin/media 200 OK (33ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/admin/users 200 OK (18ms)
2025-09-10T21:42:16: [wrangler:info] GET /api/admin/users 200 OK (18ms)
2025-09-10T21:42:17: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T21:42:17: [wrangler:info] GET /api/habits/weekly 200 OK (19ms)
2025-09-10T21:42:19: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-10T21:42:19: [wrangler:info] GET /api/habits/weekly 200 OK (21ms)
2025-09-10T21:42:22: [wrangler:info] GET /api/media/enhanced 200 OK (25ms)
2025-09-10T21:42:22: [wrangler:info] GET /api/media/enhanced 200 OK (25ms)
2025-09-10T21:42:23: [wrangler:info] GET /api/nutrition 200 OK (23ms)
2025-09-10T21:42:23: [wrangler:info] GET /api/nutrition 200 OK (23ms)
2025-09-10T21:43:43: [wrangler:info] GET /api/goals 200 OK (19ms)
2025-09-10T21:43:43: [wrangler:info] GET /api/goals 200 OK (19ms)
2025-09-10T21:43:46: [wrangler:info] GET /api/achievements 200 OK (26ms)
2025-09-10T21:43:46: [wrangler:info] GET /api/achievements 200 OK (26ms)
2025-09-10T21:43:49: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mGet challenges error: Error: D1_ERROR: no such column: username at offset 18: SQLITE_ERROR[0m
2025-09-10T21:43:49: 
2025-09-10T21:43:49:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:43:49:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:43:49:       ... 7 lines matching cause stack trace ...
2025-09-10T21:43:49:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:43:49:     [cause]: Error: no such column: username at offset 18: SQLITE_ERROR
2025-09-10T21:43:49:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:43:49:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:43:49:         at async getUserFromSession (file:///home/user/webapp/functions/api/challenges/index.js:10:20)
2025-09-10T21:43:49:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/index.js:23:22)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:43:49:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:43:49:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:43:49:   }
2025-09-10T21:43:49: 
2025-09-10T21:43:49: 
2025-09-10T21:43:49: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mGet challenges error: Error: D1_ERROR: no such column: username at offset 18: SQLITE_ERROR[0m
2025-09-10T21:43:49: 
2025-09-10T21:43:49:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:43:49:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:43:49:       ... 7 lines matching cause stack trace ...
2025-09-10T21:43:49:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:43:49:     [cause]: Error: no such column: username at offset 18: SQLITE_ERROR
2025-09-10T21:43:49:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:43:49:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:43:49:         at async getUserFromSession (file:///home/user/webapp/functions/api/challenges/index.js:10:20)
2025-09-10T21:43:49:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/index.js:23:22)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:43:49:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:43:49:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:43:49:   }
2025-09-10T21:43:49: 
2025-09-10T21:43:49: 
2025-09-10T21:43:49: [wrangler:info] GET /api/challenges 500 Internal Server Error (45ms)
2025-09-10T21:43:49: [wrangler:info] GET /api/challenges 500 Internal Server Error (45ms)
2025-09-10T21:43:49: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFriends list error: Error: D1_ERROR: no such table: friend_requests: SQLITE_ERROR[0m
2025-09-10T21:43:49: 
2025-09-10T21:43:49:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:43:49:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:43:49:       ... 7 lines matching cause stack trace ...
2025-09-10T21:43:49:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:43:49:     [cause]: Error: no such table: friend_requests: SQLITE_ERROR
2025-09-10T21:43:49:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:43:49:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:43:49:         at async onRequestGet (file:///home/user/webapp/functions/api/friends/index.js:46:33)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:43:49:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:43:49:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:43:49:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:43:49:   }
2025-09-10T21:43:49: 
2025-09-10T21:43:49: 
2025-09-10T21:43:49: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFriends list error: Error: D1_ERROR: no such table: friend_requests: SQLITE_ERROR[0m
2025-09-10T21:43:49: 
2025-09-10T21:43:49:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:43:49:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:43:49:       ... 7 lines matching cause stack trace ...
2025-09-10T21:43:49:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:43:49:     [cause]: Error: no such table: friend_requests: SQLITE_ERROR
2025-09-10T21:43:49:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:43:49:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:43:49:         at async onRequestGet (file:///home/user/webapp/functions/api/friends/index.js:46:33)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:43:49:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:43:49:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:43:49:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:43:49:   }
2025-09-10T21:43:49: 
2025-09-10T21:43:49: 
2025-09-10T21:43:49: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mGet invitations error: Error: D1_ERROR: no such column: username at offset 18: SQLITE_ERROR[0m
2025-09-10T21:43:49: 
2025-09-10T21:43:49:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:43:49:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:43:49:       ... 7 lines matching cause stack trace ...
2025-09-10T21:43:49:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:43:49:     [cause]: Error: no such column: username at offset 18: SQLITE_ERROR
2025-09-10T21:43:49:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:43:49:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:43:49:         at async getUserFromSession (file:///home/user/webapp/functions/api/challenges/invitations.js:5:20)
2025-09-10T21:43:49:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/invitations.js:18:22)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:43:49:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:43:49:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:43:49:   }
2025-09-10T21:43:49: 
2025-09-10T21:43:49: 
2025-09-10T21:43:49: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mGet invitations error: Error: D1_ERROR: no such column: username at offset 18: SQLITE_ERROR[0m
2025-09-10T21:43:49: 
2025-09-10T21:43:49:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:43:49:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:43:49:       ... 7 lines matching cause stack trace ...
2025-09-10T21:43:49:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:43:49:     [cause]: Error: no such column: username at offset 18: SQLITE_ERROR
2025-09-10T21:43:49:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:43:49:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:43:49:         at async getUserFromSession (file:///home/user/webapp/functions/api/challenges/invitations.js:5:20)
2025-09-10T21:43:49:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/invitations.js:18:22)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:43:49:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:43:49:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:43:49:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:43:49:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:43:49:   }
2025-09-10T21:43:49: 
2025-09-10T21:43:49: 
2025-09-10T21:43:49: [wrangler:info] GET /api/friends 500 Internal Server Error (25ms)
2025-09-10T21:43:49: [wrangler:info] GET /api/friends 500 Internal Server Error (25ms)
2025-09-10T21:43:49: [wrangler:info] GET /api/challenges/invitations 500 Internal Server Error (44ms)
2025-09-10T21:43:49: [wrangler:info] GET /api/challenges/invitations 500 Internal Server Error (44ms)
2025-09-10T21:43:49: [wrangler:info] GET /api/leaderboards 200 OK (62ms)
2025-09-10T21:43:49: [wrangler:info] GET /api/leaderboards 200 OK (62ms)
2025-09-10T21:44:06: [wrangler:info] GET /api/admin/users 200 OK (22ms)
2025-09-10T21:44:06: [wrangler:info] GET /api/admin/users 200 OK (22ms)
2025-09-10T21:44:06: [wrangler:info] GET /api/admin/media 200 OK (34ms)
2025-09-10T21:44:06: [wrangler:info] GET /api/admin/media 200 OK (34ms)
2025-09-10T21:44:06: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-10T21:44:06: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-10T21:48:41: ✨ Compiled Worker successfully
2025-09-10T21:48:41: ✨ Compiled Worker successfully
2025-09-10T21:48:41: ⎔ Reloading local server...
2025-09-10T21:48:41: ⎔ Reloading local server...
2025-09-10T21:48:54: ✨ Compiled Worker successfully
2025-09-10T21:48:54: ✨ Compiled Worker successfully
2025-09-10T21:48:54: ⎔ Reloading local server...
2025-09-10T21:48:54: ⎔ Reloading local server...
2025-09-10T21:49:01: ✨ Compiled Worker successfully
2025-09-10T21:49:01: ✨ Compiled Worker successfully
2025-09-10T21:49:01: ⎔ Reloading local server...
2025-09-10T21:49:01: ⎔ Reloading local server...
2025-09-10T21:49:10: ✨ Compiled Worker successfully
2025-09-10T21:49:10: ✨ Compiled Worker successfully
2025-09-10T21:49:10: ⎔ Reloading local server...
2025-09-10T21:49:10: ⎔ Reloading local server...
2025-09-10T21:49:20: ✨ Compiled Worker successfully
2025-09-10T21:49:20: ✨ Compiled Worker successfully
2025-09-10T21:49:20: ⎔ Reloading local server...
2025-09-10T21:49:20: ⎔ Reloading local server...
2025-09-10T21:49:30: ✨ Compiled Worker successfully
2025-09-10T21:49:30: ✨ Compiled Worker successfully
2025-09-10T21:49:31: ⎔ Reloading local server...
2025-09-10T21:49:31: ⎔ Reloading local server...
2025-09-10T21:51:28: [wrangler:info] POST /api/register 405 Method Not Allowed (54ms)
2025-09-10T21:51:28: [wrangler:info] POST /api/register 405 Method Not Allowed (54ms)
2025-09-10T21:51:32: [wrangler:info] POST /api/login 405 Method Not Allowed (19ms)
2025-09-10T21:51:32: [wrangler:info] POST /api/login 405 Method Not Allowed (19ms)
2025-09-10T21:51:37: [wrangler:info] POST /api/auth/login 200 OK (484ms)
2025-09-10T21:51:37: [wrangler:info] POST /api/auth/login 200 OK (484ms)
2025-09-10T21:51:43: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin get users error: Error: D1_ERROR: no such column: session_id at offset 40: SQLITE_ERROR[0m
2025-09-10T21:51:43: 
2025-09-10T21:51:43:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:51:43:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:51:43:       ... 7 lines matching cause stack trace ...
2025-09-10T21:51:43:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:51:43:     [cause]: Error: no such column: session_id at offset 40: SQLITE_ERROR
2025-09-10T21:51:43:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:51:43:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:51:43:         at async getUserFromSession (file:///home/user/webapp/functions/api/admin/users.js:5:20)
2025-09-10T21:51:43:         at async onRequestGet (file:///home/user/webapp/functions/api/admin/users.js:23:22)
2025-09-10T21:51:43:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:51:43:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:51:43:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:51:43:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:51:43:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:51:43:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:51:43:   }
2025-09-10T21:51:43: 
2025-09-10T21:51:43: 
2025-09-10T21:51:43: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin get users error: Error: D1_ERROR: no such column: session_id at offset 40: SQLITE_ERROR[0m
2025-09-10T21:51:43: 
2025-09-10T21:51:43:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:51:43:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:51:43:       ... 7 lines matching cause stack trace ...
2025-09-10T21:51:43:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:51:43:     [cause]: Error: no such column: session_id at offset 40: SQLITE_ERROR
2025-09-10T21:51:43:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:51:43:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:51:43:         at async getUserFromSession (file:///home/user/webapp/functions/api/admin/users.js:5:20)
2025-09-10T21:51:43:         at async onRequestGet (file:///home/user/webapp/functions/api/admin/users.js:23:22)
2025-09-10T21:51:43:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:51:43:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:51:43:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:51:43:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:51:43:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:51:43:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:51:43:   }
2025-09-10T21:51:43: 
2025-09-10T21:51:43: 
2025-09-10T21:51:43: [wrangler:info] GET /api/admin/users 500 Internal Server Error (134ms)
2025-09-10T21:51:43: [wrangler:info] GET /api/admin/users 500 Internal Server Error (134ms)
2025-09-10T21:51:47: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin get users error: Error: D1_ERROR: no such column: session_id at offset 40: SQLITE_ERROR[0m
2025-09-10T21:51:47: 
2025-09-10T21:51:47:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:51:47:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:51:47:       ... 7 lines matching cause stack trace ...
2025-09-10T21:51:47:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:51:47:     [cause]: Error: no such column: session_id at offset 40: SQLITE_ERROR
2025-09-10T21:51:47:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:51:47:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:51:47:         at async getUserFromSession (file:///home/user/webapp/functions/api/admin/users.js:5:20)
2025-09-10T21:51:47:         at async onRequestGet (file:///home/user/webapp/functions/api/admin/users.js:23:22)
2025-09-10T21:51:47:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:51:47:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:51:47:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:51:47:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:51:47:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:51:47:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:51:47:   }
2025-09-10T21:51:47: 
2025-09-10T21:51:47: 
2025-09-10T21:51:47: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin get users error: Error: D1_ERROR: no such column: session_id at offset 40: SQLITE_ERROR[0m
2025-09-10T21:51:47: 
2025-09-10T21:51:47:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:51:47:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:51:47:       ... 7 lines matching cause stack trace ...
2025-09-10T21:51:47:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:51:47:     [cause]: Error: no such column: session_id at offset 40: SQLITE_ERROR
2025-09-10T21:51:47:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:51:47:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:51:47:         at async getUserFromSession (file:///home/user/webapp/functions/api/admin/users.js:5:20)
2025-09-10T21:51:47:         at async onRequestGet (file:///home/user/webapp/functions/api/admin/users.js:23:22)
2025-09-10T21:51:47:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:51:47:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:51:47:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:51:47:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:51:47:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:51:47:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:51:47:   }
2025-09-10T21:51:47: 
2025-09-10T21:51:47: 
2025-09-10T21:51:47: [wrangler:info] GET /api/admin/users 500 Internal Server Error (19ms)
2025-09-10T21:51:47: [wrangler:info] GET /api/admin/users 500 Internal Server Error (19ms)
2025-09-10T21:51:52: [wrangler:info] GET /api/admin/users 403 Forbidden (19ms)
2025-09-10T21:51:52: [wrangler:info] GET /api/admin/users 403 Forbidden (19ms)
2025-09-10T21:52:03: ✨ Compiled Worker successfully
2025-09-10T21:52:03: ✨ Compiled Worker successfully
2025-09-10T21:52:03: ⎔ Reloading local server...
2025-09-10T21:52:03: ⎔ Reloading local server...
2025-09-10T21:52:11: ✨ Compiled Worker successfully
2025-09-10T21:52:11: ✨ Compiled Worker successfully
2025-09-10T21:52:11: ⎔ Reloading local server...
2025-09-10T21:52:11: ⎔ Reloading local server...
2025-09-10T21:52:16: [wrangler:info] GET /api/admin/users 500 Internal Server Error (59ms)
2025-09-10T21:52:16: [wrangler:info] GET /api/admin/users 500 Internal Server Error (59ms)
2025-09-10T21:52:16: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin get users error: Error: D1_ERROR: no such column: session_id at offset 40: SQLITE_ERROR[0m
2025-09-10T21:52:16: 
2025-09-10T21:52:16:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:52:16:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:52:16:       ... 7 lines matching cause stack trace ...
2025-09-10T21:52:16:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:52:16:     [cause]: Error: no such column: session_id at offset 40: SQLITE_ERROR
2025-09-10T21:52:16:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:52:16:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:52:16:         at async getUserFromSession (file:///home/user/webapp/functions/api/admin/users.js:5:20)
2025-09-10T21:52:16:         at async onRequestGet (file:///home/user/webapp/functions/api/admin/users.js:24:22)
2025-09-10T21:52:16:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:52:16:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:52:16:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:52:16:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:52:16:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:52:16:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:52:16:   }
2025-09-10T21:52:16: 
2025-09-10T21:52:16: 
2025-09-10T21:52:16: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin get users error: Error: D1_ERROR: no such column: session_id at offset 40: SQLITE_ERROR[0m
2025-09-10T21:52:16: 
2025-09-10T21:52:16:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:52:16:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:52:16:       ... 7 lines matching cause stack trace ...
2025-09-10T21:52:16:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:52:16:     [cause]: Error: no such column: session_id at offset 40: SQLITE_ERROR
2025-09-10T21:52:16:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:52:16:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:52:16:         at async getUserFromSession (file:///home/user/webapp/functions/api/admin/users.js:5:20)
2025-09-10T21:52:16:         at async onRequestGet (file:///home/user/webapp/functions/api/admin/users.js:24:22)
2025-09-10T21:52:16:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:52:16:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:52:16:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:52:16:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:52:16:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:52:16:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:52:16:   }
2025-09-10T21:52:16: 
2025-09-10T21:52:16: 
2025-09-10T21:52:28: [wrangler:info] GET /api/debug/schema 200 OK (41ms)
2025-09-10T21:52:28: [wrangler:info] GET /api/debug/schema 200 OK (41ms)
2025-09-10T21:52:39: ✨ Compiled Worker successfully
2025-09-10T21:52:39: ✨ Compiled Worker successfully
2025-09-10T21:52:39: ✨ Compiled Worker successfully
2025-09-10T21:52:39: ✨ Compiled Worker successfully
2025-09-10T21:52:39: ⎔ Reloading local server...
2025-09-10T21:52:39: ⎔ Reloading local server...
2025-09-10T21:52:39: ⎔ Reloading local server...
2025-09-10T21:52:39: ⎔ Reloading local server...
2025-09-10T21:52:45: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin get users error: Error: D1_ERROR: no such column: session_id at offset 40: SQLITE_ERROR[0m
2025-09-10T21:52:45: 
2025-09-10T21:52:45:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:52:45:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:52:45:       ... 7 lines matching cause stack trace ...
2025-09-10T21:52:45:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:52:45:     [cause]: Error: no such column: session_id at offset 40: SQLITE_ERROR
2025-09-10T21:52:45:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:52:45:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:52:45:         at async getUserFromSession (file:///home/user/webapp/functions/api/admin/users.js:5:20)
2025-09-10T21:52:45:         at async onRequestGet (file:///home/user/webapp/functions/api/admin/users.js:24:22)
2025-09-10T21:52:45:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:52:45:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:52:45:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:52:45:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:52:45:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:52:45:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:52:45:   }
2025-09-10T21:52:45: 
2025-09-10T21:52:45: 
2025-09-10T21:52:45: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin get users error: Error: D1_ERROR: no such column: session_id at offset 40: SQLITE_ERROR[0m
2025-09-10T21:52:45: 
2025-09-10T21:52:45:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:52:45:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:52:45:       ... 7 lines matching cause stack trace ...
2025-09-10T21:52:45:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:52:45:     [cause]: Error: no such column: session_id at offset 40: SQLITE_ERROR
2025-09-10T21:52:45:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:52:45:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:52:45:         at async getUserFromSession (file:///home/user/webapp/functions/api/admin/users.js:5:20)
2025-09-10T21:52:45:         at async onRequestGet (file:///home/user/webapp/functions/api/admin/users.js:24:22)
2025-09-10T21:52:45:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:52:45:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:52:45:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:52:45:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:52:45:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:52:45:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:52:45:   }
2025-09-10T21:52:45: 
2025-09-10T21:52:45: 
2025-09-10T21:52:45: [wrangler:info] GET /api/admin/users 500 Internal Server Error (70ms)
2025-09-10T21:52:45: [wrangler:info] GET /api/admin/users 500 Internal Server Error (70ms)
2025-09-10T21:53:04: ✨ Compiled Worker successfully
2025-09-10T21:53:04: ✨ Compiled Worker successfully
2025-09-10T21:53:04: ⎔ Reloading local server...
2025-09-10T21:53:04: ⎔ Reloading local server...
2025-09-10T21:53:12: ✨ Compiled Worker successfully
2025-09-10T21:53:12: ✨ Compiled Worker successfully
2025-09-10T21:53:12: ⎔ Reloading local server...
2025-09-10T21:53:12: ⎔ Reloading local server...
2025-09-10T21:53:18: ✨ Compiled Worker successfully
2025-09-10T21:53:18: ✨ Compiled Worker successfully
2025-09-10T21:53:18: ⎔ Reloading local server...
2025-09-10T21:53:18: ⎔ Reloading local server...
2025-09-10T21:53:24: ✨ Compiled Worker successfully
2025-09-10T21:53:24: ✨ Compiled Worker successfully
2025-09-10T21:53:25: ⎔ Reloading local server...
2025-09-10T21:53:25: ⎔ Reloading local server...
2025-09-10T21:53:30: ✨ Compiled Worker successfully
2025-09-10T21:53:30: ✨ Compiled Worker successfully
2025-09-10T21:53:30: ⎔ Reloading local server...
2025-09-10T21:53:30: ⎔ Reloading local server...
2025-09-10T21:53:36: ✨ Compiled Worker successfully
2025-09-10T21:53:36: ✨ Compiled Worker successfully
2025-09-10T21:53:36: ⎔ Reloading local server...
2025-09-10T21:53:36: ⎔ Reloading local server...
2025-09-10T21:53:42: ✨ Compiled Worker successfully
2025-09-10T21:53:42: ✨ Compiled Worker successfully
2025-09-10T21:53:43: ⎔ Reloading local server...
2025-09-10T21:53:43: ⎔ Reloading local server...
2025-09-10T21:53:50: isAdmin check: {
2025-09-10T21:53:50:   user: {
2025-09-10T21:53:50:     id: 'user_69e9ce5c-fd95-4965-a81a-86daefa014f2',
2025-09-10T21:53:50:     email: 'iamhollywoodpro@protonmail.com',
2025-09-10T21:53:50:     role: 'admin',
2025-09-10T21:53:50:     points: 187
2025-09-10T21:53:50:   },
2025-09-10T21:53:50:   hasUser: true,
2025-09-10T21:53:50:   role: 'admin',
2025-09-10T21:53:50:   email: 'iamhollywoodpro@protonmail.com'
2025-09-10T21:53:50: }
2025-09-10T21:53:50: Admin access granted, fetching users...
2025-09-10T21:53:50: Users query result: {
2025-09-10T21:53:50:   success: true,
2025-09-10T21:53:50:   meta: {
2025-09-10T21:53:50:     served_by: 'miniflare.db',
2025-09-10T21:53:50:     duration: 3,
2025-09-10T21:53:50:     changes: 0,
2025-09-10T21:53:50:     last_row_id: 0,
2025-09-10T21:53:50:     changed_db: false,
2025-09-10T21:53:50:     size_after: 323584,
2025-09-10T21:53:50:     rows_read: 35,
2025-09-10T21:53:50:     rows_written: 0
2025-09-10T21:53:50:   },
2025-09-10T21:53:50:   results: [
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'user-hollywood-pro',
2025-09-10T21:53:50:       email: 'iamhollywoodpro@protonmail.co',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 21:20:28',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'user_69e9ce5c-fd95-4965-a81a-86daefa014f2',
2025-09-10T21:53:50:       email: 'iamhollywoodpro@protonmail.com',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 187,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:15:04',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'user_69e9ce5c-fd95-4965-a81a-86daefa014f2',
2025-09-10T21:53:50:       email: 'iamhollywoodpro@protonmail.com',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 187,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:15:04',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'admin-user-1',
2025-09-10T21:53:50:       email: 'admin@example.com',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:44',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'admin-user-1',
2025-09-10T21:53:50:       email: 'admin@example.com',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:44',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'admin-user-1',
2025-09-10T21:53:50:       email: 'admin@example.com',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:44',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     }
2025-09-10T21:53:50:   ]
2025-09-10T21:53:50: }
2025-09-10T21:53:50: isAdmin check: {
2025-09-10T21:53:50:   user: {
2025-09-10T21:53:50:     id: 'user_69e9ce5c-fd95-4965-a81a-86daefa014f2',
2025-09-10T21:53:50:     email: 'iamhollywoodpro@protonmail.com',
2025-09-10T21:53:50:     role: 'admin',
2025-09-10T21:53:50:     points: 187
2025-09-10T21:53:50:   },
2025-09-10T21:53:50:   hasUser: true,
2025-09-10T21:53:50:   role: 'admin',
2025-09-10T21:53:50:   email: 'iamhollywoodpro@protonmail.com'
2025-09-10T21:53:50: }
2025-09-10T21:53:50: Admin access granted, fetching users...
2025-09-10T21:53:50: Users query result: {
2025-09-10T21:53:50:   success: true,
2025-09-10T21:53:50:   meta: {
2025-09-10T21:53:50:     served_by: 'miniflare.db',
2025-09-10T21:53:50:     duration: 3,
2025-09-10T21:53:50:     changes: 0,
2025-09-10T21:53:50:     last_row_id: 0,
2025-09-10T21:53:50:     changed_db: false,
2025-09-10T21:53:50:     size_after: 323584,
2025-09-10T21:53:50:     rows_read: 35,
2025-09-10T21:53:50:     rows_written: 0
2025-09-10T21:53:50:   },
2025-09-10T21:53:50:   results: [
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'user-hollywood-pro',
2025-09-10T21:53:50:       email: 'iamhollywoodpro@protonmail.co',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 21:20:28',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'user_69e9ce5c-fd95-4965-a81a-86daefa014f2',
2025-09-10T21:53:50:       email: 'iamhollywoodpro@protonmail.com',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 187,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:15:04',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'user_69e9ce5c-fd95-4965-a81a-86daefa014f2',
2025-09-10T21:53:50:       email: 'iamhollywoodpro@protonmail.com',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 187,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:15:04',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'admin-user-1',
2025-09-10T21:53:50:       email: 'admin@example.com',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:44',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'admin-user-1',
2025-09-10T21:53:50:       email: 'admin@example.com',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:44',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'admin-user-1',
2025-09-10T21:53:50:       email: 'admin@example.com',
2025-09-10T21:53:50:       role: 'admin',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:44',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     },
2025-09-10T21:53:50:     {
2025-09-10T21:53:50:       id: 'test-user-1',
2025-09-10T21:53:50:       email: 'test@example.com',
2025-09-10T21:53:50:       role: 'user',
2025-09-10T21:53:50:       points: 0,
2025-09-10T21:53:50:       created_at: '2025-09-09 00:14:25',
2025-09-10T21:53:50:       status: 'online'
2025-09-10T21:53:50:     }
2025-09-10T21:53:50:   ]
2025-09-10T21:53:50: }
2025-09-10T21:53:50: [wrangler:info] GET /api/admin/users 200 OK (81ms)
2025-09-10T21:53:50: [wrangler:info] GET /api/admin/users 200 OK (81ms)
2025-09-10T21:53:59: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin get media error: Error: D1_ERROR: no such column: u.username at offset 96: SQLITE_ERROR[0m
2025-09-10T21:53:59: 
2025-09-10T21:53:59:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:53:59:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:53:59:       ... 7 lines matching cause stack trace ...
2025-09-10T21:53:59:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:53:59:     [cause]: Error: no such column: u.username at offset 96: SQLITE_ERROR
2025-09-10T21:53:59:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:53:59:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:53:59:         at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:42:23)
2025-09-10T21:53:59:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:53:59:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:53:59:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:53:59:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:53:59:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:53:59:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:53:59:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:53:59:   }
2025-09-10T21:53:59: 
2025-09-10T21:53:59: 
2025-09-10T21:53:59: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin get media error: Error: D1_ERROR: no such column: u.username at offset 96: SQLITE_ERROR[0m
2025-09-10T21:53:59: 
2025-09-10T21:53:59:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:53:59:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:53:59:       ... 7 lines matching cause stack trace ...
2025-09-10T21:53:59:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:53:59:     [cause]: Error: no such column: u.username at offset 96: SQLITE_ERROR
2025-09-10T21:53:59:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:53:59:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:53:59:         at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:42:23)
2025-09-10T21:53:59:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:53:59:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:53:59:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:53:59:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:53:59:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:53:59:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:53:59:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:53:59:   }
2025-09-10T21:53:59: 
2025-09-10T21:53:59: 
2025-09-10T21:53:59: [wrangler:info] GET /api/admin/media 500 Internal Server Error (20ms)
2025-09-10T21:53:59: [wrangler:info] GET /api/admin/media 500 Internal Server Error (20ms)
2025-09-10T21:54:05: isAdmin check: { user: null, hasUser: false, role: undefined, email: undefined }
2025-09-10T21:54:05: isAdmin check: { user: null, hasUser: false, role: undefined, email: undefined }
2025-09-10T21:54:05: [wrangler:info] GET /api/admin/users 403 Forbidden (13ms)
2025-09-10T21:54:05: [wrangler:info] GET /api/admin/users 403 Forbidden (13ms)
2025-09-10T21:54:13: ✨ Compiled Worker successfully
2025-09-10T21:54:13: ✨ Compiled Worker successfully
2025-09-10T21:54:13: ⎔ Reloading local server...
2025-09-10T21:54:13: ⎔ Reloading local server...
2025-09-10T21:54:18: ✨ Compiled Worker successfully
2025-09-10T21:54:18: ✨ Compiled Worker successfully
2025-09-10T21:54:18: ⎔ Reloading local server...
2025-09-10T21:54:18: ⎔ Reloading local server...
2025-09-10T21:54:24: ✨ Compiled Worker successfully
2025-09-10T21:54:24: ✨ Compiled Worker successfully
2025-09-10T21:54:24: ⎔ Reloading local server...
2025-09-10T21:54:24: ⎔ Reloading local server...
2025-09-10T21:54:31: ✨ Compiled Worker successfully
2025-09-10T21:54:31: ✨ Compiled Worker successfully
2025-09-10T21:54:32: ⎔ Reloading local server...
2025-09-10T21:54:32: ⎔ Reloading local server...
2025-09-10T21:54:37: [wrangler:info] GET /api/admin/users 200 OK (49ms)
2025-09-10T21:54:37: [wrangler:info] GET /api/admin/users 200 OK (49ms)
2025-09-10T21:54:42: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:54:42:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:54:42:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:54:42:     ... 7 lines matching cause stack trace ...
2025-09-10T21:54:42:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:54:42:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:54:42:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:54:42:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:54:42:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T21:54:42:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:54:42:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:54:42:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:54:42:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:54:42:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:54:42:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:54:42:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:54:42: }
2025-09-10T21:54:42: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:54:42:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:54:42:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:54:42:     ... 7 lines matching cause stack trace ...
2025-09-10T21:54:42:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:54:42:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:54:42:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:54:42:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:54:42:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T21:54:42:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:54:42:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:54:42:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:54:42:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:54:42:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:54:42:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:54:42:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:54:42: }
2025-09-10T21:54:42: [wrangler:info] GET /api/admin/media 200 OK (40ms)
2025-09-10T21:54:42: [wrangler:info] GET /api/admin/media 200 OK (40ms)
2025-09-10T21:54:56: [wrangler:info] GET /api/nutrition 200 OK (43ms)
2025-09-10T21:54:56: [wrangler:info] GET /api/nutrition 200 OK (43ms)
2025-09-10T21:54:58: [wrangler:info] GET /api/media/enhanced 200 OK (29ms)
2025-09-10T21:54:58: [wrangler:info] GET /api/media/enhanced 200 OK (29ms)
2025-09-10T21:55:07: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-10T21:55:07: [wrangler:info] GET /api/habits/weekly 200 OK (24ms)
2025-09-10T21:55:08: [wrangler:info] POST /api/habits/weekly 200 OK (32ms)
2025-09-10T21:55:08: [wrangler:info] POST /api/habits/weekly 200 OK (32ms)
2025-09-10T21:55:09: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T21:55:09: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T21:55:09: [wrangler:info] GET /api/habits/weekly 200 OK (25ms)
2025-09-10T21:55:09: [wrangler:info] GET /api/habits/weekly 200 OK (25ms)
2025-09-10T21:55:10: [wrangler:info] POST /api/habits/weekly 200 OK (37ms)
2025-09-10T21:55:10: [wrangler:info] POST /api/habits/weekly 200 OK (37ms)
2025-09-10T21:55:10: [wrangler:info] GET /api/habits/weekly 200 OK (25ms)
2025-09-10T21:55:10: [wrangler:info] GET /api/habits/weekly 200 OK (25ms)
2025-09-10T21:55:10: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T21:55:10: 
2025-09-10T21:55:10:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:55:10:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:55:10:       ... 7 lines matching cause stack trace ...
2025-09-10T21:55:10:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:55:10:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T21:55:10:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:55:10:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:55:10:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T21:55:10:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:55:10:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:55:10:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:55:10:   }
2025-09-10T21:55:10:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T21:55:10:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:55:10:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:       ... 7 lines matching cause stack trace ...
2025-09-10T21:55:10:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:55:10:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T21:55:10:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:55:10:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T21:55:10:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:55:10:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:55:10:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:55:10:   }
2025-09-10T21:55:10: 
2025-09-10T21:55:10: 
2025-09-10T21:55:10: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T21:55:10: 
2025-09-10T21:55:10:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:55:10:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:55:10:       ... 7 lines matching cause stack trace ...
2025-09-10T21:55:10:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:55:10:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T21:55:10:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:55:10:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T21:55:10:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T21:55:10:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:37:33)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:55:10:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:55:10:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:55:10:   }
2025-09-10T21:55:10:   Daily challenge progress error: Error: D1_ERROR: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T21:55:10:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:55:10:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:       ... 7 lines matching cause stack trace ...
2025-09-10T21:55:10:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:55:10:     [cause]: Error: no such column: dc.requirement_type at offset 89: SQLITE_ERROR
2025-09-10T21:55:10:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:55:10:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:         at async updateDailyChallengeProgress (file:///home/user/webapp/functions/utils/streaks.js:97:28)
2025-09-10T21:55:10:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:43:13)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:55:10:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:55:10:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:55:10:   }
2025-09-10T21:55:10: 
2025-09-10T21:55:10: 
2025-09-10T21:55:10: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T21:55:10: 
2025-09-10T21:55:10:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:55:10:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:       ... 7 lines matching cause stack trace ...
2025-09-10T21:55:10:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:55:10:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T21:55:10:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:55:10:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T21:55:10:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:55:10:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:55:10:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:55:10:   }
2025-09-10T21:55:10:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T21:55:10:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:55:10:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:       ... 7 lines matching cause stack trace ...
2025-09-10T21:55:10:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:55:10:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T21:55:10:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:55:10:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:55:10:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:55:10:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:55:10:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:55:10:   }
2025-09-10T21:55:10: 
2025-09-10T21:55:10: 
2025-09-10T21:55:10: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAchievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR[0m
2025-09-10T21:55:10: 
2025-09-10T21:55:10:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:55:10:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:       ... 7 lines matching cause stack trace ...
2025-09-10T21:55:10:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T21:55:10:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T21:55:10:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:55:10:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T21:55:10:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:55:10:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:55:10:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:55:10:   }
2025-09-10T21:55:10:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T21:55:10:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:55:10:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:       ... 7 lines matching cause stack trace ...
2025-09-10T21:55:10:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:55:10:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T21:55:10:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:55:10:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:55:10:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:55:10:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:55:10:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:55:10:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:55:10:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:55:10:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:55:10:   }
2025-09-10T21:55:10: 
2025-09-10T21:55:10: 
2025-09-10T21:55:10: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (95ms)
2025-09-10T21:55:10: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (95ms)
2025-09-10T21:55:10: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T21:55:10: [wrangler:info] GET /api/habits/weekly 200 OK (23ms)
2025-09-10T21:55:20: [wrangler:info] GET /api/nutrition 200 OK (43ms)
2025-09-10T21:55:20: [wrangler:info] GET /api/nutrition 200 OK (43ms)
2025-09-10T21:56:20: [wrangler:info] GET / 304 Not Modified (21ms)
2025-09-10T21:56:20: [wrangler:info] GET / 304 Not Modified (21ms)
2025-09-10T21:56:20: [wrangler:info] GET /app.js 200 OK (22ms)
2025-09-10T21:56:20: [wrangler:info] GET /app.js 200 OK (22ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/auth/validate-session 200 OK (13ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/habits/weekly 200 OK (44ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/habits/weekly 200 OK (44ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/media/enhanced 200 OK (68ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/media/enhanced 200 OK (68ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/admin/media 200 OK (80ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/admin/media 200 OK (80ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/achievements 200 OK (68ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/achievements 200 OK (68ms)
2025-09-10T21:56:20: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:56:20:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:56:20:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:56:20:     ... 7 lines matching cause stack trace ...
2025-09-10T21:56:20:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:56:20:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:56:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:56:20:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:56:20:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T21:56:20:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:56:20:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:56:20:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:56:20:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:56:20:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:56:20:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:56:20:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:56:20: }
2025-09-10T21:56:20: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:56:20:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:56:20:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:56:20:     ... 7 lines matching cause stack trace ...
2025-09-10T21:56:20:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:56:20:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:56:20:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:56:20:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:56:20:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T21:56:20:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:56:20:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:56:20:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:56:20:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:56:20:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:56:20:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:56:20:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:56:20: }
2025-09-10T21:56:20: [wrangler:info] GET /api/admin/users 200 OK (30ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/admin/users 200 OK (30ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/admin/users 200 OK (18ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/admin/users 200 OK (18ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/habits/weekly 200 OK (45ms)
2025-09-10T21:56:20: [wrangler:info] GET /api/habits/weekly 200 OK (45ms)
2025-09-10T21:56:21: [wrangler:info] GET /api/admin/users 200 OK (25ms)
2025-09-10T21:56:21: [wrangler:info] GET /api/admin/users 200 OK (25ms)
2025-09-10T21:56:21: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:56:21:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:56:21:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:56:21:     ... 7 lines matching cause stack trace ...
2025-09-10T21:56:21:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:56:21:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:56:21:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:56:21:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:56:21:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T21:56:21:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:56:21:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:56:21:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:56:21:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:56:21:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:56:21:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:56:21:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:56:21: }
2025-09-10T21:56:21: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:56:21:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:56:21:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:56:21:     ... 7 lines matching cause stack trace ...
2025-09-10T21:56:21:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:56:21:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T21:56:21:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:56:21:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T21:56:21:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T21:56:21:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:56:21:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:56:21:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:56:21:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:56:21:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:56:21:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:56:21:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:56:21: }
2025-09-10T21:56:21: [wrangler:info] GET /api/admin/media 200 OK (47ms)
2025-09-10T21:56:21: [wrangler:info] GET /api/admin/media 200 OK (47ms)
2025-09-10T21:56:21: [wrangler:info] GET /api/admin/users 200 OK (17ms)
2025-09-10T21:56:21: [wrangler:info] GET /api/admin/users 200 OK (17ms)
2025-09-10T21:57:48: [wrangler:info] GET /api/admin/users 200 OK (20ms)
2025-09-10T21:57:48: [wrangler:info] GET /api/admin/users 200 OK (20ms)
2025-09-10T21:58:08: ✨ Compiled Worker successfully
2025-09-10T21:58:08: ✨ Compiled Worker successfully
2025-09-10T21:58:08: ⎔ Reloading local server...
2025-09-10T21:58:08: ⎔ Reloading local server...
2025-09-10T21:58:15: Starting admin cleanup...
2025-09-10T21:58:15: Found admin users: [
2025-09-10T21:58:15:   'admin@example.com',
2025-09-10T21:58:15:   'iamhollywoodpro@protonmail.com',
2025-09-10T21:58:15:   'iamhollywoodpro@protonmail.co'
2025-09-10T21:58:15: ]
2025-09-10T21:58:15: Removing unauthorized admin: admin@example.com
2025-09-10T21:58:15: Starting admin cleanup...
2025-09-10T21:58:15: Found admin users: [
2025-09-10T21:58:15:   'admin@example.com',
2025-09-10T21:58:15:   'iamhollywoodpro@protonmail.com',
2025-09-10T21:58:15:   'iamhollywoodpro@protonmail.co'
2025-09-10T21:58:15: ]
2025-09-10T21:58:15: Removing unauthorized admin: admin@example.com
2025-09-10T21:58:15: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin cleanup error: Error: D1_ERROR: no such column: friend_user_id at offset 46: SQLITE_ERROR[0m
2025-09-10T21:58:15: 
2025-09-10T21:58:15:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:58:15:       at async D1PreparedStatement.run (cloudflare-internal:d1-api:307:29)
2025-09-10T21:58:15:       ... 7 lines matching cause stack trace ...
2025-09-10T21:58:15:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:58:15:     [cause]: Error: no such column: friend_user_id at offset 46: SQLITE_ERROR
2025-09-10T21:58:15:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:58:15:         at async D1PreparedStatement.run (cloudflare-internal:d1-api:307:29)
2025-09-10T21:58:15:         at async onRequestPost (file:///home/user/webapp/functions/api/admin/cleanup.js:94:21)
2025-09-10T21:58:15:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:58:15:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:58:15:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:58:15:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:58:15:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:58:15:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:58:15:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:58:15:   }
2025-09-10T21:58:15: 
2025-09-10T21:58:15: 
2025-09-10T21:58:15: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mAdmin cleanup error: Error: D1_ERROR: no such column: friend_user_id at offset 46: SQLITE_ERROR[0m
2025-09-10T21:58:15: 
2025-09-10T21:58:15:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T21:58:15:       at async D1PreparedStatement.run (cloudflare-internal:d1-api:307:29)
2025-09-10T21:58:15:       ... 7 lines matching cause stack trace ...
2025-09-10T21:58:15:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T21:58:15:     [cause]: Error: no such column: friend_user_id at offset 46: SQLITE_ERROR
2025-09-10T21:58:15:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T21:58:15:         at async D1PreparedStatement.run (cloudflare-internal:d1-api:307:29)
2025-09-10T21:58:15:         at async onRequestPost (file:///home/user/webapp/functions/api/admin/cleanup.js:94:21)
2025-09-10T21:58:15:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:58:15:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T21:58:15:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T21:58:15:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T21:58:15:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:58:15:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T21:58:15:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T21:58:15:   }
2025-09-10T21:58:15: 
2025-09-10T21:58:15: 
2025-09-10T21:58:15: [wrangler:info] POST /api/admin/cleanup 500 Internal Server Error (104ms)
2025-09-10T21:58:15: [wrangler:info] POST /api/admin/cleanup 500 Internal Server Error (104ms)
2025-09-10T21:58:34: ✨ Compiled Worker successfully
2025-09-10T21:58:34: ✨ Compiled Worker successfully
2025-09-10T21:58:35: ⎔ Reloading local server...
2025-09-10T21:58:35: ⎔ Reloading local server...
2025-09-10T21:58:41: Starting admin cleanup...
2025-09-10T21:58:41: Found admin users: [
2025-09-10T21:58:41:   'admin@example.com',
2025-09-10T21:58:41:   'iamhollywoodpro@protonmail.com',
2025-09-10T21:58:41:   'iamhollywoodpro@protonmail.co'
2025-09-10T21:58:41: ]
2025-09-10T21:58:41: Removing unauthorized admin: admin@example.com
2025-09-10T21:58:41: Starting admin cleanup...
2025-09-10T21:58:41: Found admin users: [
2025-09-10T21:58:41:   'admin@example.com',
2025-09-10T21:58:41:   'iamhollywoodpro@protonmail.com',
2025-09-10T21:58:41:   'iamhollywoodpro@protonmail.co'
2025-09-10T21:58:41: ]
2025-09-10T21:58:41: Removing unauthorized admin: admin@example.com
2025-09-10T21:58:42: Updated password for correct admin user
2025-09-10T21:58:42: Removing unauthorized admin: iamhollywoodpro@protonmail.co
2025-09-10T21:58:42: Updated password for correct admin user
2025-09-10T21:58:42: Removing unauthorized admin: iamhollywoodpro@protonmail.co
2025-09-10T21:58:42: [wrangler:info] POST /api/admin/cleanup 200 OK (627ms)
2025-09-10T21:58:42: [wrangler:info] POST /api/admin/cleanup 200 OK (627ms)
2025-09-10T21:58:47: [wrangler:info] GET /api/admin/users 200 OK (24ms)
2025-09-10T21:58:47: [wrangler:info] GET /api/admin/users 200 OK (24ms)
2025-09-10T21:58:52: [wrangler:info] POST /api/auth/login 200 OK (464ms)
2025-09-10T21:58:52: [wrangler:info] POST /api/auth/login 200 OK (464ms)
2025-09-10T21:58:57: [wrangler:info] GET /api/admin/users 200 OK (23ms)
2025-09-10T21:58:57: [wrangler:info] GET /api/admin/users 200 OK (23ms)
2025-09-10T21:59:01: ✨ Compiled Worker successfully
2025-09-10T21:59:01: ✨ Compiled Worker successfully
2025-09-10T21:59:01: ⎔ Reloading local server...
2025-09-10T21:59:01: ⎔ Reloading local server...
2025-09-10T22:01:57: [wrangler:info] GET / 304 Not Modified (45ms)
2025-09-10T22:01:57: [wrangler:info] GET / 304 Not Modified (45ms)
2025-09-10T22:01:57: [wrangler:info] GET /app.js 304 Not Modified (19ms)
2025-09-10T22:01:57: [wrangler:info] GET /app.js 304 Not Modified (19ms)
2025-09-10T22:01:57: [wrangler:info] GET /api/auth/validate-session 200 OK (18ms)
2025-09-10T22:01:57: [wrangler:info] GET /api/auth/validate-session 200 OK (18ms)
2025-09-10T22:01:57: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T22:01:57: [wrangler:info] GET /api/habits/weekly 200 OK (32ms)
2025-09-10T22:01:58: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:01:58:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:01:58:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:01:58:     ... 7 lines matching cause stack trace ...
2025-09-10T22:01:58:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:01:58:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:01:58:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:01:58:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:01:58:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:01:58:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:01:58:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:01:58:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:01:58:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:01:58:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:01:58:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:01:58:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:01:58: }
2025-09-10T22:01:58: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:01:58:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:01:58:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:01:58:     ... 7 lines matching cause stack trace ...
2025-09-10T22:01:58:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:01:58:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:01:58:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:01:58:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:01:58:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:01:58:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:01:58:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:01:58:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:01:58:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:01:58:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:01:58:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:01:58:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:01:58: }
2025-09-10T22:01:58: [wrangler:info] GET /api/admin/media 200 OK (115ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/admin/media 200 OK (115ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/admin/users 200 OK (117ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/admin/users 200 OK (117ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/media/enhanced 200 OK (141ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/media/enhanced 200 OK (141ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/achievements 200 OK (143ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/achievements 200 OK (143ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/habits/weekly 200 OK (64ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/habits/weekly 200 OK (64ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/admin/users 200 OK (39ms)
2025-09-10T22:01:58: [wrangler:info] GET /api/admin/users 200 OK (39ms)
2025-09-10T22:02:01: [wrangler:info] GET /api/admin/users 200 OK (22ms)
2025-09-10T22:02:01: [wrangler:info] GET /api/admin/users 200 OK (22ms)
2025-09-10T22:02:01: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:02:01:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:02:01:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:02:01:     ... 7 lines matching cause stack trace ...
2025-09-10T22:02:01:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:02:01:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:02:01:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:02:01:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:02:01:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:02:01:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:01:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:02:01:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:01:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:02:01:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:01:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:02:01:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:01: }
2025-09-10T22:02:01: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:02:01:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:02:01:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:02:01:     ... 7 lines matching cause stack trace ...
2025-09-10T22:02:01:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:02:01:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:02:01:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:02:01:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:02:01:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:02:01:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:01:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:02:01:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:01:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:02:01:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:01:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:02:01:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:01: }
2025-09-10T22:02:01: [wrangler:info] GET /api/admin/media 200 OK (31ms)
2025-09-10T22:02:01: [wrangler:info] GET /api/admin/media 200 OK (31ms)
2025-09-10T22:02:01: [wrangler:info] GET /api/admin/users 200 OK (15ms)
2025-09-10T22:02:01: [wrangler:info] GET /api/admin/users 200 OK (15ms)
2025-09-10T22:02:26: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFriends list error: Error: D1_ERROR: no such table: friend_requests: SQLITE_ERROR[0m
2025-09-10T22:02:26: 
2025-09-10T22:02:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:02:26:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:02:26:       ... 7 lines matching cause stack trace ...
2025-09-10T22:02:26:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:02:26:     [cause]: Error: no such table: friend_requests: SQLITE_ERROR
2025-09-10T22:02:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:02:26:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:02:26:         at async onRequestGet (file:///home/user/webapp/functions/api/friends/index.js:46:33)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:02:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:02:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:26:   }
2025-09-10T22:02:26: 
2025-09-10T22:02:26: 
2025-09-10T22:02:26: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mFriends list error: Error: D1_ERROR: no such table: friend_requests: SQLITE_ERROR[0m
2025-09-10T22:02:26: 
2025-09-10T22:02:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:02:26:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:02:26:       ... 7 lines matching cause stack trace ...
2025-09-10T22:02:26:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:02:26:     [cause]: Error: no such table: friend_requests: SQLITE_ERROR
2025-09-10T22:02:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:02:26:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:02:26:         at async onRequestGet (file:///home/user/webapp/functions/api/friends/index.js:46:33)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:02:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:02:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:26:   }
2025-09-10T22:02:26: 
2025-09-10T22:02:26: 
2025-09-10T22:02:26: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mGet challenges error: Error: D1_ERROR: no such column: username at offset 18: SQLITE_ERROR[0m
2025-09-10T22:02:26: 
2025-09-10T22:02:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:02:26:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:02:26:       ... 7 lines matching cause stack trace ...
2025-09-10T22:02:26:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T22:02:26:     [cause]: Error: no such column: username at offset 18: SQLITE_ERROR
2025-09-10T22:02:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:02:26:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:02:26:         at async getUserFromSession (file:///home/user/webapp/functions/api/challenges/index.js:10:20)
2025-09-10T22:02:26:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/index.js:23:22)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:02:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:02:26:   }
2025-09-10T22:02:26:   Get invitations error: Error: D1_ERROR: no such column: username at offset 18: SQLITE_ERROR
2025-09-10T22:02:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:02:26:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:02:26:       ... 7 lines matching cause stack trace ...
2025-09-10T22:02:26:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T22:02:26:     [cause]: Error: no such column: username at offset 18: SQLITE_ERROR
2025-09-10T22:02:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:02:26:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:02:26:         at async getUserFromSession (file:///home/user/webapp/functions/api/challenges/invitations.js:5:20)
2025-09-10T22:02:26:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/invitations.js:18:22)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:02:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:02:26:   }
2025-09-10T22:02:26: 
2025-09-10T22:02:26: 
2025-09-10T22:02:26: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mGet challenges error: Error: D1_ERROR: no such column: username at offset 18: SQLITE_ERROR[0m
2025-09-10T22:02:26: 
2025-09-10T22:02:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:02:26:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:02:26:       ... 7 lines matching cause stack trace ...
2025-09-10T22:02:26:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T22:02:26:     [cause]: Error: no such column: username at offset 18: SQLITE_ERROR
2025-09-10T22:02:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:02:26:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:02:26:         at async getUserFromSession (file:///home/user/webapp/functions/api/challenges/index.js:10:20)
2025-09-10T22:02:26:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/index.js:23:22)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:02:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:02:26:   }
2025-09-10T22:02:26:   Get invitations error: Error: D1_ERROR: no such column: username at offset 18: SQLITE_ERROR
2025-09-10T22:02:26:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:02:26:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:02:26:       ... 7 lines matching cause stack trace ...
2025-09-10T22:02:26:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T22:02:26:     [cause]: Error: no such column: username at offset 18: SQLITE_ERROR
2025-09-10T22:02:26:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:02:26:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:02:26:         at async getUserFromSession (file:///home/user/webapp/functions/api/challenges/invitations.js:5:20)
2025-09-10T22:02:26:         at async onRequestGet (file:///home/user/webapp/functions/api/challenges/invitations.js:18:22)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:02:26:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:02:26:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:02:26:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:02:26:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:02:26:   }
2025-09-10T22:02:26: 
2025-09-10T22:02:26: 
2025-09-10T22:02:26: [wrangler:info] GET /api/friends 500 Internal Server Error (52ms)
2025-09-10T22:02:26: [wrangler:info] GET /api/friends 500 Internal Server Error (52ms)
2025-09-10T22:02:26: [wrangler:info] GET /api/challenges 500 Internal Server Error (71ms)
2025-09-10T22:02:26: [wrangler:info] GET /api/challenges 500 Internal Server Error (71ms)
2025-09-10T22:02:26: [wrangler:info] GET /api/challenges/invitations 500 Internal Server Error (70ms)
2025-09-10T22:02:26: [wrangler:info] GET /api/challenges/invitations 500 Internal Server Error (70ms)
2025-09-10T22:02:26: [wrangler:info] GET /api/leaderboards 200 OK (28ms)
2025-09-10T22:02:26: [wrangler:info] GET /api/leaderboards 200 OK (28ms)
2025-09-10T22:03:37: [wrangler:info] POST /api/auth/logout 200 OK (27ms)
2025-09-10T22:03:37: [wrangler:info] POST /api/auth/logout 200 OK (27ms)
2025-09-10T22:09:25: [wrangler:info] GET / 304 Not Modified (553ms)
2025-09-10T22:09:25: [wrangler:info] GET / 304 Not Modified (553ms)
2025-09-10T22:09:27: [wrangler:info] GET /app.js 304 Not Modified (64ms)
2025-09-10T22:09:27: [wrangler:info] GET /app.js 304 Not Modified (64ms)
2025-09-10T22:09:42: [wrangler:info] POST /api/auth/login 200 OK (731ms)
2025-09-10T22:09:42: [wrangler:info] POST /api/auth/login 200 OK (731ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/habits/weekly 200 OK (93ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/habits/weekly 200 OK (93ms)
2025-09-10T22:09:43: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:43:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:43:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:43:     ... 7 lines matching cause stack trace ...
2025-09-10T22:09:43:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:09:43:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:43:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:43:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:43:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:09:43:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:43:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:43:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:43:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:43:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:43:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:43:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:43: }
2025-09-10T22:09:43: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:43:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:43:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:43:     ... 7 lines matching cause stack trace ...
2025-09-10T22:09:43:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:09:43:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:43:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:43:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:43:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:09:43:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:43:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:43:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:43:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:43:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:43:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:43:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:43: }
2025-09-10T22:09:43: [wrangler:info] GET /api/admin/media 200 OK (143ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/admin/media 200 OK (143ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/admin/users 200 OK (152ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/admin/users 200 OK (152ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/media/enhanced 200 OK (160ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/media/enhanced 200 OK (160ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/achievements 200 OK (164ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/achievements 200 OK (164ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/admin/users 200 OK (87ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/admin/users 200 OK (87ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/habits/weekly 200 OK (28ms)
2025-09-10T22:09:43: [wrangler:info] GET /api/habits/weekly 200 OK (28ms)
2025-09-10T22:09:44: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T22:09:44: 
2025-09-10T22:09:44:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:44:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:09:44:       ... 7 lines matching cause stack trace ...
2025-09-10T22:09:44:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T22:09:44:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T22:09:44:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:44:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:09:44:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T22:09:44:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:32:33)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:44:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:44:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:44:   }
2025-09-10T22:09:44:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T22:09:44:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:44:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:44:       ... 7 lines matching cause stack trace ...
2025-09-10T22:09:44:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T22:09:44:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T22:09:44:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:44:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:44:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T22:09:44:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:44:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:44:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:44:   }
2025-09-10T22:09:44:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T22:09:44:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:44:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:44:       ... 7 lines matching cause stack trace ...
2025-09-10T22:09:44:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:09:44:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T22:09:44:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:44:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:44:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:44:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:44:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:44:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:44:   }
2025-09-10T22:09:44: 
2025-09-10T22:09:44: 
2025-09-10T22:09:44: [31m✘ [41;31m[[41;97mERROR[41;31m][0m [1mStreak update error: Error: D1_ERROR: no such table: user_streaks: SQLITE_ERROR[0m
2025-09-10T22:09:44: 
2025-09-10T22:09:44:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:44:       at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:09:44:       ... 7 lines matching cause stack trace ...
2025-09-10T22:09:44:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T22:09:44:     [cause]: Error: no such table: user_streaks: SQLITE_ERROR
2025-09-10T22:09:44:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:44:         at async D1PreparedStatement.first (cloudflare-internal:d1-api:287:35)
2025-09-10T22:09:44:         at async updateStreak (file:///home/user/webapp/functions/utils/streaks.js:8:31)
2025-09-10T22:09:44:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:32:33)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:44:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:44:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:44:   }
2025-09-10T22:09:44:   Achievement check error: Error: D1_ERROR: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T22:09:44:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:44:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:44:       ... 7 lines matching cause stack trace ...
2025-09-10T22:09:44:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10) {
2025-09-10T22:09:44:     [cause]: Error: no such column: a.is_recurring at offset 170: SQLITE_ERROR
2025-09-10T22:09:44:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:44:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:44:         at async checkAndAwardAchievements (file:///home/user/webapp/functions/utils/achievements.js:10:26)
2025-09-10T22:09:44:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:56:36)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:44:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:44:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:44:   }
2025-09-10T22:09:44:   Achievement check error: Error: D1_ERROR: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T22:09:44:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:44:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:44:       ... 7 lines matching cause stack trace ...
2025-09-10T22:09:44:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:09:44:     [cause]: Error: no such table: user_achievement_progress: SQLITE_ERROR
2025-09-10T22:09:44:         at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:44:         at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:44:         at async onRequestPost (file:///home/user/webapp/functions/api/achievements/check.js:59:31)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:44:         at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:44:         at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:44:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:44:         at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:44:         at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:44:   }
2025-09-10T22:09:44: 
2025-09-10T22:09:44: 
2025-09-10T22:09:44: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (97ms)
2025-09-10T22:09:44: [wrangler:info] POST /api/achievements/check 500 Internal Server Error (97ms)
2025-09-10T22:09:47: [wrangler:info] GET /api/admin/users 200 OK (45ms)
2025-09-10T22:09:47: [wrangler:info] GET /api/admin/users 200 OK (45ms)
2025-09-10T22:09:47: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:47:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:47:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:47:     ... 7 lines matching cause stack trace ...
2025-09-10T22:09:47:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:09:47:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:47:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:47:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:47:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:09:47:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:47:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:47:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:47:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:47:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:47:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:47:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:47: }
2025-09-10T22:09:47: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:47:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:47:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:47:     ... 7 lines matching cause stack trace ...
2025-09-10T22:09:47:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:09:47:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:47:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:47:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:47:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:09:47:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:47:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:47:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:47:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:47:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:47:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:47:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:47: }
2025-09-10T22:09:47: [wrangler:info] GET /api/admin/media 200 OK (75ms)
2025-09-10T22:09:47: [wrangler:info] GET /api/admin/media 200 OK (75ms)
2025-09-10T22:09:47: [wrangler:info] GET /api/admin/users 200 OK (109ms)
2025-09-10T22:09:47: [wrangler:info] GET /api/admin/users 200 OK (109ms)
2025-09-10T22:09:54: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:54:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:54:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:54:     ... 7 lines matching cause stack trace ...
2025-09-10T22:09:54:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:09:54:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:54:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:09:54:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:54:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:54:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:54:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:54:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:54:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:54: }
2025-09-10T22:09:54: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:54:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:54:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:54:     ... 7 lines matching cause stack trace ...
2025-09-10T22:09:54:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:09:54:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:54:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:54:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:54:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:09:54:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:54:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:54:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:54:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:54:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:54:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:54:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:54: }
2025-09-10T22:09:54: [wrangler:info] GET /api/admin/media 200 OK (130ms)
2025-09-10T22:09:54: [wrangler:info] GET /api/admin/media 200 OK (130ms)
2025-09-10T22:09:54: [wrangler:info] GET /api/admin/users 200 OK (88ms)
2025-09-10T22:09:54: [wrangler:info] GET /api/admin/users 200 OK (88ms)
2025-09-10T22:09:54: [wrangler:info] GET /api/admin/users 200 OK (43ms)
2025-09-10T22:09:54: [wrangler:info] GET /api/admin/users 200 OK (43ms)
2025-09-10T22:09:56: [wrangler:info] GET /api/admin/users 200 OK (64ms)
2025-09-10T22:09:56: [wrangler:info] GET /api/admin/users 200 OK (64ms)
2025-09-10T22:09:56: [wrangler:info] GET /api/admin/media 200 OK (65ms)
2025-09-10T22:09:56: [wrangler:info] GET /api/admin/media 200 OK (65ms)
2025-09-10T22:09:56: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:56:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:56:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:56:     ... 7 lines matching cause stack trace ...
2025-09-10T22:09:56:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:09:56:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:56:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:56:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:56:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:09:56:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:56:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:56:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:56:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:56:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:56:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:56:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:56: }
2025-09-10T22:09:56: Media table query error: Error: D1_ERROR: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:56:     at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:125:19)
2025-09-10T22:09:56:     at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:56:     ... 7 lines matching cause stack trace ...
2025-09-10T22:09:56:     at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10) {
2025-09-10T22:09:56:   [cause]: Error: no such column: u.username at offset 112: SQLITE_ERROR
2025-09-10T22:09:56:       at D1DatabaseSessionAlwaysPrimary._sendOrThrow (cloudflare-internal:d1-api:126:24)
2025-09-10T22:09:56:       at async D1PreparedStatement.all (cloudflare-internal:d1-api:310:46)
2025-09-10T22:09:56:       at async onRequestGet (file:///home/user/webapp/functions/api/admin/media.js:43:27)
2025-09-10T22:09:56:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:56:       at async onRequest (file:///home/user/webapp/functions/_middleware.js:31:22)
2025-09-10T22:09:56:       at async next (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:161:22)
2025-09-10T22:09:56:       at async Object.fetch (file:///usr/lib/node_modules/wrangler/templates/pages-template-worker.ts:180:11)
2025-09-10T22:09:56:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:56:       at async drainBody (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts:5:10)
2025-09-10T22:09:56:       at async jsonError (file:///usr/lib/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts:22:10)
2025-09-10T22:09:56: }
2025-09-10T22:09:57: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-10T22:09:57: [wrangler:info] GET /api/admin/users 200 OK (29ms)
2025-09-10T22:14:48: ✨ Compiled Worker successfully
2025-09-10T22:14:48: ✨ Compiled Worker successfully
2025-09-10T22:14:48: ⎔ Reloading local server...
2025-09-10T22:14:48: ⎔ Reloading local server...
2025-09-10T22:15:01: ✨ Compiled Worker successfully
2025-09-10T22:15:01: ✨ Compiled Worker successfully
2025-09-10T22:15:01: ⎔ Reloading local server...
2025-09-10T22:15:01: ⎔ Reloading local server...
2025-09-10T22:15:07: ✨ Compiled Worker successfully
2025-09-10T22:15:07: ✨ Compiled Worker successfully
2025-09-10T22:15:07: ⎔ Reloading local server...
2025-09-10T22:15:07: ⎔ Reloading local server...
2025-09-10T22:15:17: ✨ Compiled Worker successfully
2025-09-10T22:15:17: ✨ Compiled Worker successfully
2025-09-10T22:15:17: ⎔ Reloading local server...
2025-09-10T22:15:17: ⎔ Reloading local server...
2025-09-10T22:15:26: ✨ Compiled Worker successfully
2025-09-10T22:15:26: ✨ Compiled Worker successfully
2025-09-10T22:15:26: ⎔ Reloading local server...
2025-09-10T22:15:26: ⎔ Reloading local server...
2025-09-10T22:15:31: ✨ Compiled Worker successfully
2025-09-10T22:15:31: ✨ Compiled Worker successfully
2025-09-10T22:15:31: ⎔ Reloading local server...
2025-09-10T22:15:31: ⎔ Reloading local server...
2025-09-10T22:15:38: ✨ Compiled Worker successfully
2025-09-10T22:15:38: ✨ Compiled Worker successfully
2025-09-10T22:15:39: ⎔ Reloading local server...
2025-09-10T22:15:39: ⎔ Reloading local server...
2025-09-10T22:18:36: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_19-19-32_239.log"
2025-09-10T22:18:36: 🪵  Logs were written to "/home/user/.config/.wrangler/logs/wrangler-2025-09-10_19-19-32_239.log"
